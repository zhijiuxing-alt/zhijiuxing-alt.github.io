{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u6b22\u8fce\u4f7f\u7528 OceanBase \u6587\u6863 OceanBase is an enterprise distributed relational database with high availability, high performance, horizontal scalability, and compatibility with SQL standards. \u5feb\u901f\u5f00\u59cb \u5feb\u901f\u5f00\u59cb","title":"Home"},{"location":"#oceanbase","text":"OceanBase is an enterprise distributed relational database with high availability, high performance, horizontal scalability, and compatibility with SQL standards.","title":"\u6b22\u8fce\u4f7f\u7528 OceanBase \u6587\u6863"},{"location":"#_1","text":"\u5feb\u901f\u5f00\u59cb","title":"\u5feb\u901f\u5f00\u59cb"},{"location":"circle/","text":"Circle A circle is a simple closed shape. It is the set of all points in a plane that are at a given distance from a given point, the centre; equivalently it is the curve traced out by a point that moves in a plane so that its distance from a given point is constant. The distance between any of the points and the centre is called the radius. This article is about circles in Euclidean geometry, and, in particular, the Euclidean plane, except where otherwise noted. Area of a circle $$ A = \\pi r^2 $$ $A$ = Area of circle $r$ = radius of the circle","title":"Circle"},{"location":"circle/#circle","text":"A circle is a simple closed shape. It is the set of all points in a plane that are at a given distance from a given point, the centre; equivalently it is the curve traced out by a point that moves in a plane so that its distance from a given point is constant. The distance between any of the points and the centre is called the radius. This article is about circles in Euclidean geometry, and, in particular, the Euclidean plane, except where otherwise noted.","title":"Circle"},{"location":"circle/#area-of-a-circle","text":"$$ A = \\pi r^2 $$ $A$ = Area of circle $r$ = radius of the circle","title":"Area of a circle"},{"location":"1.about-oceanbase-database/1.what-is-oceanbase/","text":"\u4ec0\u4e48\u662f OceanBase \u6570\u636e\u5e93 OceanBase \u6570\u636e\u5e93\u662f\u4e00\u4e2a\u91d1\u878d\u7ea7\u5206\u5e03\u5f0f\u5173\u7cfb\u6570\u636e\u5e93\uff0c\u63d0\u4f9b\u793e\u533a\u7248\u548c\u4f01\u4e1a\u7248\uff1a OceanBase \u6570\u636e\u5e93\u793e\u533a\u7248\u5305\u542b OceanBase \u7684\u6240\u6709\u6838\u5fc3\u529f\u80fd\uff0c\u6e90\u4ee3\u7801\u5b8c\u5168\u516c\u5f00\uff0c\u4e14\u4f7f\u7528\u514d\u8d39\u3002 OceanBase \u6570\u636e\u5e93\u4f01\u4e1a\u7248\u5728 OceanBase \u793e\u533a\u7248\u7684\u57fa\u7840\u4e0a\uff0c\u63d0\u4f9b\u66f4\u591a\u9ad8\u7ea7\u529f\u80fd\uff0c\u5982\u5546\u4e1a\u7279\u6027\u517c\u5bb9\u3001\u56fe\u5f62\u5316\u7ba1\u7406\u5de5\u5177\u3001\u64cd\u4f5c\u5ba1\u8ba1\u3001\u5b89\u5168\u52a0\u5bc6\u3001\u9ad8\u53ef\u7528\u6269\u5c55\u7b49\u3002\u5982\u679c\u60a8\u60f3\u4e86\u89e3 OceanBase \u4f01\u4e1a\u7248\u7684\u76f8\u5173\u529f\u80fd\uff0c\u8bf7\u53c2\u8003 OceanBase \u4f01\u4e1a\u7248\u6587\u6863 \u3002 \u672c\u624b\u518c\u4ec5\u9002\u7528\u4e8e OceanBase \u6570\u636e\u5e93\u793e\u533a\u7248\u3002 \u7279\u6027 OceanBase \u6570\u636e\u5e93\u5177\u6709\u5982\u4e0b\u7279\u6027\uff1a \u9ad8\u53ef\u7528 OceanBase \u6570\u636e\u5e93\u5c06\u6570\u636e\u4ee5\u591a\u526f\u672c\u7684\u65b9\u5f0f\u5b58\u50a8\u5728\u96c6\u7fa4\u7684\u5404\u4e2a\u8282\u70b9\uff0c\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u9ad8\u53ef\u7528\uff0c\u4fdd\u8bc1 RPO=0\uff0c\u751a\u81f3\u5f02\u5730\u591a\u6d3b\u3002\u5373\u4f7f\u5355\u4e2a\u8282\u70b9\u51fa\u73b0\u6545\u969c\u4e5f\u4e0d\u5f71\u54cd\u4e1a\u52a1\u3002\u591a\u526f\u672c\u80fd\u591f\u6ee1\u8db3\u4ece\u8282\u70b9\u3001\u673a\u67b6\u3001\u673a\u623f\u5230\u57ce\u5e02\u7ea7\u522b\u7684\u9ad8\u53ef\u7528\u3001\u5bb9\u707e\u8981\u6c42\uff0c\u5e76\u4e14\u514b\u670d\u4f20\u7edf\u6570\u636e\u5e93\u7684\u4e3b\u5907\u6a21\u5f0f\u5728\u4e3b\u8282\u70b9\u51fa\u73b0\u5f02\u5e38\u65f6 RPO>0 \u7684\u95ee\u9898\u3002 \u53ef\u6269\u5c55 OceanBase \u6570\u636e\u5e93\u5177\u6709\u6781\u5f3a\u7684\u53ef\u6269\u5c55\u6027\uff0c\u53ef\u4ee5\u5728\u7ebf\u8fdb\u884c\u5e73\u6ed1\u6269\u5bb9\u6216\u7f29\u5bb9\uff0c\u5728\u6269\u5bb9\u540e\u81ea\u52a8\u5b9e\u73b0\u7cfb\u7edf\u8d1f\u8f7d\u5747\u8861\u3002\u5e76\u4e14\u6269\u5bb9\u6216\u7f29\u5bb9\u8fc7\u7a0b\u5bf9\u5e94\u7528\u900f\u660e\u3002 \u4f4e\u6210\u672c OceanBase \u6570\u636e\u5e93\u53ef\u4ee5\u5728\u901a\u7528\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u7279\u5b9a\u7684\u9ad8\u7aef\u786c\u4ef6\uff0c\u80fd\u591f\u6709\u6548\u964d\u4f4e\u7528\u6237\u7684\u786c\u4ef6\u6210\u672c\u3002OceanBase \u6570\u636e\u5e93\u4f7f\u7528\u57fa\u4e8e LSM-Tree \u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u80fd\u591f\u6709\u6548\u5730\u5bf9\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff0c\u5e76\u4e14\u4e0d\u5f71\u54cd\u6027\u80fd\uff0c\u53ef\u4ee5\u964d\u4f4e\u7528\u6237\u7684\u5b58\u50a8\u6210\u672c\u3002 HTAP OceanBase \u6570\u636e\u5e93\u7684\u5206\u5e03\u5f0f\u5e76\u884c\u8ba1\u7b97\u5f15\u64ce\u5bf9 OLTP \u5e94\u7528\u548c OLAP \u5e94\u7528\u90fd\u8fdb\u884c\u4e86\u5f88\u597d\u7684\u4f18\u5316\uff0c\u5e76\u4e14\u652f\u6301\u8de8\u6570\u636e\u5e93\u8282\u70b9\u7684 DQL \u548c DML \u5e76\u53d1\u6267\u884c\uff0c\u771f\u6b63\u5b9e\u73b0\u4e86\u4e00\u5957\u8ba1\u7b97\u5f15\u64ce\u540c\u65f6\u652f\u6301\u6df7\u5408\u8d1f\u8f7d\u3002 \u517c\u5bb9\u6027 OceanBase \u6570\u636e\u5e93\u9ad8\u5ea6\u517c\u5bb9 MySQL \u6570\u636e\u5e93\u751f\u6001\u3002OceanBase \u6570\u636e\u5e93\u652f\u6301 MySQL 5.6 \u7248\u672c\u5168\u90e8\u8bed\u6cd5\uff0c\u53ef\u4ee5\u4e0e MySQL \u4e1a\u52a1\u65e0\u7f1d\u5207\u6362\u3002 \u591a\u79df\u6237 OceanBase \u6570\u636e\u5e93\u901a\u8fc7\u79df\u6237\u5b9e\u73b0\u8d44\u6e90\u9694\u79bb\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u670d\u52a1\u7684\u5b9e\u4f8b\u4e0d\u611f\u77e5\u5176\u4ed6\u5b9e\u4f8b\u7684\u5b58\u5728\uff0c\u5e76\u901a\u8fc7\u6743\u9650\u63a7\u5236\u786e\u4fdd\u4e0d\u540c\u79df\u6237\u6570\u636e\u7684\u5b89\u5168\u6027\u3002\u591a\u79df\u6237\u4e0e OceanBase \u6570\u636e\u5e93\u5f3a\u5927\u7684\u53ef\u6269\u5c55\u6027\u76f8\u7ed3\u5408\uff0c\u80fd\u591f\u63d0\u4f9b\u5b89\u5168\u3001\u7075\u6d3b\u7684 DBaaS \u670d\u52a1\u3002 \u8bb8\u53ef\u8bc1 OceanBase \u6570\u636e\u5e93\u793e\u533a\u7248\u5b8c\u5168\u5f00\u6e90\uff0c\u4f7f\u7528 MulanPubL - 2.0 \u8bb8\u53ef\u8bc1\uff0c\u60a8\u53ef\u4ee5\u514d\u8d39\u590d\u5236\u548c\u4f7f\u7528\u6e90\u4ee3\u7801\u3002\u5f53\u60a8\u4fee\u6539\u6216\u5206\u53d1\u6e90\u4ee3\u7801\u65f6\uff0c\u8bf7\u9075\u5b88\u6728\u5170\u534f\u8bae\u3002","title":"\u4ec0\u4e48\u662f OceanBase \u6570\u636e\u5e93"},{"location":"1.about-oceanbase-database/1.what-is-oceanbase/#oceanbase","text":"OceanBase \u6570\u636e\u5e93\u662f\u4e00\u4e2a\u91d1\u878d\u7ea7\u5206\u5e03\u5f0f\u5173\u7cfb\u6570\u636e\u5e93\uff0c\u63d0\u4f9b\u793e\u533a\u7248\u548c\u4f01\u4e1a\u7248\uff1a OceanBase \u6570\u636e\u5e93\u793e\u533a\u7248\u5305\u542b OceanBase \u7684\u6240\u6709\u6838\u5fc3\u529f\u80fd\uff0c\u6e90\u4ee3\u7801\u5b8c\u5168\u516c\u5f00\uff0c\u4e14\u4f7f\u7528\u514d\u8d39\u3002 OceanBase \u6570\u636e\u5e93\u4f01\u4e1a\u7248\u5728 OceanBase \u793e\u533a\u7248\u7684\u57fa\u7840\u4e0a\uff0c\u63d0\u4f9b\u66f4\u591a\u9ad8\u7ea7\u529f\u80fd\uff0c\u5982\u5546\u4e1a\u7279\u6027\u517c\u5bb9\u3001\u56fe\u5f62\u5316\u7ba1\u7406\u5de5\u5177\u3001\u64cd\u4f5c\u5ba1\u8ba1\u3001\u5b89\u5168\u52a0\u5bc6\u3001\u9ad8\u53ef\u7528\u6269\u5c55\u7b49\u3002\u5982\u679c\u60a8\u60f3\u4e86\u89e3 OceanBase \u4f01\u4e1a\u7248\u7684\u76f8\u5173\u529f\u80fd\uff0c\u8bf7\u53c2\u8003 OceanBase \u4f01\u4e1a\u7248\u6587\u6863 \u3002 \u672c\u624b\u518c\u4ec5\u9002\u7528\u4e8e OceanBase \u6570\u636e\u5e93\u793e\u533a\u7248\u3002","title":"\u4ec0\u4e48\u662f OceanBase \u6570\u636e\u5e93"},{"location":"1.about-oceanbase-database/1.what-is-oceanbase/#_1","text":"OceanBase \u6570\u636e\u5e93\u5177\u6709\u5982\u4e0b\u7279\u6027\uff1a \u9ad8\u53ef\u7528 OceanBase \u6570\u636e\u5e93\u5c06\u6570\u636e\u4ee5\u591a\u526f\u672c\u7684\u65b9\u5f0f\u5b58\u50a8\u5728\u96c6\u7fa4\u7684\u5404\u4e2a\u8282\u70b9\uff0c\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u9ad8\u53ef\u7528\uff0c\u4fdd\u8bc1 RPO=0\uff0c\u751a\u81f3\u5f02\u5730\u591a\u6d3b\u3002\u5373\u4f7f\u5355\u4e2a\u8282\u70b9\u51fa\u73b0\u6545\u969c\u4e5f\u4e0d\u5f71\u54cd\u4e1a\u52a1\u3002\u591a\u526f\u672c\u80fd\u591f\u6ee1\u8db3\u4ece\u8282\u70b9\u3001\u673a\u67b6\u3001\u673a\u623f\u5230\u57ce\u5e02\u7ea7\u522b\u7684\u9ad8\u53ef\u7528\u3001\u5bb9\u707e\u8981\u6c42\uff0c\u5e76\u4e14\u514b\u670d\u4f20\u7edf\u6570\u636e\u5e93\u7684\u4e3b\u5907\u6a21\u5f0f\u5728\u4e3b\u8282\u70b9\u51fa\u73b0\u5f02\u5e38\u65f6 RPO>0 \u7684\u95ee\u9898\u3002 \u53ef\u6269\u5c55 OceanBase \u6570\u636e\u5e93\u5177\u6709\u6781\u5f3a\u7684\u53ef\u6269\u5c55\u6027\uff0c\u53ef\u4ee5\u5728\u7ebf\u8fdb\u884c\u5e73\u6ed1\u6269\u5bb9\u6216\u7f29\u5bb9\uff0c\u5728\u6269\u5bb9\u540e\u81ea\u52a8\u5b9e\u73b0\u7cfb\u7edf\u8d1f\u8f7d\u5747\u8861\u3002\u5e76\u4e14\u6269\u5bb9\u6216\u7f29\u5bb9\u8fc7\u7a0b\u5bf9\u5e94\u7528\u900f\u660e\u3002 \u4f4e\u6210\u672c OceanBase \u6570\u636e\u5e93\u53ef\u4ee5\u5728\u901a\u7528\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u7279\u5b9a\u7684\u9ad8\u7aef\u786c\u4ef6\uff0c\u80fd\u591f\u6709\u6548\u964d\u4f4e\u7528\u6237\u7684\u786c\u4ef6\u6210\u672c\u3002OceanBase \u6570\u636e\u5e93\u4f7f\u7528\u57fa\u4e8e LSM-Tree \u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u80fd\u591f\u6709\u6548\u5730\u5bf9\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff0c\u5e76\u4e14\u4e0d\u5f71\u54cd\u6027\u80fd\uff0c\u53ef\u4ee5\u964d\u4f4e\u7528\u6237\u7684\u5b58\u50a8\u6210\u672c\u3002 HTAP OceanBase \u6570\u636e\u5e93\u7684\u5206\u5e03\u5f0f\u5e76\u884c\u8ba1\u7b97\u5f15\u64ce\u5bf9 OLTP \u5e94\u7528\u548c OLAP \u5e94\u7528\u90fd\u8fdb\u884c\u4e86\u5f88\u597d\u7684\u4f18\u5316\uff0c\u5e76\u4e14\u652f\u6301\u8de8\u6570\u636e\u5e93\u8282\u70b9\u7684 DQL \u548c DML \u5e76\u53d1\u6267\u884c\uff0c\u771f\u6b63\u5b9e\u73b0\u4e86\u4e00\u5957\u8ba1\u7b97\u5f15\u64ce\u540c\u65f6\u652f\u6301\u6df7\u5408\u8d1f\u8f7d\u3002 \u517c\u5bb9\u6027 OceanBase \u6570\u636e\u5e93\u9ad8\u5ea6\u517c\u5bb9 MySQL \u6570\u636e\u5e93\u751f\u6001\u3002OceanBase \u6570\u636e\u5e93\u652f\u6301 MySQL 5.6 \u7248\u672c\u5168\u90e8\u8bed\u6cd5\uff0c\u53ef\u4ee5\u4e0e MySQL \u4e1a\u52a1\u65e0\u7f1d\u5207\u6362\u3002 \u591a\u79df\u6237 OceanBase \u6570\u636e\u5e93\u901a\u8fc7\u79df\u6237\u5b9e\u73b0\u8d44\u6e90\u9694\u79bb\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u670d\u52a1\u7684\u5b9e\u4f8b\u4e0d\u611f\u77e5\u5176\u4ed6\u5b9e\u4f8b\u7684\u5b58\u5728\uff0c\u5e76\u901a\u8fc7\u6743\u9650\u63a7\u5236\u786e\u4fdd\u4e0d\u540c\u79df\u6237\u6570\u636e\u7684\u5b89\u5168\u6027\u3002\u591a\u79df\u6237\u4e0e OceanBase \u6570\u636e\u5e93\u5f3a\u5927\u7684\u53ef\u6269\u5c55\u6027\u76f8\u7ed3\u5408\uff0c\u80fd\u591f\u63d0\u4f9b\u5b89\u5168\u3001\u7075\u6d3b\u7684 DBaaS \u670d\u52a1\u3002","title":"\u7279\u6027"},{"location":"1.about-oceanbase-database/1.what-is-oceanbase/#_2","text":"OceanBase \u6570\u636e\u5e93\u793e\u533a\u7248\u5b8c\u5168\u5f00\u6e90\uff0c\u4f7f\u7528 MulanPubL - 2.0 \u8bb8\u53ef\u8bc1\uff0c\u60a8\u53ef\u4ee5\u514d\u8d39\u590d\u5236\u548c\u4f7f\u7528\u6e90\u4ee3\u7801\u3002\u5f53\u60a8\u4fee\u6539\u6216\u5206\u53d1\u6e90\u4ee3\u7801\u65f6\uff0c\u8bf7\u9075\u5b88\u6728\u5170\u534f\u8bae\u3002","title":"\u8bb8\u53ef\u8bc1"},{"location":"1.about-oceanbase-database/2.noun-interpretation/","text":"\u540d\u8bcd\u89e3\u91ca \u672c\u6587\u4ecb\u7ecd\u60a8\u5728\u4f7f\u7528 OceanBase \u6570\u636e\u5e93\u65f6\u53ef\u80fd\u9700\u8981\u4e86\u89e3\u7684\u540d\u8bcd\u89e3\u91ca\u3002 OceanBase \u6570\u636e\u5e93 \u8682\u8681\u96c6\u56e2\u5b8c\u5168\u81ea\u4e3b\u7814\u53d1\u7684\u91d1\u878d\u7ea7\u5206\u5e03\u5f0f\u5173\u7cfb\u6570\u636e\u5e93\u3002OceanBase \u6570\u636e\u5e93\u5177\u6709\u9ad8\u53ef\u7528\u3001\u53ef\u62d3\u5c55\u3001\u9ad8\u517c\u5bb9\u3001\u4f4e\u6210\u672c\u3001\u5f3a\u4e00\u81f4\u53ca\u9ad8\u6027\u80fd\u7b49\u7279\u70b9\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u4ec0\u4e48\u662f OceanBase \u6570\u636e\u5e93 \u3002 OceanBase Database Proxy OceanBase \u6570\u636e\u5e93\u4ee3\u7406\uff0c\u7b80\u79f0\u4e3a ODP\u3002ODP \u662f OceanBase \u6570\u636e\u5e93\u4e13\u7528\u7684\u8fde\u63a5\u4ee3\u7406\u8f6f\u4ef6\u3002ODP \u7684\u6838\u5fc3\u529f\u80fd\u5305\u62ec\uff1a\u4fdd\u8bc1\u6700\u4f73\u8def\u7531\uff0c\u907f\u514d\u5206\u5e03\u5f0f\u4e8b\u52a1\uff1b\u4fdd\u62a4 OceanBase \u6570\u636e\u5e93\u7684\u9ad8\u53ef\u7528\u80fd\u529b\uff0c\u5355\u53f0\u670d\u52a1\u5668\u6545\u969c\u4e0d\u5f71\u54cd\u5e94\u7528\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 ODP \u6587\u6863\u3002 OceanBase Deployer OceanBase \u5f00\u6e90\u8f6f\u4ef6\u7684\u5b89\u88c5\u90e8\u7f72\u5de5\u5177\uff0c\u7b80\u79f0\u4e3a OBD\u3002OBD \u540c\u65f6\u4e5f\u662f\u5305\u7ba1\u7406\u5668\uff0c\u53ef\u4ee5\u7528\u6765\u7ba1\u7406 OceanBase \u6240\u6709\u7684\u5f00\u6e90\u8f6f\u4ef6 \u3002","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"1.about-oceanbase-database/2.noun-interpretation/#_1","text":"\u672c\u6587\u4ecb\u7ecd\u60a8\u5728\u4f7f\u7528 OceanBase \u6570\u636e\u5e93\u65f6\u53ef\u80fd\u9700\u8981\u4e86\u89e3\u7684\u540d\u8bcd\u89e3\u91ca\u3002 OceanBase \u6570\u636e\u5e93 \u8682\u8681\u96c6\u56e2\u5b8c\u5168\u81ea\u4e3b\u7814\u53d1\u7684\u91d1\u878d\u7ea7\u5206\u5e03\u5f0f\u5173\u7cfb\u6570\u636e\u5e93\u3002OceanBase \u6570\u636e\u5e93\u5177\u6709\u9ad8\u53ef\u7528\u3001\u53ef\u62d3\u5c55\u3001\u9ad8\u517c\u5bb9\u3001\u4f4e\u6210\u672c\u3001\u5f3a\u4e00\u81f4\u53ca\u9ad8\u6027\u80fd\u7b49\u7279\u70b9\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u4ec0\u4e48\u662f OceanBase \u6570\u636e\u5e93 \u3002 OceanBase Database Proxy OceanBase \u6570\u636e\u5e93\u4ee3\u7406\uff0c\u7b80\u79f0\u4e3a ODP\u3002ODP \u662f OceanBase \u6570\u636e\u5e93\u4e13\u7528\u7684\u8fde\u63a5\u4ee3\u7406\u8f6f\u4ef6\u3002ODP \u7684\u6838\u5fc3\u529f\u80fd\u5305\u62ec\uff1a\u4fdd\u8bc1\u6700\u4f73\u8def\u7531\uff0c\u907f\u514d\u5206\u5e03\u5f0f\u4e8b\u52a1\uff1b\u4fdd\u62a4 OceanBase \u6570\u636e\u5e93\u7684\u9ad8\u53ef\u7528\u80fd\u529b\uff0c\u5355\u53f0\u670d\u52a1\u5668\u6545\u969c\u4e0d\u5f71\u54cd\u5e94\u7528\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 ODP \u6587\u6863\u3002 OceanBase Deployer OceanBase \u5f00\u6e90\u8f6f\u4ef6\u7684\u5b89\u88c5\u90e8\u7f72\u5de5\u5177\uff0c\u7b80\u79f0\u4e3a OBD\u3002OBD \u540c\u65f6\u4e5f\u662f\u5305\u7ba1\u7406\u5668\uff0c\u53ef\u4ee5\u7528\u6765\u7ba1\u7406 OceanBase \u6240\u6709\u7684\u5f00\u6e90\u8f6f\u4ef6 \u3002","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"15.community-contribution/15.1%20how-to-contribute/","text":"\u5982\u4f55\u8d21\u732e OceanBase \u6570\u636e\u5e93\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u9879\u76ee\u3002\u6b22\u8fce\u60a8\u8d21\u732e\u4ee3\u7801\u6216\u6587\u6863\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4e3a\u8be5\u9879\u76ee\u505a\u8d21\u732e\u3002 \u5f00\u59cb\u4e4b\u524d \u6b22\u8fce\u60a8\u4e3a OceanBase \u6570\u636e\u5e93\u8d21\u732e\u4ee3\u7801\u6216\u6587\u6863\u3002\u5728\u60a8\u5f00\u59cb\u8d21\u732e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u7b7e\u7f72\u8d21\u732e\u8005\u8bb8\u53ef\u534f\u8bae\uff08Contributor Licence Agreement\uff0c\u7b80\u79f0 CLA\uff09\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4ec0\u4e48\u662f CLA \u3002\u70b9\u51fb OceaBase CLA \uff0c\u70b9\u51fb Sign in with GitHub to agree \u6309\u94ae\u7b7e\u7f72\u534f\u8bae\u3002 \u8d21\u732e\u6307\u5357 \u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u63d0\u4ea4 Pull Request\uff08\u7b80\u79f0 PR\uff09\uff1a \u6ce8\u610f \u672c\u8282\u4ecb\u7ecd\u5982\u4f55\u4e3a master \u5206\u652f\u521b\u5efa PR\u3002\u4e3a\u5176\u4ed6\u5206\u652f\u521b\u5efa PR \u7684\u6b65\u9aa4\u4e0e\u6b64\u7c7b\u4f3c\u3002 \u6b65\u9aa4 1\uff1aFork \u9879\u76ee\u4ed3\u5e93 \u8bbf\u95ee\u9879\u76ee\u7684 GitHub \u5730\u5740 \u3002 \u70b9\u51fb Fork \u6309\u94ae\u521b\u5efa\u8fdc\u7a0b\u5206\u652f\u3002 \u6b65\u9aa42\uff1a\u514b\u9686\u5206\u652f\u5230\u672c\u5730 \u5b9a\u4e49\u5de5\u4f5c\u76ee\u5f55\u3002 # \u5b9a\u4e49\u5de5\u4f5c\u76ee\u5f55 working_dir=$HOME/Workspace \u914d\u7f6e GitHub \u7528\u6237\u540d\u3002 user={GitHub\u8d26\u6237\u540d} \u514b\u9686\u4ee3\u7801\u3002 # \u514b\u9686\u4ee3\u7801 mkdir -p $working_dir cd $working_dir git clone git@github.com:$user/oceanbase.git # \u6216: git clone https://github.com/$user/oceanbase.git # \u6dfb\u52a0\u4e0a\u6e38\u5206\u652f cd $working_dir/oceanbase git remote add upstream git@github.com:oceanbase/oceanbase.git # \u6216: git remote add upstream https://github.com/oceanbase/oceanbase.git # \u4e3a\u4e0a\u6e38\u5206\u652f\u8bbe\u7f6e no_push git remote set-url --push upstream no_push # \u786e\u8ba4\u8fdc\u7a0b\u5206\u652f\u6709\u6548 git remote -v \u6b65\u9aa4 3\uff1a\u521b\u5efa\u65b0\u5206\u652f \u66f4\u65b0\u672c\u5730 master \u5206\u652f\u3002 cd $working_dir/oceanbase git fetch upstream git checkoutmastergitrebase upstream/master \u57fa\u4e8e\u672c\u5730 master \u5206\u652f\u521b\u5efa\u65b0\u5206\u652f\u3002 git checkout -b new-branch-name \u6b65\u9aa4 4\uff1a\u5f00\u53d1 \u5728 new-branch-name \u4e0a\u5f00\u53d1\u5e76\u4fdd\u5b58\u66f4\u6539\u3002 \u6b65\u9aa4 5\uff1a\u63d0\u4ea4\u66f4\u6539 # \u68c0\u67e5\u672c\u5730\u6587\u4ef6\u72b6\u6001 git status # \u6dfb\u52a0\u60a8\u5e0c\u671b\u63d0\u4ea4\u7684\u6587\u4ef6 # \u5982\u679c\u60a8\u5e0c\u671b\u63d0\u4ea4\u6240\u6709\u66f4\u6539\uff0c\u76f4\u63a5\u4f7f\u7528 `git add .` git add <file> ... git commit -m \"commit-message: update the xx\" \u6b65\u9aa4 6\uff1a\u4fdd\u6301\u5f00\u53d1\u5206\u652f\u4e0e\u4e0a\u6e38\u5206\u652f\u540c\u6b65 # \u5728\u5f00\u53d1\u5206\u652f\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c git fetch upstream git rebase upstream/master \u6b65\u9aa4 7\uff1a\u63a8\u9001\u66f4\u6539\u81f3\u8fdc\u7a0b\u5206\u652f # \u5728\u5f00\u53d1\u5206\u652f\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c git push -u origin new-branch-name \u6b65\u9aa4 8\uff1a\u521b\u5efa PR \u8bbf\u95ee\u60a8 Fork \u7684\u4ed3\u5e93\u3002 \u5355\u51fb new-branch-name \u5206\u652f\u65c1\u7684 Compare & pull request \u6309\u94ae\u3002","title":"\u5982\u4f55\u8d21\u732e"},{"location":"15.community-contribution/15.1%20how-to-contribute/#_1","text":"OceanBase \u6570\u636e\u5e93\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u9879\u76ee\u3002\u6b22\u8fce\u60a8\u8d21\u732e\u4ee3\u7801\u6216\u6587\u6863\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4e3a\u8be5\u9879\u76ee\u505a\u8d21\u732e\u3002","title":"\u5982\u4f55\u8d21\u732e"},{"location":"15.community-contribution/15.1%20how-to-contribute/#_2","text":"\u6b22\u8fce\u60a8\u4e3a OceanBase \u6570\u636e\u5e93\u8d21\u732e\u4ee3\u7801\u6216\u6587\u6863\u3002\u5728\u60a8\u5f00\u59cb\u8d21\u732e\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u7b7e\u7f72\u8d21\u732e\u8005\u8bb8\u53ef\u534f\u8bae\uff08Contributor Licence Agreement\uff0c\u7b80\u79f0 CLA\uff09\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4ec0\u4e48\u662f CLA \u3002\u70b9\u51fb OceaBase CLA \uff0c\u70b9\u51fb Sign in with GitHub to agree \u6309\u94ae\u7b7e\u7f72\u534f\u8bae\u3002","title":"\u5f00\u59cb\u4e4b\u524d"},{"location":"15.community-contribution/15.1%20how-to-contribute/#_3","text":"\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u63d0\u4ea4 Pull Request\uff08\u7b80\u79f0 PR\uff09\uff1a \u6ce8\u610f \u672c\u8282\u4ecb\u7ecd\u5982\u4f55\u4e3a master \u5206\u652f\u521b\u5efa PR\u3002\u4e3a\u5176\u4ed6\u5206\u652f\u521b\u5efa PR \u7684\u6b65\u9aa4\u4e0e\u6b64\u7c7b\u4f3c\u3002 \u6b65\u9aa4 1\uff1aFork \u9879\u76ee\u4ed3\u5e93 \u8bbf\u95ee\u9879\u76ee\u7684 GitHub \u5730\u5740 \u3002 \u70b9\u51fb Fork \u6309\u94ae\u521b\u5efa\u8fdc\u7a0b\u5206\u652f\u3002 \u6b65\u9aa42\uff1a\u514b\u9686\u5206\u652f\u5230\u672c\u5730 \u5b9a\u4e49\u5de5\u4f5c\u76ee\u5f55\u3002 # \u5b9a\u4e49\u5de5\u4f5c\u76ee\u5f55 working_dir=$HOME/Workspace \u914d\u7f6e GitHub \u7528\u6237\u540d\u3002 user={GitHub\u8d26\u6237\u540d} \u514b\u9686\u4ee3\u7801\u3002 # \u514b\u9686\u4ee3\u7801 mkdir -p $working_dir cd $working_dir git clone git@github.com:$user/oceanbase.git # \u6216: git clone https://github.com/$user/oceanbase.git # \u6dfb\u52a0\u4e0a\u6e38\u5206\u652f cd $working_dir/oceanbase git remote add upstream git@github.com:oceanbase/oceanbase.git # \u6216: git remote add upstream https://github.com/oceanbase/oceanbase.git # \u4e3a\u4e0a\u6e38\u5206\u652f\u8bbe\u7f6e no_push git remote set-url --push upstream no_push # \u786e\u8ba4\u8fdc\u7a0b\u5206\u652f\u6709\u6548 git remote -v \u6b65\u9aa4 3\uff1a\u521b\u5efa\u65b0\u5206\u652f \u66f4\u65b0\u672c\u5730 master \u5206\u652f\u3002 cd $working_dir/oceanbase git fetch upstream git checkoutmastergitrebase upstream/master \u57fa\u4e8e\u672c\u5730 master \u5206\u652f\u521b\u5efa\u65b0\u5206\u652f\u3002 git checkout -b new-branch-name \u6b65\u9aa4 4\uff1a\u5f00\u53d1 \u5728 new-branch-name \u4e0a\u5f00\u53d1\u5e76\u4fdd\u5b58\u66f4\u6539\u3002 \u6b65\u9aa4 5\uff1a\u63d0\u4ea4\u66f4\u6539 # \u68c0\u67e5\u672c\u5730\u6587\u4ef6\u72b6\u6001 git status # \u6dfb\u52a0\u60a8\u5e0c\u671b\u63d0\u4ea4\u7684\u6587\u4ef6 # \u5982\u679c\u60a8\u5e0c\u671b\u63d0\u4ea4\u6240\u6709\u66f4\u6539\uff0c\u76f4\u63a5\u4f7f\u7528 `git add .` git add <file> ... git commit -m \"commit-message: update the xx\" \u6b65\u9aa4 6\uff1a\u4fdd\u6301\u5f00\u53d1\u5206\u652f\u4e0e\u4e0a\u6e38\u5206\u652f\u540c\u6b65 # \u5728\u5f00\u53d1\u5206\u652f\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c git fetch upstream git rebase upstream/master \u6b65\u9aa4 7\uff1a\u63a8\u9001\u66f4\u6539\u81f3\u8fdc\u7a0b\u5206\u652f # \u5728\u5f00\u53d1\u5206\u652f\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c git push -u origin new-branch-name \u6b65\u9aa4 8\uff1a\u521b\u5efa PR \u8bbf\u95ee\u60a8 Fork \u7684\u4ed3\u5e93\u3002 \u5355\u51fb new-branch-name \u5206\u652f\u65c1\u7684 Compare & pull request \u6309\u94ae\u3002","title":"\u8d21\u732e\u6307\u5357"},{"location":"15.community-contribution/15.2%20code-style/","text":"\u4ee3\u7801\u98ce\u683c \u672c\u6587\u6863\u4ecb\u7ecd OceanBase \u6570\u636e\u5e93\u7684\u4ee3\u7801\u98ce\u683c\u3002 OceanBase \u6570\u636e\u5e93\u4ee3\u7801\u98ce\u683c\uff0c\u53c2\u8003 OceanBase \u6570\u636e\u5e93\u4ee3\u7801\u89c4\u8303 \u3002","title":"15.2 code style"},{"location":"15.community-contribution/15.2%20code-style/#_1","text":"\u672c\u6587\u6863\u4ecb\u7ecd OceanBase \u6570\u636e\u5e93\u7684\u4ee3\u7801\u98ce\u683c\u3002 OceanBase \u6570\u636e\u5e93\u4ee3\u7801\u98ce\u683c\uff0c\u53c2\u8003 OceanBase \u6570\u636e\u5e93\u4ee3\u7801\u89c4\u8303 \u3002","title":"\u4ee3\u7801\u98ce\u683c"},{"location":"15.community-contribution/15.3%20pull-request-and-commit-specifications/","text":"Pull Request \u4e0e Commit \u4fe1\u606f\u89c4\u8303 \u672c\u6587\u4ecb\u7ecd Pull Request\uff08\u7b80\u79f0 PR\uff09\u548c Commit \u4fe1\u606f\u89c4\u8303\uff0c\u9002\u7528\u4e8e\u6240\u6709 OceanBase \u4ed3\u5e93\u3002 \u6240\u6709\u63d0\u4ea4\u81f3 OceanBase \u4ed3\u5e93\u7684 commit \u5747\u5fc5\u987b\u9075\u5faa\u4ee5\u4e0b\u51c6\u5219\u3002 Commit \u4fe1\u606f\u89c4\u8303 <type>(<scope>): <subject> // scope is optional, subject is must <body> // optional <footer> // optional \u672c\u8282\u53c2\u7167 AngularJS commit \u89c4\u5219 \u3002\u5176\u4e2d\uff0c <Type> \u63cf\u8ff0 Commit \u7c7b\u578b\u3002 <subject> \u662f\u7b80\u77ed\u7684 Commit \u63cf\u8ff0\u3002 \u5982\u9700\u6dfb\u52a0\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u6dfb\u52a0\u7a7a\u767d\u884c\uff0c\u7136\u540e\u4ee5\u6bb5\u843d\u7684\u683c\u5f0f\u8fdb\u884c\u6dfb\u52a0\u3002 Commit \u7c7b\u578b \u5e38\u89c1\u7684 Commit \u7c7b\u578b\u89c1\u4e0b\u8868\uff1a Commit \u7c7b\u578b \u8bf4\u660e Feature \u65b0\u529f\u80fd Fix \u4fee\u590d bug Doc \u6587\u6863 Style \u4ee3\u7801\u683c\u5f0f Refactor \u91cd\u6784 Test \u589e\u52a0\u6d4b\u8bd5 Chore \u6784\u5efa\u8fc7\u7a0b\u6216\u8f85\u52a9\u5de5\u5177\u7684\u53d8\u52a8 PR \u4fe1\u606f\u89c4\u8303 \u63d0\u4ea4 PR \u65f6\uff0c\u60a8\u9700\u8981\u5728\u6807\u9898\u4e2d\u5305\u542b\u6240\u6709\u66f4\u6539\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5e76\u786e\u4fdd\u6807\u9898\u7b80\u6d01\u3002\u60a8\u53ef\u4ee5\u4e0d\u4e3a\u7b80\u5355\u66f4\u6539\u6dfb\u52a0\u63cf\u8ff0\u3002\u5982\u679c PR \u6d89\u53ca\u590d\u6742\u66f4\u6539\uff0c\u8bf7\u5bf9\u66f4\u6539\u8fdb\u884c\u6982\u8ff0\u3002\u5982\u679c PR \u4fee\u590d\u4e86\u76f8\u5173 Issue\uff0c\u8bf7\u5c06 PR \u4e0e\u4e4b\u5173\u8054\u3002 PR \u6a21\u677f What changes were proposed in this pull request? Why are the changes needed? Does this PR introduce any user-facing change? How was this patch tested?","title":"15.3 pull request and commit specifications"},{"location":"15.community-contribution/15.3%20pull-request-and-commit-specifications/#pull-request-commit","text":"\u672c\u6587\u4ecb\u7ecd Pull Request\uff08\u7b80\u79f0 PR\uff09\u548c Commit \u4fe1\u606f\u89c4\u8303\uff0c\u9002\u7528\u4e8e\u6240\u6709 OceanBase \u4ed3\u5e93\u3002 \u6240\u6709\u63d0\u4ea4\u81f3 OceanBase \u4ed3\u5e93\u7684 commit \u5747\u5fc5\u987b\u9075\u5faa\u4ee5\u4e0b\u51c6\u5219\u3002","title":"Pull Request \u4e0e Commit \u4fe1\u606f\u89c4\u8303"},{"location":"15.community-contribution/15.3%20pull-request-and-commit-specifications/#commit","text":"<type>(<scope>): <subject> // scope is optional, subject is must <body> // optional <footer> // optional \u672c\u8282\u53c2\u7167 AngularJS commit \u89c4\u5219 \u3002\u5176\u4e2d\uff0c <Type> \u63cf\u8ff0 Commit \u7c7b\u578b\u3002 <subject> \u662f\u7b80\u77ed\u7684 Commit \u63cf\u8ff0\u3002 \u5982\u9700\u6dfb\u52a0\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u6dfb\u52a0\u7a7a\u767d\u884c\uff0c\u7136\u540e\u4ee5\u6bb5\u843d\u7684\u683c\u5f0f\u8fdb\u884c\u6dfb\u52a0\u3002 Commit \u7c7b\u578b \u5e38\u89c1\u7684 Commit \u7c7b\u578b\u89c1\u4e0b\u8868\uff1a Commit \u7c7b\u578b \u8bf4\u660e Feature \u65b0\u529f\u80fd Fix \u4fee\u590d bug Doc \u6587\u6863 Style \u4ee3\u7801\u683c\u5f0f Refactor \u91cd\u6784 Test \u589e\u52a0\u6d4b\u8bd5 Chore \u6784\u5efa\u8fc7\u7a0b\u6216\u8f85\u52a9\u5de5\u5177\u7684\u53d8\u52a8","title":"Commit \u4fe1\u606f\u89c4\u8303"},{"location":"15.community-contribution/15.3%20pull-request-and-commit-specifications/#pr","text":"\u63d0\u4ea4 PR \u65f6\uff0c\u60a8\u9700\u8981\u5728\u6807\u9898\u4e2d\u5305\u542b\u6240\u6709\u66f4\u6539\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5e76\u786e\u4fdd\u6807\u9898\u7b80\u6d01\u3002\u60a8\u53ef\u4ee5\u4e0d\u4e3a\u7b80\u5355\u66f4\u6539\u6dfb\u52a0\u63cf\u8ff0\u3002\u5982\u679c PR \u6d89\u53ca\u590d\u6742\u66f4\u6539\uff0c\u8bf7\u5bf9\u66f4\u6539\u8fdb\u884c\u6982\u8ff0\u3002\u5982\u679c PR \u4fee\u590d\u4e86\u76f8\u5173 Issue\uff0c\u8bf7\u5c06 PR \u4e0e\u4e4b\u5173\u8054\u3002 PR \u6a21\u677f What changes were proposed in this pull request? Why are the changes needed? Does this PR introduce any user-facing change? How was this patch tested?","title":"PR \u4fe1\u606f\u89c4\u8303"},{"location":"2.quickstart/1.quick-start-guide/","text":"\u5feb\u901f\u5165\u95e8\u6307\u5357 \u5feb\u901f\u5165\u95e8\u6307\u5357\u4ecb\u7ecd\u5982\u4f55\u5feb\u901f\u8bd5\u7528 OceanBase \u6570\u636e\u5e93\uff0c\u5305\u62ec\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u3001\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\uff0c\u4ee5\u53ca\u57fa\u672c\u64cd\u4f5c\u3002 \u5feb\u901f\u5165\u95e8\u6307\u5357\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a \u5b89\u88c5 OBD \u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 \u57fa\u672c\u64cd\u4f5c","title":"\u5feb\u901f\u5165\u95e8\u6307\u5357"},{"location":"2.quickstart/1.quick-start-guide/#_1","text":"\u5feb\u901f\u5165\u95e8\u6307\u5357\u4ecb\u7ecd\u5982\u4f55\u5feb\u901f\u8bd5\u7528 OceanBase \u6570\u636e\u5e93\uff0c\u5305\u62ec\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u3001\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\uff0c\u4ee5\u53ca\u57fa\u672c\u64cd\u4f5c\u3002 \u5feb\u901f\u5165\u95e8\u6307\u5357\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a \u5b89\u88c5 OBD \u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 \u57fa\u672c\u64cd\u4f5c","title":"\u5feb\u901f\u5165\u95e8\u6307\u5357"},{"location":"2.quickstart/2.deploy-an-oceanbase-database-by-using-docker/","text":"\u5728 CentOS7 \u955c\u50cf\u4e0a\u90e8\u7f72 OceanBase \u6570\u636e\u5e93 OceanBase \u6570\u636e\u5e93\u652f\u6301\u5728 CentOS7 \u4e0a\u8fd0\u884c\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5728 CentOS7 \u7684 Docker \u955c\u50cf\u4e0a\u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002 \u524d\u63d0\u6761\u4ef6 \u5728 CentOS7 \u7684 Docker \u955c\u50cf\u4e0a\u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u5df2\u7ecf\u5b89\u88c5\u4e86 Docker \u548c Git\u3002 Docker \u5b89\u88c5\u8be6\u60c5\uff0c\u53c2\u8003 Docker \u6587\u6863 \u3002 Git \u5b89\u88c5\u8be6\u60c5\uff0c\u53c2\u8003 Git \u6587\u6863 \u3002 \u60a8\u5df2\u7ecf\u542f\u52a8\u4e86 Docker\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u4e0b\u8f7d CentOS7 \u955c\u50cf\u5e76\u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002 \u62c9\u53d6 CentOS7 \u955c\u50cf\u3002 docker pull centos:7 docker run -d -i -t centos:7 /bin/bash docker exec -it /bin/bash \u6ce8\u610f \u60a8\u5fc5\u987b\u5c06 CONTAINER ID \u66ff\u6362\u4e3a\u60a8\u7684 centos:7 \u5bb9\u5668 ID\u3002 \u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002 yum install -y yum-utils yum-config-manager --add-repohttps://mirrors.aliyun.com/oceanbase/OceanBase.repo yum install -y ob-deploy source/etc/profile.d/obd.sh git clonehttps://github.com/oceanbase/obdeploy.git cd obdeploy obd cluster deploy c1 -c ./example/mini-local-example.yaml \u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u5feb\u901f\u4e0a\u624b \u3002 \u589e\u52a0 Docker \u5185\u5b58\u81f3 8G\u3002 \u8be6\u7ec6\u4fe1\u606f\uff0cMac \u7528\u6237\u53c2\u8003 Docker \u684c\u9762\u7248 Mac \u7528\u6237\u624b\u518c \uff0cWindow \u7528\u6237\u53c2\u8003 Docker \u684c\u9762\u7248 Windows \u7528\u6237\u624b\u518c \u3002 \u8fde\u63a5 OceanBase \u6570\u636e\u5e93\u3002 yum install -y obclient obd cluster start c1 obclient -h127.0.0.1 -P2881 -uroot \u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u5feb\u901f\u4e0a\u624b \u3002","title":"\u5728 CentOS7 \u955c\u50cf\u4e0a\u90e8\u7f72 OceanBase \u6570\u636e\u5e93"},{"location":"2.quickstart/2.deploy-an-oceanbase-database-by-using-docker/#centos7-oceanbase","text":"OceanBase \u6570\u636e\u5e93\u652f\u6301\u5728 CentOS7 \u4e0a\u8fd0\u884c\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5728 CentOS7 \u7684 Docker \u955c\u50cf\u4e0a\u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002","title":"\u5728 CentOS7 \u955c\u50cf\u4e0a\u90e8\u7f72 OceanBase \u6570\u636e\u5e93"},{"location":"2.quickstart/2.deploy-an-oceanbase-database-by-using-docker/#_1","text":"\u5728 CentOS7 \u7684 Docker \u955c\u50cf\u4e0a\u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u5df2\u7ecf\u5b89\u88c5\u4e86 Docker \u548c Git\u3002 Docker \u5b89\u88c5\u8be6\u60c5\uff0c\u53c2\u8003 Docker \u6587\u6863 \u3002 Git \u5b89\u88c5\u8be6\u60c5\uff0c\u53c2\u8003 Git \u6587\u6863 \u3002 \u60a8\u5df2\u7ecf\u542f\u52a8\u4e86 Docker\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"2.quickstart/2.deploy-an-oceanbase-database-by-using-docker/#_2","text":"\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u4e0b\u8f7d CentOS7 \u955c\u50cf\u5e76\u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002 \u62c9\u53d6 CentOS7 \u955c\u50cf\u3002 docker pull centos:7 docker run -d -i -t centos:7 /bin/bash docker exec -it /bin/bash \u6ce8\u610f \u60a8\u5fc5\u987b\u5c06 CONTAINER ID \u66ff\u6362\u4e3a\u60a8\u7684 centos:7 \u5bb9\u5668 ID\u3002 \u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002 yum install -y yum-utils yum-config-manager --add-repohttps://mirrors.aliyun.com/oceanbase/OceanBase.repo yum install -y ob-deploy source/etc/profile.d/obd.sh git clonehttps://github.com/oceanbase/obdeploy.git cd obdeploy obd cluster deploy c1 -c ./example/mini-local-example.yaml \u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u5feb\u901f\u4e0a\u624b \u3002 \u589e\u52a0 Docker \u5185\u5b58\u81f3 8G\u3002 \u8be6\u7ec6\u4fe1\u606f\uff0cMac \u7528\u6237\u53c2\u8003 Docker \u684c\u9762\u7248 Mac \u7528\u6237\u624b\u518c \uff0cWindow \u7528\u6237\u53c2\u8003 Docker \u684c\u9762\u7248 Windows \u7528\u6237\u624b\u518c \u3002 \u8fde\u63a5 OceanBase \u6570\u636e\u5e93\u3002 yum install -y obclient obd cluster start c1 obclient -h127.0.0.1 -P2881 -uroot \u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u5feb\u901f\u4e0a\u624b \u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"2.quickstart/3.use-obd-to-obtain-the-oceanbase-database/","text":"\u5b89\u88c5 OBD \u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5b89\u88c5 OceanBase \u90e8\u7f72\u5de5\u5177 OBD\u3002 \u83b7\u53d6 OceanBase \u6570\u636e\u5e93\u6700\u5feb\u7684\u65b9\u5f0f\u662f\u4f7f\u7528 OBD \u83b7\u53d6\uff0c\u56e0\u6b64\u63a8\u8350\u60a8\u4f7f\u7528\u6b64\u65b9\u5f0f\u4f53\u9a8c OceanBase \u6570\u636e\u5e93\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u83b7\u53d6 OceanBase \u6570\u636e\u5e93\uff1a \u4f7f\u7528\u6e90\u7801\u6784\u5efa OceanBase \u6570\u636e\u5e93 \u3002 \u4f7f\u7528 RPM \u5305\u5b89\u88c5 OceanBase \u6570\u636e\u5e93 \u3002 \u524d\u63d0\u6761\u4ef6 \u5728\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u5df2\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u6ee1\u8db3\u8f6f\u786c\u4ef6\u8981\u6c42\u3002\u8be6\u60c5\u53c2\u8003 \u8d44\u6e90\u51c6\u5907 \u3002 \u60a8\u7684\u673a\u5668\u53ef\u4ee5\u8fde\u63a5\u516c\u7f51\u3002 \u5982\u679c\u60a8\u7684\u673a\u5668\u4e0d\u80fd\u8fde\u63a5\u516c\u7f51\uff0c\u60a8\u9700\u8981 \u4f7f\u7528 RPM \u5305\u5b89\u88c5 OceanBase \u6570\u636e\u5e93 \u3002 \u83b7\u53d6 OBD \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u83b7\u53d6 OBD\uff1a \u901a\u8fc7\u7f16\u8bd1\u6e90\u7801\u83b7\u53d6\u3002\u8be6\u60c5\u53c2\u8003 OBD \u6587\u6863 \u3002 \u901a\u8fc7 RPM \u5b89\u88c5\u5305\u83b7\u53d6\u3002\u8be6\u60c5\u53c2\u8003 OBD \u6587\u6863 \u3002 \u5b89\u88c5 OBD \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5b89\u88c5 OBD\uff1a yum install -y ob-deploy-1.0.0-1.el7.x86_64.rpm source /etc/profile.d/obd.sh \u540e\u7eed\u64cd\u4f5c \u5982\u679c\u60a8\u7684\u673a\u5668\u53ef\u4ee5\u8fde\u63a5\u516c\u7f51\uff0c\u5728\u60a8\u6267\u884c\u4e86 obd cluster deploy \u547d\u4ee4\u4e4b\u540e\uff0cOBD \u5c06\u68c0\u67e5\u60a8\u7684\u76ee\u6807\u673a\u5668\u662f\u5426\u6709 OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305\u3002\u5982\u679c\u6ca1\u6709\u5b89\u88c5\u5305\uff0cOBD \u5c06\u81ea\u52a8\u4ece yum \u6e90\u83b7\u53d6\u3002\u8be6\u60c5\u53c2\u8003 \u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 \u3002","title":"\u5b89\u88c5 OBD"},{"location":"2.quickstart/3.use-obd-to-obtain-the-oceanbase-database/#obd","text":"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5b89\u88c5 OceanBase \u90e8\u7f72\u5de5\u5177 OBD\u3002 \u83b7\u53d6 OceanBase \u6570\u636e\u5e93\u6700\u5feb\u7684\u65b9\u5f0f\u662f\u4f7f\u7528 OBD \u83b7\u53d6\uff0c\u56e0\u6b64\u63a8\u8350\u60a8\u4f7f\u7528\u6b64\u65b9\u5f0f\u4f53\u9a8c OceanBase \u6570\u636e\u5e93\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u83b7\u53d6 OceanBase \u6570\u636e\u5e93\uff1a \u4f7f\u7528\u6e90\u7801\u6784\u5efa OceanBase \u6570\u636e\u5e93 \u3002 \u4f7f\u7528 RPM \u5305\u5b89\u88c5 OceanBase \u6570\u636e\u5e93 \u3002","title":"\u5b89\u88c5 OBD"},{"location":"2.quickstart/3.use-obd-to-obtain-the-oceanbase-database/#_1","text":"\u5728\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u5df2\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u6ee1\u8db3\u8f6f\u786c\u4ef6\u8981\u6c42\u3002\u8be6\u60c5\u53c2\u8003 \u8d44\u6e90\u51c6\u5907 \u3002 \u60a8\u7684\u673a\u5668\u53ef\u4ee5\u8fde\u63a5\u516c\u7f51\u3002 \u5982\u679c\u60a8\u7684\u673a\u5668\u4e0d\u80fd\u8fde\u63a5\u516c\u7f51\uff0c\u60a8\u9700\u8981 \u4f7f\u7528 RPM \u5305\u5b89\u88c5 OceanBase \u6570\u636e\u5e93 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"2.quickstart/3.use-obd-to-obtain-the-oceanbase-database/#obd_1","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u83b7\u53d6 OBD\uff1a \u901a\u8fc7\u7f16\u8bd1\u6e90\u7801\u83b7\u53d6\u3002\u8be6\u60c5\u53c2\u8003 OBD \u6587\u6863 \u3002 \u901a\u8fc7 RPM \u5b89\u88c5\u5305\u83b7\u53d6\u3002\u8be6\u60c5\u53c2\u8003 OBD \u6587\u6863 \u3002","title":"\u83b7\u53d6 OBD"},{"location":"2.quickstart/3.use-obd-to-obtain-the-oceanbase-database/#obd_2","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5b89\u88c5 OBD\uff1a yum install -y ob-deploy-1.0.0-1.el7.x86_64.rpm source /etc/profile.d/obd.sh","title":"\u5b89\u88c5 OBD"},{"location":"2.quickstart/3.use-obd-to-obtain-the-oceanbase-database/#_2","text":"\u5982\u679c\u60a8\u7684\u673a\u5668\u53ef\u4ee5\u8fde\u63a5\u516c\u7f51\uff0c\u5728\u60a8\u6267\u884c\u4e86 obd cluster deploy \u547d\u4ee4\u4e4b\u540e\uff0cOBD \u5c06\u68c0\u67e5\u60a8\u7684\u76ee\u6807\u673a\u5668\u662f\u5426\u6709 OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305\u3002\u5982\u679c\u6ca1\u6709\u5b89\u88c5\u5305\uff0cOBD \u5c06\u81ea\u52a8\u4ece yum \u6e90\u83b7\u53d6\u3002\u8be6\u60c5\u53c2\u8003 \u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"2.quickstart/4.deploy-the-oceanbase-database-by-using-obd/","text":"\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 \u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002 \u540d\u8bcd\u89e3\u91ca \u4e2d\u63a7\u673a\u5668 \u5b58\u50a8 OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305\u548c\u96c6\u7fa4\u914d\u7f6e\u4fe1\u606f\u7684\u673a\u5668\u3002 \u76ee\u6807\u673a\u5668 \u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u7684\u673a\u5668\u3002 \u524d\u63d0\u6761\u4ef6 \u5728\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\u4e4b\u524d\uff0c\u8bf7\u60a8\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u5df2\u7ecf\u5728\u4e2d\u63a7\u673a\u5668\u5b89\u88c5\u4e86 OBD\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u5b89\u88c5 OBD \u3002 \u60a8\u5df2\u7ecf\u5728\u76ee\u6807\u673a\u5668\u5b89\u88c5\u4e86 OceanBase \u6570\u636e\u5e93\u3002 \u60a8\u5df2\u7ecf\u5728\u4e2d\u63a7\u673a\u5668\u5b89\u88c5\u4e86 OceanBase \u6570\u636e\u5e93\u7684\u5ba2\u6237\u7aef OBClient\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 OBClient \u6587\u6863 \u3002 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 \u4ece GitHub \u4e0a\u4e0b\u8f7d\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u6a21\u677f\u3002 \u5982\u679c\u60a8\u91c7\u7528\u672c\u5730\u5b89\u88c5\uff0c\u5373\u4e2d\u63a7\u673a\u5668\u548c\u76ee\u6807\u673a\u5668\u662f\u540c\u4e00\u53f0\u673a\u5668\uff0c\u8bf7\u4e0b\u8f7d \u672c\u5730\u5b89\u88c5\u914d\u7f6e\u6587\u4ef6 \u3002 \u5982\u679c\u60a8\u91c7\u7528\u5355\u673a\u5b89\u88c5\uff0c\u5373\u4e2d\u63a7\u673a\u5668\u548c\u76ee\u6807\u673a\u5668\u4e0d\u662f\u540c\u4e00\u53f0\u673a\u5668\uff0c\u4e14\u76ee\u6807\u673a\u5668\u53ea\u6709\u4e00\u53f0\uff0c\u8bf7\u4e0b\u8f7d \u5355\u673a\u5b89\u88c5\u914d\u7f6e\u6587\u4ef6 \u3002 \u5982\u679c\u60a8\u91c7\u7528\u5206\u5e03\u5f0f\u5b89\u88c5\uff0c\u5373\u4e2d\u63a7\u673a\u5668\u548c\u76ee\u6807\u673a\u5668\u4e0d\u662f\u540c\u4e00\u53f0\u673a\u5668\uff0c\u4e14\u76ee\u6807\u673a\u5668\u6709\u591a\u53f0\uff0c\u8bf7\u4e0b\u8f7d \u5206\u5e03\u5f0f\u5b89\u88c5\u914d\u7f6e\u6587\u4ef6 \u3002 \u6ce8\u610f \u6b64\u5904\u4ee5\u672c\u5730\u5b89\u88c5\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5982\u4f55\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002\u60a8\u5fc5\u987b\u6309\u7167\u60a8\u7684\u5b89\u88c5\u65b9\u5f0f\u9009\u62e9\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u6a21\u677f\u3002 \u5728\u914d\u7f6e\u6587\u4ef6\u9876\u90e8\u6dfb\u52a0\u7528\u6237\u5bc6\u7801\u4fe1\u606f\u3002 user: username: <\u60a8\u7684\u8d26\u53f7\u540d> password: <\u60a8\u7684\u767b\u5f55\u5bc6\u7801> key_file: <\u60a8\u7684\u79c1\u94a5\u8def\u5f84> \u5176\u4e2d\uff0c username \u4e3a\u767b\u5f55\u5230\u76ee\u6807\u673a\u5668\u7684\u7528\u6237\u540d\uff0c\u786e\u4fdd\u60a8\u7684\u7528\u6237\u540d\u6709 observer \u8fdb\u7a0b\u5de5\u4f5c\u76ee\u5f55 home_path \u7684\u6743\u9650\u3002 \u6ce8\u610f \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ea\u80fd\u4f7f\u7528\u767b\u5f55\u5bc6\u7801\u6216\u8005\u79c1\u94a5\u767b\u5f55\u4e2d\u7684\u4e00\u79cd\u65b9\u5f0f\u76ee\u6807\u673a\u5668\u3002 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 IP \u5730\u5740\u3002 oceanbase-ce: servers: - name: z1 # Please don't use hostname, only IP can be supported ip: 11.166.80.01 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 devname \u53d8\u91cf\u548c home_path \u3002 oceanbase-ce: global: home_path: # Please set devname as the network adaptor's name whose ip is in the setting of severs. # if set severs as \"127.0.0.1\", please set devname as \"lo\" # if current ip is 192.168.1.10, and the ip's network adaptor's name is \"eth0\", please use \"eth0\" devname: bond0 \u6ce8\u610f \u60a8\u9700\u8981\u62e5\u6709 home_path \u76ee\u5f55\u7684\u6743\u9650\u3002 \u542f\u52a8 OceanBase \u6570\u636e\u5e93 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u90e8\u7f72\u96c6\u7fa4\uff1a obd cluster deploy -c \u5176\u4e2d\uff0c deploy_name \u4e3a\u96c6\u7fa4\u540d\u79f0\u3002\u4e00\u4e2a\u96c6\u7fa4\u53ea\u80fd\u6709\u4e00\u4e2a\u540d\u79f0\uff0c\u4e14\u96c6\u7fa4\u540d\u79f0\u4e0d\u80fd\u91cd\u590d\u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8\u96c6\u7fa4\uff1a obd cluster start \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u96c6\u7fa4\u72b6\u6001\uff1a obd cluster display \u8fde\u63a5 OceanBase \u6570\u636e\u5e93 \u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\uff1a \u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u5ba2\u6237\u7aef OBClient\uff1a \u5982\u60a8\u7684\u673a\u5668\u5df2\u6dfb\u52a0 OceanBase \u5b98\u65b9 YUM \u6e90\u4f5c\u4e3a\u8f6f\u4ef6\u6e90\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u76f4\u63a5\u5b89\u88c5\uff1a sudo yum install -y obclient \u5426\u5219\u60a8\u9700\u8981\u5728\u673a\u5668\u4e0a\u51c6\u5907\u597d\u79bb\u7ebf\u5b89\u88c5\u5305\uff0c\u5e76\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a sudo yum install -y libobclient-2.0.0-2.el7.x86_64.rpm sudo yum install -y obclient-2.0.0-2.el7.x86_64.rpm \u6ce8\u610f \u60a8\u5fc5\u987b\u9996\u5148\u4e0b\u8f7d OBClient \u7684\u4f9d\u8d56\u5305 LibOBClient\u3002\u793a\u4f8b\u4e2d\u7684\u5b89\u88c5\u5305\u53ef\u80fd\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\u5efa\u8bae\u60a8\u4e0b\u8f7d\u6700\u65b0\u7684\u5b89\u88c5\u5305\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4e0b\u8f7d\u4e2d\u5fc3 \u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4f7f\u7528 OBClient \u5ba2\u6237\u7aef\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\uff1a obclient -h -P -uroot \u5176\u4e2d\uff0c your_ip \u4e3a\u60a8 OceanBase \u5b9e\u4f8b\u6240\u5728\u7684\u673a\u5668 IP \u5730\u5740\u3002 observer \u9ed8\u8ba4\u4f7f\u7528\u7aef\u53e3 2881 \u8fde\u63a5 OBClient\u3002\u5982\u679c\u60a8\u5bf9\u7aef\u53e3\u505a\u4e86\u66f4\u6539\uff0c\u6b64\u5904\u4f7f\u7528\u60a8\u5b9e\u9645\u7684\u7aef\u53e3\u53f7\u3002 \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MySQL connection id is 3221546072 Server version: 5.7.25 OceanBase 3.1.0 (r1-) (Built Apr 7 2021 08:14:49) Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MySQL [(none)]> \uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u96c6\u7fa4 \u8fde\u63a5 OceanBase \u6570\u636e\u5e93\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u9a8c\u8bc1\u96c6\u7fa4\uff1a MySQL [oceanbase]> USE oceanbase; MySQL [oceanbase]> SELECT * FROM __all_server; \u8fd4\u56de\u4ee5\u4e0b\u7ed3\u679c\uff1a +----------------------------+----------------------------+---------------+----------+----+-------+------------+-----------------+--------+-----------------------+--------------------------------+-----------+--------------------+--------------+----------------+-------------------+ | gmt_create | gmt_modified | svr_ip | svr_port | id | zone | inner_port | with_rootserver | status | block_migrate_in_time | build_version | stop_time | start_service_time | first_sessid | with_partition | last_offline_time | +----------------------------+----------------------------+---------------+----------+----+-------+------------+-----------------+--------+-----------------------+--------------------------------+-----------+--------------------+--------------+----------------+-------------------+ | 2021-04-21 10:59:04.967158 | 2021-04-21 10:59:20.344774 | 11.166.80.01 | 2882 | 1 | zone1 | 2881 | 1 | active | 0 | 3.1.0_1-(Apr 7 2021 08:14:49) | 0 | 1618973957346877 | 0 | 1 | 0 | | 2021-04-21 10:59:04.956632 | 2021-04-21 10:59:20.223340 | 11.166.80.02 | 2882 | 2 | zone2 | 2881 | 0 | active | 0 | 3.1.0_1-(Apr 7 2021 08:14:49) | 0 | 1618973958225270 | 0 | 1 | 0 | | 2021-04-21 10:59:03.956853 | 2021-04-21 10:59:22.415147 | 11.166.81.103 | 2882 | 3 | zone3 | 2881 | 0 | active | 0 | 3.1.0_1-(Apr 7 2021 08:14:49) | 0 | 1618973958416271 | 0 | 1 | 0 | +----------------------------+----------------------------+---------------+----------+----+-------+------------+-----------------+--------+-----------------------+--------------------------------+-----------+--------------------+--------------+----------------+-------------------+ 3 rows in set (0.00 sec) \u4ee5\u4e0a\u8fd4\u56de\u7ed3\u679c\u8bf4\u660e\u96c6\u7fa4\u90e8\u7f72\u6210\u529f\u3002","title":"\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93"},{"location":"2.quickstart/4.deploy-the-oceanbase-database-by-using-obd/#obd-oceanbase","text":"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002","title":"\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93"},{"location":"2.quickstart/4.deploy-the-oceanbase-database-by-using-obd/#_1","text":"\u4e2d\u63a7\u673a\u5668 \u5b58\u50a8 OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305\u548c\u96c6\u7fa4\u914d\u7f6e\u4fe1\u606f\u7684\u673a\u5668\u3002 \u76ee\u6807\u673a\u5668 \u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u7684\u673a\u5668\u3002","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"2.quickstart/4.deploy-the-oceanbase-database-by-using-obd/#_2","text":"\u5728\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\u4e4b\u524d\uff0c\u8bf7\u60a8\u786e\u8ba4\u4ee5\u4e0b\u4fe1\u606f\uff1a \u60a8\u5df2\u7ecf\u5728\u4e2d\u63a7\u673a\u5668\u5b89\u88c5\u4e86 OBD\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u5b89\u88c5 OBD \u3002 \u60a8\u5df2\u7ecf\u5728\u76ee\u6807\u673a\u5668\u5b89\u88c5\u4e86 OceanBase \u6570\u636e\u5e93\u3002 \u60a8\u5df2\u7ecf\u5728\u4e2d\u63a7\u673a\u5668\u5b89\u88c5\u4e86 OceanBase \u6570\u636e\u5e93\u7684\u5ba2\u6237\u7aef OBClient\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 OBClient \u6587\u6863 \u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"2.quickstart/4.deploy-the-oceanbase-database-by-using-obd/#_3","text":"\u4ece GitHub \u4e0a\u4e0b\u8f7d\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u6a21\u677f\u3002 \u5982\u679c\u60a8\u91c7\u7528\u672c\u5730\u5b89\u88c5\uff0c\u5373\u4e2d\u63a7\u673a\u5668\u548c\u76ee\u6807\u673a\u5668\u662f\u540c\u4e00\u53f0\u673a\u5668\uff0c\u8bf7\u4e0b\u8f7d \u672c\u5730\u5b89\u88c5\u914d\u7f6e\u6587\u4ef6 \u3002 \u5982\u679c\u60a8\u91c7\u7528\u5355\u673a\u5b89\u88c5\uff0c\u5373\u4e2d\u63a7\u673a\u5668\u548c\u76ee\u6807\u673a\u5668\u4e0d\u662f\u540c\u4e00\u53f0\u673a\u5668\uff0c\u4e14\u76ee\u6807\u673a\u5668\u53ea\u6709\u4e00\u53f0\uff0c\u8bf7\u4e0b\u8f7d \u5355\u673a\u5b89\u88c5\u914d\u7f6e\u6587\u4ef6 \u3002 \u5982\u679c\u60a8\u91c7\u7528\u5206\u5e03\u5f0f\u5b89\u88c5\uff0c\u5373\u4e2d\u63a7\u673a\u5668\u548c\u76ee\u6807\u673a\u5668\u4e0d\u662f\u540c\u4e00\u53f0\u673a\u5668\uff0c\u4e14\u76ee\u6807\u673a\u5668\u6709\u591a\u53f0\uff0c\u8bf7\u4e0b\u8f7d \u5206\u5e03\u5f0f\u5b89\u88c5\u914d\u7f6e\u6587\u4ef6 \u3002 \u6ce8\u610f \u6b64\u5904\u4ee5\u672c\u5730\u5b89\u88c5\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5982\u4f55\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002\u60a8\u5fc5\u987b\u6309\u7167\u60a8\u7684\u5b89\u88c5\u65b9\u5f0f\u9009\u62e9\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u6a21\u677f\u3002 \u5728\u914d\u7f6e\u6587\u4ef6\u9876\u90e8\u6dfb\u52a0\u7528\u6237\u5bc6\u7801\u4fe1\u606f\u3002 user: username: <\u60a8\u7684\u8d26\u53f7\u540d> password: <\u60a8\u7684\u767b\u5f55\u5bc6\u7801> key_file: <\u60a8\u7684\u79c1\u94a5\u8def\u5f84> \u5176\u4e2d\uff0c username \u4e3a\u767b\u5f55\u5230\u76ee\u6807\u673a\u5668\u7684\u7528\u6237\u540d\uff0c\u786e\u4fdd\u60a8\u7684\u7528\u6237\u540d\u6709 observer \u8fdb\u7a0b\u5de5\u4f5c\u76ee\u5f55 home_path \u7684\u6743\u9650\u3002 \u6ce8\u610f \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ea\u80fd\u4f7f\u7528\u767b\u5f55\u5bc6\u7801\u6216\u8005\u79c1\u94a5\u767b\u5f55\u4e2d\u7684\u4e00\u79cd\u65b9\u5f0f\u76ee\u6807\u673a\u5668\u3002 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 IP \u5730\u5740\u3002 oceanbase-ce: servers: - name: z1 # Please don't use hostname, only IP can be supported ip: 11.166.80.01 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 devname \u53d8\u91cf\u548c home_path \u3002 oceanbase-ce: global: home_path: # Please set devname as the network adaptor's name whose ip is in the setting of severs. # if set severs as \"127.0.0.1\", please set devname as \"lo\" # if current ip is 192.168.1.10, and the ip's network adaptor's name is \"eth0\", please use \"eth0\" devname: bond0 \u6ce8\u610f \u60a8\u9700\u8981\u62e5\u6709 home_path \u76ee\u5f55\u7684\u6743\u9650\u3002","title":"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"2.quickstart/4.deploy-the-oceanbase-database-by-using-obd/#oceanbase","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u90e8\u7f72\u96c6\u7fa4\uff1a obd cluster deploy -c \u5176\u4e2d\uff0c deploy_name \u4e3a\u96c6\u7fa4\u540d\u79f0\u3002\u4e00\u4e2a\u96c6\u7fa4\u53ea\u80fd\u6709\u4e00\u4e2a\u540d\u79f0\uff0c\u4e14\u96c6\u7fa4\u540d\u79f0\u4e0d\u80fd\u91cd\u590d\u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8\u96c6\u7fa4\uff1a obd cluster start \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u96c6\u7fa4\u72b6\u6001\uff1a obd cluster display","title":"\u542f\u52a8 OceanBase \u6570\u636e\u5e93"},{"location":"2.quickstart/4.deploy-the-oceanbase-database-by-using-obd/#oceanbase_1","text":"\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\uff1a \u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u5ba2\u6237\u7aef OBClient\uff1a \u5982\u60a8\u7684\u673a\u5668\u5df2\u6dfb\u52a0 OceanBase \u5b98\u65b9 YUM \u6e90\u4f5c\u4e3a\u8f6f\u4ef6\u6e90\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u76f4\u63a5\u5b89\u88c5\uff1a sudo yum install -y obclient \u5426\u5219\u60a8\u9700\u8981\u5728\u673a\u5668\u4e0a\u51c6\u5907\u597d\u79bb\u7ebf\u5b89\u88c5\u5305\uff0c\u5e76\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a sudo yum install -y libobclient-2.0.0-2.el7.x86_64.rpm sudo yum install -y obclient-2.0.0-2.el7.x86_64.rpm \u6ce8\u610f \u60a8\u5fc5\u987b\u9996\u5148\u4e0b\u8f7d OBClient \u7684\u4f9d\u8d56\u5305 LibOBClient\u3002\u793a\u4f8b\u4e2d\u7684\u5b89\u88c5\u5305\u53ef\u80fd\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\u5efa\u8bae\u60a8\u4e0b\u8f7d\u6700\u65b0\u7684\u5b89\u88c5\u5305\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u4e0b\u8f7d\u4e2d\u5fc3 \u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4f7f\u7528 OBClient \u5ba2\u6237\u7aef\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\uff1a obclient -h -P -uroot \u5176\u4e2d\uff0c your_ip \u4e3a\u60a8 OceanBase \u5b9e\u4f8b\u6240\u5728\u7684\u673a\u5668 IP \u5730\u5740\u3002 observer \u9ed8\u8ba4\u4f7f\u7528\u7aef\u53e3 2881 \u8fde\u63a5 OBClient\u3002\u5982\u679c\u60a8\u5bf9\u7aef\u53e3\u505a\u4e86\u66f4\u6539\uff0c\u6b64\u5904\u4f7f\u7528\u60a8\u5b9e\u9645\u7684\u7aef\u53e3\u53f7\u3002 \u8fd4\u56de\u4ee5\u4e0b\u4fe1\u606f\uff1a Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MySQL connection id is 3221546072 Server version: 5.7.25 OceanBase 3.1.0 (r1-) (Built Apr 7 2021 08:14:49) Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MySQL [(none)]>","title":"\u8fde\u63a5 OceanBase \u6570\u636e\u5e93"},{"location":"2.quickstart/4.deploy-the-oceanbase-database-by-using-obd/#_4","text":"\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u9a8c\u8bc1\u96c6\u7fa4\uff1a MySQL [oceanbase]> USE oceanbase; MySQL [oceanbase]> SELECT * FROM __all_server; \u8fd4\u56de\u4ee5\u4e0b\u7ed3\u679c\uff1a +----------------------------+----------------------------+---------------+----------+----+-------+------------+-----------------+--------+-----------------------+--------------------------------+-----------+--------------------+--------------+----------------+-------------------+ | gmt_create | gmt_modified | svr_ip | svr_port | id | zone | inner_port | with_rootserver | status | block_migrate_in_time | build_version | stop_time | start_service_time | first_sessid | with_partition | last_offline_time | +----------------------------+----------------------------+---------------+----------+----+-------+------------+-----------------+--------+-----------------------+--------------------------------+-----------+--------------------+--------------+----------------+-------------------+ | 2021-04-21 10:59:04.967158 | 2021-04-21 10:59:20.344774 | 11.166.80.01 | 2882 | 1 | zone1 | 2881 | 1 | active | 0 | 3.1.0_1-(Apr 7 2021 08:14:49) | 0 | 1618973957346877 | 0 | 1 | 0 | | 2021-04-21 10:59:04.956632 | 2021-04-21 10:59:20.223340 | 11.166.80.02 | 2882 | 2 | zone2 | 2881 | 0 | active | 0 | 3.1.0_1-(Apr 7 2021 08:14:49) | 0 | 1618973958225270 | 0 | 1 | 0 | | 2021-04-21 10:59:03.956853 | 2021-04-21 10:59:22.415147 | 11.166.81.103 | 2882 | 3 | zone3 | 2881 | 0 | active | 0 | 3.1.0_1-(Apr 7 2021 08:14:49) | 0 | 1618973958416271 | 0 | 1 | 0 | +----------------------------+----------------------------+---------------+----------+----+-------+------------+-----------------+--------+-----------------------+--------------------------------+-----------+--------------------+--------------+----------------+-------------------+ 3 rows in set (0.00 sec) \u4ee5\u4e0a\u8fd4\u56de\u7ed3\u679c\u8bf4\u660e\u96c6\u7fa4\u90e8\u7f72\u6210\u529f\u3002","title":"\uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u96c6\u7fa4"},{"location":"2.quickstart/5.sgco3g/","text":"OceanBase \u6570\u636e\u5e93\u901a\u7528\u95ee\u9898\u6392\u67e5\u65b9\u6cd5 OceanBase \u6570\u636e\u5e93\u95ee\u9898\u6392\u67e5\u4e3b\u8981\u4f9d\u8d56\u8fdb\u7a0b\u65e5\u5fd7\u3001\u5185\u90e8\u8868\u4ee5\u53ca\u4ee3\u7801\u7684\u6267\u884c\u6d41\u7a0b\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u901a\u8fc7\u8fdb\u7a0b\u65e5\u5fd7\u548c\u5185\u90e8\u8868\u6392\u67e5 OceanBase \u6570\u636e\u5e93\u7684\u901a\u7528\u95ee\u9898\u3002 \u8fdb\u7a0b\u65e5\u5fd7 \u7531\u4e8e\u5185\u90e8\u8868\u7684\u529f\u80fd\u9488\u5bf9\u6027\u8f83\u5f3a\uff0c\u5bf9\u4e8e\u4e0d\u660e\u786e\u7684\u95ee\u9898\uff0c\u6211\u4eec\u63a8\u8350\u60a8\u4f18\u5148\u4f7f\u7528\u8fdb\u7a0b\u65e5\u5fd7\u6392\u67e5\u95ee\u9898\u3002 OceanBase \u6570\u636e\u5e93\u7684\u8fdb\u7a0b\u65e5\u5fd7\u5206\u4e3a observer.log \u3001 rootservice.log \u548c election.log \u3002\u5176\u4e2d election.log \u8bb0\u5f55\u9009\u4e3e\u76f8\u5173\u65e5\u5fd7\uff0c rootservice.log \u8bb0\u5f55 rootservice \u6a21\u5757\u7684\u65e5\u5fd7\uff0c observer.log \u8bb0\u5f55\u901a\u7528\u65e5\u5fd7\u3002{#uf4c4f767} \u65e5\u5fd7\u5185\u5bb9\u683c\u5f0f OceanBase \u6570\u636e\u5e93\u7684\u8fdb\u7a0b\u65e5\u5fd7\u683c\u5f0f\u5982\u4e0b\uff1a [2021-06-11 16:30:02.372655] ERROR [BOOTSTRAP] bootstrap (ob_service.cpp:2656) [32075][428][YB420A27C94E-0005C47950223003] [lt=3] [dc=0] failed to prepare boot strap(rs_list=[region:\"sys_region\", zone:\"z1\", server:\"127.0.0.1:2882\", region:\"sys_region\", zone:\"z2\", server:\"127.0.0.2:2882\", region:\"sys_region\", zone:\"z3\", server:\"127.0.0.3:2882\"], ret=-4012) BACKTRACE:0x90a107e 0x90090c1 0x24d1eef 0x24d1b3b 0x24d1900 0x66678b1 0x882bb40 0x8912d74 0x91c24f8 0x8a5d45f 0x8a5d08d 0x8a5841f 0x8a5770d 0x8a57b17 0x2a55b14 0x8ebc475 0x8eb9e4e 0x8eb46ef \u5176\u4e2d\uff0c [2021-06-11 16:30:02.372655] \u662f\u65f6\u95f4\u6233\u3002 ERROR \u662f\u65e5\u5fd7\u7ea7\u522b\u3002\u65e5\u5fd7\u7ea7\u522b\u6709 INFO \u3001 WARN \u3001 TRACE \u548c DEBUG \u3002 [BOOTSTRAP] \u662f\u6a21\u5757\u540d\u79f0\uff0c\u5176\u4ed6\u6a21\u5757\u8fd8\u6709 SQL\u3001STORAGE\u3001COMMON \u7b49\u3002 bootstrap \u662f\u51fd\u6570\u540d\u3002 ob_service.cpp:2656 \u662f\u6587\u4ef6\u540d\u548c\u884c\u53f7\u3002 [32075] \u662f\u7ebf\u7a0b ID\u3002 [428] \u662f\u534f\u7a0b\u7f16\u53f7\u3002 [YB420A27C94E-0005C47950223003] \u662f trace_id \uff0c\u540c\u4e00\u4e2a\u8bf7\u6c42\u643a\u5e26\u540c\u4e00\u4e2a trace_id \u3002 [lt=3] \u662f\u65e5\u5fd7\u524d\u7aef\u683c\u5f0f\u5316\u65f6\u95f4\uff0c\u901a\u5e38\u65e0\u610f\u4e49\u3002 [dc=0] \u65e0\u610f\u4e49\u3002 failed to prepare boot strap \u53ca\u4e4b\u540e\u5185\u5bb9\u662f\u65e5\u5fd7\u7684\u5177\u4f53\u5185\u5bb9\u3002 ret=-4012 \u8868\u793a\u9519\u8bef\u7801\u4e3a -4012\uff0c-4012 \u7684\u8bed\u4e49\u662f OB_TIMEOUT \uff0c\u53ef\u4ee5\u901a\u8fc7 ob_errno.h \u67e5\u8be2\u3002 BACKTRACE \u662f\u8c03\u7528\u6808\u7684\u5730\u5740\uff0c\u53ef\u4ee5\u901a\u8fc7 addr2line \u7b49\u5de5\u5177\u89e3\u6790\u51fd\u6570\u7684\u8c03\u7528\u6808\u3002 \u65e5\u5fd7\u540d\u79f0\u683c\u5f0f \u8fdb\u7a0b\u65e5\u5fd7\u540d\u79f0\u540e\u7f00\u4e2d\u7684\u6570\u5b57\u8868\u793a\u8be5\u65e5\u5fd7\u6587\u4ef6\u4e2d\u6700\u540e\u4e00\u6761\u65e5\u5fd7\u7684\u65f6\u95f4\u6233\u3002\u4f8b\u5982\uff0c observer.log.20210617143216 \u540e\u7f00\u4e2d\u7684 20210617143216 \u8868\u793a\u8be5\u6587\u4ef6\u6700\u540e\u4e00\u6761\u65e5\u5fd7\u7684\u65f6\u95f4\u6233\u662f 2021-06-17 14:32:16 \u3002 \u5e26\u6709 wf \u540e\u7f00\u7684\u6587\u4ef6\u53ea\u8bb0\u5f55 WARN \u53ca\u4ee5\u4e0a\u7ea7\u522b\u7684\u65e5\u5fd7\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879 enable_syslog_wf \u5173\u95ed wf \u65e5\u5fd7\u3002 \u66f4\u591a\u65e5\u5fd7\u6587\u4ef6\u7684\u914d\u7f6e\u9879\u8bf7\u901a\u8fc7 sys \u79df\u6237\u6267\u884c show parameters like '%syslog%' \u547d\u4ee4\u67e5\u770b\u3002 TRACE \u80fd\u529b OceanBase \u6570\u636e\u5e93\u6253\u5370\u8fdb\u7a0b\u65e5\u5fd7\u65f6\u4f1a\u643a\u5e26 trace_id \uff0c\u4e00\u4e2a\u8bf7\u6c42\u6267\u884c\u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\u90fd\u4f1a\u643a\u5e26\u540c\u4e00\u4e2a trace_id \uff0c\u56e0\u6b64\u5728\u8fdb\u7a0b\u65e5\u5fd7\u4e2d\u641c\u7d22 trace_id \u53ef\u4ee5\u62ff\u5230\u4e00\u4e2a\u8bf7\u6c42\u7684\u5168\u90e8\u6267\u884c\u8fc7\u7a0b\u3002 last_trace_id \u4f7f\u7528 select last_trace_id(); \u8bed\u53e5\u53ef\u4ee5\u76f4\u63a5\u67e5\u770b\u4e0a\u4e00\u6761\u8bed\u53e5\u7684\u6267\u884c\u8282\u70b9\u548c trace_id \uff0c\u7136\u540e\u5728\u65e5\u5fd7\u4e2d\u8fd0\u884c grep \u547d\u4ee4\u67e5\u627e\u76f8\u5173\u4fe1\u606f\u3002 obclient> SELECT last_trace_id(); +--------------------------------------------------------+ | last_trace_id() | +--------------------------------------------------------+ | 127.0.0.1:2882, TraceId: YB427F000001-0005C4DB8B546938 | +--------------------------------------------------------+ 1 row in set (0.01 sec) grep \"YB427F000001-0005C4DB8B546938\" observer.log trace_log OceanBase \u6570\u636e\u5e93\u652f\u6301\u6267\u884c\u8bf7\u6c42\u65f6\u6253\u5f00 trace_log \u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u6253\u5f00 trace_log \uff1a \u901a\u8fc7 Hint \u4e2d\u7684 trace_log \u5b57\u6bb5\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ea\u5bf9\u643a\u5e26 Hint \u7684\u5f53\u524d\u8bed\u53e5\u751f\u6548\u3002\u4f7f\u7528 Hint \u8981\u6c42 OBClient \u5728\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\u65f6\u643a\u5e26 -c \u9009\u9879\uff0c\u5426\u5219 Hint \u4f1a\u88ab\u5ffd\u7565\u3002\u66f4\u591a Hint \u64cd\u4f5c\uff0c\u53c2\u8003 Optimizer Hint \u3002 \u901a\u8fc7 Session \u53d8\u91cf ob_enable_trace_log \uff0c\u8fd9\u79cd\u65b9\u5f0f\u5bf9\u8fd9\u4e2a Session \u7684\u540e\u7eed\u6240\u6709\u8bed\u53e5\u751f\u6548\u3002 \u6253\u5f00 trace_log \u540e\uff0c\u901a\u8fc7 SHOW TRACE \u8bed\u53e5\u53ef\u4ee5\u62ff\u5230\u4e0a\u4e00\u6b21\u7684 trace_log \uff0c\u4ece\u800c\u83b7\u53d6 trace_id \u3002\u540c\u65f6 SHOW TRACE \u8fd8\u53ef\u4ee5\u770b\u5230\u8fd9\u6761\u8bf7\u6c42\u5927\u81f4\u7684\u6027\u80fd\u7edf\u8ba1\u3002 obclient> SHOW TRACE; +------------------------------+----------------------------------------------------------------------------+------+ | Title | KeyValue | Time | +------------------------------+----------------------------------------------------------------------------+------+ | process begin | in_queue_time:12, receive_ts:1623988240448815, enqueue_ts:1623988240448816 | 0 | | query begin | trace_id:YC1E64586A5D-0005C4C77E56FA98 | 2 | | parse begin | stmt:\"select count(*) from t1\", stmt_len:23 | 49 | | pc get plan begin | | 7 | | pc get plan end | | 18 | | transform_with_outline begin | | 2 | | transform_with_outline end | | 45 | | resolve begin | | 22 | | resolve end | | 130 | | transform begin | | 40 | | transform end | | 138 | | optimizer begin | | 2 | | get location cache begin | | 96 | | get location cache end | | 108 | | optimizer end | | 272 | | cg begin | | 0 | | cg end | | 984 | | execution begin | arg1:false, end_trans_cb:false | 78 | | do open plan begin | plan_id:197 | 29 | | sql start stmt begin | | 1 | | sql start stmt end | | 1 | | execute plan begin | | 0 | | execute plan end | | 9 | | sql start participant begin | | 0 | | sql start participant end | | 1 | | do open plan end | | 0 | | table scan begin | | 11 | | table scan end | | 42 | | start_close_plan begin | | 1344 | | start_end_participant begin | | 13 | | start_end_participant end | | 1 | | start_close_plan end | | 1 | | start_auto_end_plan begin | | 2 | | start_auto_end_plan end | | 1 | | execution end | | 2 | | query end | | 52 | | NULL | PHY_SCALAR_AGGREGATE | | | t1 | PHY_TABLE_SCAN | | +------------------------------+----------------------------------------------------------------------------+------+ 38 rows in set (0.01 sec) \u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\uff1a # \u8bed\u53e5\u7ea7 obclient> SELECT /*+ trace_log=on */c1 FROM t1 LIMIT 2; obclient> SHOW TRACE; # Session \u7ea7 obclient> SET ob_enable_trace_log = 'ON'; obclient> SELECT COUNT(*) FROM t1; obclient> SHOW TRACE; \u6839\u636e\u7ebf\u7a0b ID \u641c\u7d22\u65e5\u5fd7 \u5982\u679c\u60a8\u672a\u627e\u5230\u6709\u6548\u7684 trace_id \uff0c\u6216\u8005 OceanBase \u6570\u636e\u5e93\u7684\u67d0\u4e9b\u540e\u53f0\u7ebf\u7a0b\u672a\u8bbe\u7f6e trace_id \uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u7ebf\u7a0b ID \u641c\u7d22\u65e5\u5fd7\u3002\u4f8b\u5982\uff1a grep -F \"[32075]\" observer.log \u5185\u90e8\u8868 OceanBase \u6570\u636e\u5e93\u7684\u5185\u90e8\u8868\u6bd4\u8f83\u591a\uff0c\u672c\u8282\u4ec5\u4ecb\u7ecd\u90e8\u5206\u5e38\u89c1\u7684\u901a\u7528\u8868\uff0c\u5176\u4ed6\u7c7b\u578b\u7684\u5185\u90e8\u8868\uff08\u4f8b\u5982\u96c6\u7fa4\u7ba1\u63a7\u3001\u6027\u80fd\u89c6\u56fe\u3001\u8fc1\u79fb\u590d\u5236\u3001\u5408\u5e76\u8f6c\u50a8\u7b49\uff09\u53c2\u8003 \u7cfb\u7edf\u89c6\u56fe \u3002 \u672c\u6587\u4e2d\u7684\u5185\u90e8\u8868\u9ed8\u8ba4\u662f root \u7528\u6237\u5728 sys \u79df\u6237\u7684 OceanBase \u6570\u636e\u5e93\u4e2d\u53ef\u89c1\u7684\u8868\uff08\u8fde\u63a5\u4e32\u793a\u4f8b\uff1a obclient -u root@sys -D oceanbase \uff09\uff0c\u4e0b\u6587\u4e0d\u518d\u6307\u5b9a\u6570\u636e\u5e93\u540d\u79f0\u3002 \u8868\u7684\u57fa\u7840\u4fe1\u606f \u60a8\u53ef\u4ee5\u901a\u8fc7\u7cfb\u7edf\u79df\u6237\u7684 __all_virtual_table \u8868\u53ef\u4ee5\u83b7\u53d6 table_id \u3001 table_name \u7b49\u57fa\u672c\u4fe1\u606f\u3002 obclient> DESCRIBE __all_virtual_table; +--------------------------------------+---------------------+------+-----+----------------+-------+ | Field | Type | Null | Key | Default | Extra | +--------------------------------------+---------------------+------+-----+----------------+-------+ | tenant_id | bigint(20) | NO | PRI | NULL | | | table_id | bigint(20) | NO | PRI | NULL | | | gmt_create | timestamp(6) | NO | | NULL | | | gmt_modified | timestamp(6) | NO | | NULL | | | table_name | varchar(256) | NO | | | | | database_id | bigint(20) | NO | | NULL | | | table_type | bigint(20) | NO | | NULL | | | load_type | bigint(20) | NO | | NULL | | | def_type | bigint(20) | NO | | NULL | | | rowkey_column_num | bigint(20) | NO | | NULL | | | index_column_num | bigint(20) | NO | | NULL | | | max_used_column_id | bigint(20) | NO | | NULL | | | replica_num | bigint(20) | NO | | NULL | | | autoinc_column_id | bigint(20) | NO | | NULL | | | auto_increment | bigint(20) unsigned | YES | | 1 | | | read_only | bigint(20) | NO | | NULL | | | rowkey_split_pos | bigint(20) | NO | | NULL | | | compress_func_name | varchar(128) | NO | | NULL | | | expire_condition | varchar(4096) | NO | | NULL | | | is_use_bloomfilter | bigint(20) | NO | | NULL | | | comment | varchar(4096) | NO | | | | | block_size | bigint(20) | NO | | NULL | | | collation_type | bigint(20) | NO | | NULL | | | data_table_id | bigint(20) | YES | | NULL | | | index_status | bigint(20) | NO | | NULL | | | tablegroup_id | bigint(20) | NO | | NULL | | | progressive_merge_num | bigint(20) | NO | | NULL | | | index_type | bigint(20) | NO | | NULL | | | part_level | bigint(20) | NO | | NULL | | | part_func_type | bigint(20) | NO | | NULL | | | part_func_expr | varchar(4096) | NO | | NULL | | | part_num | bigint(20) | NO | | NULL | | | sub_part_func_type | bigint(20) | NO | | NULL | | | sub_part_func_expr | varchar(4096) | NO | | NULL | | | sub_part_num | bigint(20) | NO | | NULL | | | create_mem_version | bigint(20) | NO | | NULL | | | schema_version | bigint(20) | NO | | NULL | | | view_definition | longtext | NO | | NULL | | | view_check_option | bigint(20) | NO | | NULL | | | view_is_updatable | bigint(20) | NO | | NULL | | | zone_list | varchar(8192) | NO | | NULL | | | primary_zone | varchar(128) | YES | | NULL | | | index_using_type | bigint(20) | NO | | 0 | | | parser_name | varchar(128) | YES | | NULL | | | index_attributes_set | bigint(20) | YES | | 0 | | | locality | varchar(4096) | NO | | | | | tablet_size | bigint(20) | NO | | 134217728 | | | pctfree | bigint(20) | NO | | 10 | | | previous_locality | varchar(4096) | NO | | | | | max_used_part_id | bigint(20) | NO | | -1 | | | partition_cnt_within_partition_table | bigint(20) | NO | | -1 | | | partition_status | bigint(20) | YES | | 0 | | | partition_schema_version | bigint(20) | YES | | 0 | | | max_used_constraint_id | bigint(20) | YES | | NULL | | | session_id | bigint(20) | YES | | 0 | | | pk_comment | varchar(4096) | NO | | | | | sess_active_time | bigint(20) | YES | | 0 | | | row_store_type | varchar(128) | YES | | FLAT_ROW_STORE | | | store_format | varchar(128) | YES | | | | | duplicate_scope | bigint(20) | YES | | 0 | | | binding | tinyint(4) | YES | | 0 | | | progressive_merge_round | bigint(20) | YES | | 0 | | | storage_format_version | bigint(20) | YES | | 2 | | | table_mode | bigint(20) | NO | | 0 | | | encryption | varchar(128) | YES | | | | | tablespace_id | bigint(20) | NO | | -1 | | | drop_schema_version | bigint(20) | NO | | -1 | | | is_sub_part_template | tinyint(4) | NO | | 1 | | | dop | bigint(20) | NO | | 1 | | | character_set_client | bigint(20) | NO | | 0 | | | collation_connection | bigint(20) | NO | | 0 | | | auto_part_size | bigint(20) | NO | | -1 | | | auto_part | tinyint(4) | NO | | 0 | | +--------------------------------------+---------------------+------+-----+----------------+-------+ 73 rows in set (0.00 sec) Location \u4fe1\u606f OceanBase \u6570\u636e\u5e93\u662f\u5206\u5e03\u5f0f\u6570\u636e\u5e93\uff0c\u4e0e\u4f20\u7edf\u6570\u636e\u5e93\u76f8\u6bd4\uff0c\u9700\u8981 Location \u4fe1\u606f\u6765\u5b9a\u4f4d\u5904\u7406\u8bf7\u6c42\u7684\u5177\u4f53\u8282\u70b9\u3002OceanBase \u6570\u636e\u5e93\u4f7f\u7528 Paxos \u534f\u8bae\u505a\u526f\u672c\u540c\u6b65\uff0c\u5bf9\u4e8e DML \u8bf7\u6c42\u548c Read Latest \u7c7b\u578b\u7684\u67e5\u8be2\uff0c\u90fd\u4f1a\u8def\u7531\u5230\u76ee\u6807\u5206\u533a\u7684 Leader \u8282\u70b9\u5904\u7406\u3002 Location \u4fe1\u606f\u5206\u4e3a\u4e09\u7ea7\uff0c\u5373\u6838\u5fc3\u8868 __all_core_table \uff08\u7cfb\u7edf\u79df\u6237\u7684 1 \u53f7\u8868\uff09\u7684\u4f4d\u7f6e\uff0c\u7cfb\u7edf\u8868\u7684\u4f4d\u7f6e\uff0c\u666e\u901a\u8868\u7684\u4f4d\u7f6e\u3002location \u4fe1\u606f\u76f8\u5173\u7684\u5185\u90e8\u8868\u4e2d\uff0c role \u5b57\u6bb5\u4e3a 1 \u8868\u793a Leader\uff0c2 \u8868\u793a Follower\u3002 \u6838\u5fc3\u8868\u7684\u4f4d\u7f6e\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7\u7cfb\u7edf\u79df\u6237\u7684 __all_virtual_core_meta_table \u8868\u6765\u67e5\u8be2\uff0c\u6838\u5fc3\u8868\u6240\u5728\u7684 OceanBase \u6570\u636e\u5e93\u8282\u70b9\u662f rootserver\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u901a\u8fc7 __all_server \u8868\u7684 with_rootserver \u5b57\u6bb5\u627e\u5230\u6838\u5fc3\u8868 Leader \u7684\u4f4d\u7f6e\u3002 \u7cfb\u7edf\u8868\u7684\u4f4d\u7f6e\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7\u7cfb\u7edf\u79df\u6237\u7684 __all_root_table \u67e5\u8be2\u3002 \u666e\u901a\u8868\u7684\u4f4d\u7f6e\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7 meta_table \u8868\u67e5\u8be2\uff0c\u5bf9\u4e8e\u7cfb\u7edf\u79df\u6237\uff0c\u53ef\u4ee5\u67e5\u8be2 __all_virtual_meta_table \u3002\u5bf9\u4e8e\u666e\u901a\u79df\u6237\uff0c\u53ef\u4ee5\u67e5\u8be2 __all_tenant_meta_table \u3002 sql_audit OceanBase \u6570\u636e\u5e93\u652f\u6301 SQL \u76d1\u63a7\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879 enable_sql_audit \uff08\u9ed8\u8ba4\u6253\u5f00\uff09\u548c Session \u53d8\u91cf ob_enable_sql_audit \uff08\u9ed8\u8ba4\u6253\u5f00\uff09\u63a7\u5236\u3002\u76d1\u63a7\u4fe1\u606f\u5b58\u50a8\u5728 gv$sql_audit \u89c6\u56fe\u4e2d\u3002\u60a8\u901a\u8fc7 query_sql \u7b49\u5b57\u6bb5\u641c\u7d22\u76ee\u6807 SQL \u8bed\u53e5\u7684\u76d1\u63a7\u8bb0\u5f55\u83b7\u53d6 trace_id \u3001\u6267\u884c\u65f6\u95f4\u3001\u8fd4\u56de\u884c\u6570\u7b49\u4fe1\u606f\u3002 sql_audit \u8868\u7684\u5bb9\u91cf\u6709\u9650\uff0c\u65e9\u671f\u7684\u8bb0\u5f55\u53ef\u80fd\u4f1a\u88ab\u540e\u6765\u7684\u8bf7\u6c42\u8986\u76d6\uff0c sql_audit \u8868\u7684\u5bb9\u91cf\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879 sql_audit_queue_size \u3001 sql_audit_memory_limit \u4ee5\u53ca Session \u53d8\u91cf ob_sql_audit_percentage \u8bbe\u7f6e\u3002 obclient> select * from gv$sql_audit where query_sql like 'select count(*) from t1%'\\G *************************** 1. row *************************** SVR_IP: 127.0.0.1 SVR_PORT: 3102 REQUEST_ID: 20 SQL_EXEC_ID: 12803933 TRACE_ID: YC1E64586A5D-0005C4C77E56FA98 SID: 3221639668 CLIENT_IP: 127.0.0.1 CLIENT_PORT: 38101 TENANT_ID: 1001 TENANT_NAME: my_tenant EFFECTIVE_TENANT_ID: 1001 USER_ID: 1100611139404777 USER_NAME: my_user USER_GROUP: 0 USER_CLIENT_IP: 127.0.0.1 DB_ID: 1100611139404776 DB_NAME: test SQL_ID: 69AE2D9E3BF106CE009F93EFAF925EC8 QUERY_SQL: select count(*) from t1 PLAN_ID: 197 AFFECTED_ROWS: 0 RETURN_ROWS: 1 PARTITION_CNT: 1 RET_CODE: 0 QC_ID: 0 DFO_ID: 0 SQC_ID: 0 WORKER_ID: 0 EVENT: system internal wait P1TEXT: P1: 0 P2TEXT: P2: 0 P3TEXT: P3: 0 LEVEL: 0 WAIT_CLASS_ID: 100 WAIT_CLASS#: 0 WAIT_CLASS: OTHER STATE: MAX_WAIT TIME ZERO WAIT_TIME_MICRO: 0 TOTAL_WAIT_TIME_MICRO: 0 TOTAL_WAITS: 0 RPC_COUNT: 0 PLAN_TYPE: 1 IS_INNER_SQL: 0 IS_EXECUTOR_RPC: 0 IS_HIT_PLAN: 0 REQUEST_TIME: 1623988240448815 ELAPSED_TIME: 3465 NET_TIME: 0 NET_WAIT_TIME: 0 QUEUE_TIME: 20 DECODE_TIME: 1 GET_PLAN_TIME: 1960 EXECUTE_TIME: 1460 APPLICATION_WAIT_TIME: 0 CONCURRENCY_WAIT_TIME: 0 USER_IO_WAIT_TIME: 0 SCHEDULE_TIME: 0 ROW_CACHE_HIT: 0 BLOOM_FILTER_CACHE_HIT: 0 BLOCK_CACHE_HIT: 0 BLOCK_INDEX_CACHE_HIT: 0 DISK_READS: 0 RETRY_CNT: 0 TABLE_SCAN: 1 CONSISTENCY_LEVEL: 3 MEMSTORE_READ_ROW_COUNT: 1 SSSTORE_READ_ROW_COUNT: 0 REQUEST_MEMORY_USED: 2096128 EXPECTED_WORKER_COUNT: 0 USED_WORKER_COUNT: 0 SCHED_INFO: FUSE_ROW_CACHE_HIT: 0 PS_STMT_ID: 0 TRANSACTION_HASH: 0 REQUEST_TYPE: 2 IS_BATCHED_MULTI_STMT: 0 OB_TRACE_INFO: PLAN_HASH: 2598000370345801882 LOCK_FOR_READ_TIME: 0 WAIT_TRX_MIGRATE_TIME: 0 1 row in set (0.65 sec)","title":"OceanBase \u6570\u636e\u5e93\u901a\u7528\u95ee\u9898\u6392\u67e5\u65b9\u6cd5"},{"location":"2.quickstart/5.sgco3g/#oceanbase","text":"OceanBase \u6570\u636e\u5e93\u95ee\u9898\u6392\u67e5\u4e3b\u8981\u4f9d\u8d56\u8fdb\u7a0b\u65e5\u5fd7\u3001\u5185\u90e8\u8868\u4ee5\u53ca\u4ee3\u7801\u7684\u6267\u884c\u6d41\u7a0b\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u901a\u8fc7\u8fdb\u7a0b\u65e5\u5fd7\u548c\u5185\u90e8\u8868\u6392\u67e5 OceanBase \u6570\u636e\u5e93\u7684\u901a\u7528\u95ee\u9898\u3002","title":"OceanBase \u6570\u636e\u5e93\u901a\u7528\u95ee\u9898\u6392\u67e5\u65b9\u6cd5"},{"location":"2.quickstart/5.sgco3g/#_1","text":"\u7531\u4e8e\u5185\u90e8\u8868\u7684\u529f\u80fd\u9488\u5bf9\u6027\u8f83\u5f3a\uff0c\u5bf9\u4e8e\u4e0d\u660e\u786e\u7684\u95ee\u9898\uff0c\u6211\u4eec\u63a8\u8350\u60a8\u4f18\u5148\u4f7f\u7528\u8fdb\u7a0b\u65e5\u5fd7\u6392\u67e5\u95ee\u9898\u3002 OceanBase \u6570\u636e\u5e93\u7684\u8fdb\u7a0b\u65e5\u5fd7\u5206\u4e3a observer.log \u3001 rootservice.log \u548c election.log \u3002\u5176\u4e2d election.log \u8bb0\u5f55\u9009\u4e3e\u76f8\u5173\u65e5\u5fd7\uff0c rootservice.log \u8bb0\u5f55 rootservice \u6a21\u5757\u7684\u65e5\u5fd7\uff0c observer.log \u8bb0\u5f55\u901a\u7528\u65e5\u5fd7\u3002{#uf4c4f767}","title":"\u8fdb\u7a0b\u65e5\u5fd7"},{"location":"2.quickstart/5.sgco3g/#_2","text":"OceanBase \u6570\u636e\u5e93\u7684\u8fdb\u7a0b\u65e5\u5fd7\u683c\u5f0f\u5982\u4e0b\uff1a [2021-06-11 16:30:02.372655] ERROR [BOOTSTRAP] bootstrap (ob_service.cpp:2656) [32075][428][YB420A27C94E-0005C47950223003] [lt=3] [dc=0] failed to prepare boot strap(rs_list=[region:\"sys_region\", zone:\"z1\", server:\"127.0.0.1:2882\", region:\"sys_region\", zone:\"z2\", server:\"127.0.0.2:2882\", region:\"sys_region\", zone:\"z3\", server:\"127.0.0.3:2882\"], ret=-4012) BACKTRACE:0x90a107e 0x90090c1 0x24d1eef 0x24d1b3b 0x24d1900 0x66678b1 0x882bb40 0x8912d74 0x91c24f8 0x8a5d45f 0x8a5d08d 0x8a5841f 0x8a5770d 0x8a57b17 0x2a55b14 0x8ebc475 0x8eb9e4e 0x8eb46ef \u5176\u4e2d\uff0c [2021-06-11 16:30:02.372655] \u662f\u65f6\u95f4\u6233\u3002 ERROR \u662f\u65e5\u5fd7\u7ea7\u522b\u3002\u65e5\u5fd7\u7ea7\u522b\u6709 INFO \u3001 WARN \u3001 TRACE \u548c DEBUG \u3002 [BOOTSTRAP] \u662f\u6a21\u5757\u540d\u79f0\uff0c\u5176\u4ed6\u6a21\u5757\u8fd8\u6709 SQL\u3001STORAGE\u3001COMMON \u7b49\u3002 bootstrap \u662f\u51fd\u6570\u540d\u3002 ob_service.cpp:2656 \u662f\u6587\u4ef6\u540d\u548c\u884c\u53f7\u3002 [32075] \u662f\u7ebf\u7a0b ID\u3002 [428] \u662f\u534f\u7a0b\u7f16\u53f7\u3002 [YB420A27C94E-0005C47950223003] \u662f trace_id \uff0c\u540c\u4e00\u4e2a\u8bf7\u6c42\u643a\u5e26\u540c\u4e00\u4e2a trace_id \u3002 [lt=3] \u662f\u65e5\u5fd7\u524d\u7aef\u683c\u5f0f\u5316\u65f6\u95f4\uff0c\u901a\u5e38\u65e0\u610f\u4e49\u3002 [dc=0] \u65e0\u610f\u4e49\u3002 failed to prepare boot strap \u53ca\u4e4b\u540e\u5185\u5bb9\u662f\u65e5\u5fd7\u7684\u5177\u4f53\u5185\u5bb9\u3002 ret=-4012 \u8868\u793a\u9519\u8bef\u7801\u4e3a -4012\uff0c-4012 \u7684\u8bed\u4e49\u662f OB_TIMEOUT \uff0c\u53ef\u4ee5\u901a\u8fc7 ob_errno.h \u67e5\u8be2\u3002 BACKTRACE \u662f\u8c03\u7528\u6808\u7684\u5730\u5740\uff0c\u53ef\u4ee5\u901a\u8fc7 addr2line \u7b49\u5de5\u5177\u89e3\u6790\u51fd\u6570\u7684\u8c03\u7528\u6808\u3002","title":"\u65e5\u5fd7\u5185\u5bb9\u683c\u5f0f"},{"location":"2.quickstart/5.sgco3g/#_3","text":"\u8fdb\u7a0b\u65e5\u5fd7\u540d\u79f0\u540e\u7f00\u4e2d\u7684\u6570\u5b57\u8868\u793a\u8be5\u65e5\u5fd7\u6587\u4ef6\u4e2d\u6700\u540e\u4e00\u6761\u65e5\u5fd7\u7684\u65f6\u95f4\u6233\u3002\u4f8b\u5982\uff0c observer.log.20210617143216 \u540e\u7f00\u4e2d\u7684 20210617143216 \u8868\u793a\u8be5\u6587\u4ef6\u6700\u540e\u4e00\u6761\u65e5\u5fd7\u7684\u65f6\u95f4\u6233\u662f 2021-06-17 14:32:16 \u3002 \u5e26\u6709 wf \u540e\u7f00\u7684\u6587\u4ef6\u53ea\u8bb0\u5f55 WARN \u53ca\u4ee5\u4e0a\u7ea7\u522b\u7684\u65e5\u5fd7\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879 enable_syslog_wf \u5173\u95ed wf \u65e5\u5fd7\u3002 \u66f4\u591a\u65e5\u5fd7\u6587\u4ef6\u7684\u914d\u7f6e\u9879\u8bf7\u901a\u8fc7 sys \u79df\u6237\u6267\u884c show parameters like '%syslog%' \u547d\u4ee4\u67e5\u770b\u3002","title":"\u65e5\u5fd7\u540d\u79f0\u683c\u5f0f"},{"location":"2.quickstart/5.sgco3g/#trace","text":"OceanBase \u6570\u636e\u5e93\u6253\u5370\u8fdb\u7a0b\u65e5\u5fd7\u65f6\u4f1a\u643a\u5e26 trace_id \uff0c\u4e00\u4e2a\u8bf7\u6c42\u6267\u884c\u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\u90fd\u4f1a\u643a\u5e26\u540c\u4e00\u4e2a trace_id \uff0c\u56e0\u6b64\u5728\u8fdb\u7a0b\u65e5\u5fd7\u4e2d\u641c\u7d22 trace_id \u53ef\u4ee5\u62ff\u5230\u4e00\u4e2a\u8bf7\u6c42\u7684\u5168\u90e8\u6267\u884c\u8fc7\u7a0b\u3002 last_trace_id \u4f7f\u7528 select last_trace_id(); \u8bed\u53e5\u53ef\u4ee5\u76f4\u63a5\u67e5\u770b\u4e0a\u4e00\u6761\u8bed\u53e5\u7684\u6267\u884c\u8282\u70b9\u548c trace_id \uff0c\u7136\u540e\u5728\u65e5\u5fd7\u4e2d\u8fd0\u884c grep \u547d\u4ee4\u67e5\u627e\u76f8\u5173\u4fe1\u606f\u3002 obclient> SELECT last_trace_id(); +--------------------------------------------------------+ | last_trace_id() | +--------------------------------------------------------+ | 127.0.0.1:2882, TraceId: YB427F000001-0005C4DB8B546938 | +--------------------------------------------------------+ 1 row in set (0.01 sec) grep \"YB427F000001-0005C4DB8B546938\" observer.log trace_log OceanBase \u6570\u636e\u5e93\u652f\u6301\u6267\u884c\u8bf7\u6c42\u65f6\u6253\u5f00 trace_log \u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u6253\u5f00 trace_log \uff1a \u901a\u8fc7 Hint \u4e2d\u7684 trace_log \u5b57\u6bb5\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ea\u5bf9\u643a\u5e26 Hint \u7684\u5f53\u524d\u8bed\u53e5\u751f\u6548\u3002\u4f7f\u7528 Hint \u8981\u6c42 OBClient \u5728\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\u65f6\u643a\u5e26 -c \u9009\u9879\uff0c\u5426\u5219 Hint \u4f1a\u88ab\u5ffd\u7565\u3002\u66f4\u591a Hint \u64cd\u4f5c\uff0c\u53c2\u8003 Optimizer Hint \u3002 \u901a\u8fc7 Session \u53d8\u91cf ob_enable_trace_log \uff0c\u8fd9\u79cd\u65b9\u5f0f\u5bf9\u8fd9\u4e2a Session \u7684\u540e\u7eed\u6240\u6709\u8bed\u53e5\u751f\u6548\u3002 \u6253\u5f00 trace_log \u540e\uff0c\u901a\u8fc7 SHOW TRACE \u8bed\u53e5\u53ef\u4ee5\u62ff\u5230\u4e0a\u4e00\u6b21\u7684 trace_log \uff0c\u4ece\u800c\u83b7\u53d6 trace_id \u3002\u540c\u65f6 SHOW TRACE \u8fd8\u53ef\u4ee5\u770b\u5230\u8fd9\u6761\u8bf7\u6c42\u5927\u81f4\u7684\u6027\u80fd\u7edf\u8ba1\u3002 obclient> SHOW TRACE; +------------------------------+----------------------------------------------------------------------------+------+ | Title | KeyValue | Time | +------------------------------+----------------------------------------------------------------------------+------+ | process begin | in_queue_time:12, receive_ts:1623988240448815, enqueue_ts:1623988240448816 | 0 | | query begin | trace_id:YC1E64586A5D-0005C4C77E56FA98 | 2 | | parse begin | stmt:\"select count(*) from t1\", stmt_len:23 | 49 | | pc get plan begin | | 7 | | pc get plan end | | 18 | | transform_with_outline begin | | 2 | | transform_with_outline end | | 45 | | resolve begin | | 22 | | resolve end | | 130 | | transform begin | | 40 | | transform end | | 138 | | optimizer begin | | 2 | | get location cache begin | | 96 | | get location cache end | | 108 | | optimizer end | | 272 | | cg begin | | 0 | | cg end | | 984 | | execution begin | arg1:false, end_trans_cb:false | 78 | | do open plan begin | plan_id:197 | 29 | | sql start stmt begin | | 1 | | sql start stmt end | | 1 | | execute plan begin | | 0 | | execute plan end | | 9 | | sql start participant begin | | 0 | | sql start participant end | | 1 | | do open plan end | | 0 | | table scan begin | | 11 | | table scan end | | 42 | | start_close_plan begin | | 1344 | | start_end_participant begin | | 13 | | start_end_participant end | | 1 | | start_close_plan end | | 1 | | start_auto_end_plan begin | | 2 | | start_auto_end_plan end | | 1 | | execution end | | 2 | | query end | | 52 | | NULL | PHY_SCALAR_AGGREGATE | | | t1 | PHY_TABLE_SCAN | | +------------------------------+----------------------------------------------------------------------------+------+ 38 rows in set (0.01 sec) \u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\uff1a # \u8bed\u53e5\u7ea7 obclient> SELECT /*+ trace_log=on */c1 FROM t1 LIMIT 2; obclient> SHOW TRACE; # Session \u7ea7 obclient> SET ob_enable_trace_log = 'ON'; obclient> SELECT COUNT(*) FROM t1; obclient> SHOW TRACE;","title":"TRACE \u80fd\u529b"},{"location":"2.quickstart/5.sgco3g/#id","text":"\u5982\u679c\u60a8\u672a\u627e\u5230\u6709\u6548\u7684 trace_id \uff0c\u6216\u8005 OceanBase \u6570\u636e\u5e93\u7684\u67d0\u4e9b\u540e\u53f0\u7ebf\u7a0b\u672a\u8bbe\u7f6e trace_id \uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u7ebf\u7a0b ID \u641c\u7d22\u65e5\u5fd7\u3002\u4f8b\u5982\uff1a grep -F \"[32075]\" observer.log","title":"\u6839\u636e\u7ebf\u7a0b ID \u641c\u7d22\u65e5\u5fd7"},{"location":"2.quickstart/5.sgco3g/#_4","text":"OceanBase \u6570\u636e\u5e93\u7684\u5185\u90e8\u8868\u6bd4\u8f83\u591a\uff0c\u672c\u8282\u4ec5\u4ecb\u7ecd\u90e8\u5206\u5e38\u89c1\u7684\u901a\u7528\u8868\uff0c\u5176\u4ed6\u7c7b\u578b\u7684\u5185\u90e8\u8868\uff08\u4f8b\u5982\u96c6\u7fa4\u7ba1\u63a7\u3001\u6027\u80fd\u89c6\u56fe\u3001\u8fc1\u79fb\u590d\u5236\u3001\u5408\u5e76\u8f6c\u50a8\u7b49\uff09\u53c2\u8003 \u7cfb\u7edf\u89c6\u56fe \u3002 \u672c\u6587\u4e2d\u7684\u5185\u90e8\u8868\u9ed8\u8ba4\u662f root \u7528\u6237\u5728 sys \u79df\u6237\u7684 OceanBase \u6570\u636e\u5e93\u4e2d\u53ef\u89c1\u7684\u8868\uff08\u8fde\u63a5\u4e32\u793a\u4f8b\uff1a obclient -u root@sys -D oceanbase \uff09\uff0c\u4e0b\u6587\u4e0d\u518d\u6307\u5b9a\u6570\u636e\u5e93\u540d\u79f0\u3002","title":"\u5185\u90e8\u8868"},{"location":"2.quickstart/5.sgco3g/#_5","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7\u7cfb\u7edf\u79df\u6237\u7684 __all_virtual_table \u8868\u53ef\u4ee5\u83b7\u53d6 table_id \u3001 table_name \u7b49\u57fa\u672c\u4fe1\u606f\u3002 obclient> DESCRIBE __all_virtual_table; +--------------------------------------+---------------------+------+-----+----------------+-------+ | Field | Type | Null | Key | Default | Extra | +--------------------------------------+---------------------+------+-----+----------------+-------+ | tenant_id | bigint(20) | NO | PRI | NULL | | | table_id | bigint(20) | NO | PRI | NULL | | | gmt_create | timestamp(6) | NO | | NULL | | | gmt_modified | timestamp(6) | NO | | NULL | | | table_name | varchar(256) | NO | | | | | database_id | bigint(20) | NO | | NULL | | | table_type | bigint(20) | NO | | NULL | | | load_type | bigint(20) | NO | | NULL | | | def_type | bigint(20) | NO | | NULL | | | rowkey_column_num | bigint(20) | NO | | NULL | | | index_column_num | bigint(20) | NO | | NULL | | | max_used_column_id | bigint(20) | NO | | NULL | | | replica_num | bigint(20) | NO | | NULL | | | autoinc_column_id | bigint(20) | NO | | NULL | | | auto_increment | bigint(20) unsigned | YES | | 1 | | | read_only | bigint(20) | NO | | NULL | | | rowkey_split_pos | bigint(20) | NO | | NULL | | | compress_func_name | varchar(128) | NO | | NULL | | | expire_condition | varchar(4096) | NO | | NULL | | | is_use_bloomfilter | bigint(20) | NO | | NULL | | | comment | varchar(4096) | NO | | | | | block_size | bigint(20) | NO | | NULL | | | collation_type | bigint(20) | NO | | NULL | | | data_table_id | bigint(20) | YES | | NULL | | | index_status | bigint(20) | NO | | NULL | | | tablegroup_id | bigint(20) | NO | | NULL | | | progressive_merge_num | bigint(20) | NO | | NULL | | | index_type | bigint(20) | NO | | NULL | | | part_level | bigint(20) | NO | | NULL | | | part_func_type | bigint(20) | NO | | NULL | | | part_func_expr | varchar(4096) | NO | | NULL | | | part_num | bigint(20) | NO | | NULL | | | sub_part_func_type | bigint(20) | NO | | NULL | | | sub_part_func_expr | varchar(4096) | NO | | NULL | | | sub_part_num | bigint(20) | NO | | NULL | | | create_mem_version | bigint(20) | NO | | NULL | | | schema_version | bigint(20) | NO | | NULL | | | view_definition | longtext | NO | | NULL | | | view_check_option | bigint(20) | NO | | NULL | | | view_is_updatable | bigint(20) | NO | | NULL | | | zone_list | varchar(8192) | NO | | NULL | | | primary_zone | varchar(128) | YES | | NULL | | | index_using_type | bigint(20) | NO | | 0 | | | parser_name | varchar(128) | YES | | NULL | | | index_attributes_set | bigint(20) | YES | | 0 | | | locality | varchar(4096) | NO | | | | | tablet_size | bigint(20) | NO | | 134217728 | | | pctfree | bigint(20) | NO | | 10 | | | previous_locality | varchar(4096) | NO | | | | | max_used_part_id | bigint(20) | NO | | -1 | | | partition_cnt_within_partition_table | bigint(20) | NO | | -1 | | | partition_status | bigint(20) | YES | | 0 | | | partition_schema_version | bigint(20) | YES | | 0 | | | max_used_constraint_id | bigint(20) | YES | | NULL | | | session_id | bigint(20) | YES | | 0 | | | pk_comment | varchar(4096) | NO | | | | | sess_active_time | bigint(20) | YES | | 0 | | | row_store_type | varchar(128) | YES | | FLAT_ROW_STORE | | | store_format | varchar(128) | YES | | | | | duplicate_scope | bigint(20) | YES | | 0 | | | binding | tinyint(4) | YES | | 0 | | | progressive_merge_round | bigint(20) | YES | | 0 | | | storage_format_version | bigint(20) | YES | | 2 | | | table_mode | bigint(20) | NO | | 0 | | | encryption | varchar(128) | YES | | | | | tablespace_id | bigint(20) | NO | | -1 | | | drop_schema_version | bigint(20) | NO | | -1 | | | is_sub_part_template | tinyint(4) | NO | | 1 | | | dop | bigint(20) | NO | | 1 | | | character_set_client | bigint(20) | NO | | 0 | | | collation_connection | bigint(20) | NO | | 0 | | | auto_part_size | bigint(20) | NO | | -1 | | | auto_part | tinyint(4) | NO | | 0 | | +--------------------------------------+---------------------+------+-----+----------------+-------+ 73 rows in set (0.00 sec)","title":"\u8868\u7684\u57fa\u7840\u4fe1\u606f"},{"location":"2.quickstart/5.sgco3g/#location","text":"OceanBase \u6570\u636e\u5e93\u662f\u5206\u5e03\u5f0f\u6570\u636e\u5e93\uff0c\u4e0e\u4f20\u7edf\u6570\u636e\u5e93\u76f8\u6bd4\uff0c\u9700\u8981 Location \u4fe1\u606f\u6765\u5b9a\u4f4d\u5904\u7406\u8bf7\u6c42\u7684\u5177\u4f53\u8282\u70b9\u3002OceanBase \u6570\u636e\u5e93\u4f7f\u7528 Paxos \u534f\u8bae\u505a\u526f\u672c\u540c\u6b65\uff0c\u5bf9\u4e8e DML \u8bf7\u6c42\u548c Read Latest \u7c7b\u578b\u7684\u67e5\u8be2\uff0c\u90fd\u4f1a\u8def\u7531\u5230\u76ee\u6807\u5206\u533a\u7684 Leader \u8282\u70b9\u5904\u7406\u3002 Location \u4fe1\u606f\u5206\u4e3a\u4e09\u7ea7\uff0c\u5373\u6838\u5fc3\u8868 __all_core_table \uff08\u7cfb\u7edf\u79df\u6237\u7684 1 \u53f7\u8868\uff09\u7684\u4f4d\u7f6e\uff0c\u7cfb\u7edf\u8868\u7684\u4f4d\u7f6e\uff0c\u666e\u901a\u8868\u7684\u4f4d\u7f6e\u3002location \u4fe1\u606f\u76f8\u5173\u7684\u5185\u90e8\u8868\u4e2d\uff0c role \u5b57\u6bb5\u4e3a 1 \u8868\u793a Leader\uff0c2 \u8868\u793a Follower\u3002 \u6838\u5fc3\u8868\u7684\u4f4d\u7f6e\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7\u7cfb\u7edf\u79df\u6237\u7684 __all_virtual_core_meta_table \u8868\u6765\u67e5\u8be2\uff0c\u6838\u5fc3\u8868\u6240\u5728\u7684 OceanBase \u6570\u636e\u5e93\u8282\u70b9\u662f rootserver\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u901a\u8fc7 __all_server \u8868\u7684 with_rootserver \u5b57\u6bb5\u627e\u5230\u6838\u5fc3\u8868 Leader \u7684\u4f4d\u7f6e\u3002 \u7cfb\u7edf\u8868\u7684\u4f4d\u7f6e\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7\u7cfb\u7edf\u79df\u6237\u7684 __all_root_table \u67e5\u8be2\u3002 \u666e\u901a\u8868\u7684\u4f4d\u7f6e\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7 meta_table \u8868\u67e5\u8be2\uff0c\u5bf9\u4e8e\u7cfb\u7edf\u79df\u6237\uff0c\u53ef\u4ee5\u67e5\u8be2 __all_virtual_meta_table \u3002\u5bf9\u4e8e\u666e\u901a\u79df\u6237\uff0c\u53ef\u4ee5\u67e5\u8be2 __all_tenant_meta_table \u3002","title":"Location \u4fe1\u606f"},{"location":"2.quickstart/5.sgco3g/#sql_audit","text":"OceanBase \u6570\u636e\u5e93\u652f\u6301 SQL \u76d1\u63a7\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879 enable_sql_audit \uff08\u9ed8\u8ba4\u6253\u5f00\uff09\u548c Session \u53d8\u91cf ob_enable_sql_audit \uff08\u9ed8\u8ba4\u6253\u5f00\uff09\u63a7\u5236\u3002\u76d1\u63a7\u4fe1\u606f\u5b58\u50a8\u5728 gv$sql_audit \u89c6\u56fe\u4e2d\u3002\u60a8\u901a\u8fc7 query_sql \u7b49\u5b57\u6bb5\u641c\u7d22\u76ee\u6807 SQL \u8bed\u53e5\u7684\u76d1\u63a7\u8bb0\u5f55\u83b7\u53d6 trace_id \u3001\u6267\u884c\u65f6\u95f4\u3001\u8fd4\u56de\u884c\u6570\u7b49\u4fe1\u606f\u3002 sql_audit \u8868\u7684\u5bb9\u91cf\u6709\u9650\uff0c\u65e9\u671f\u7684\u8bb0\u5f55\u53ef\u80fd\u4f1a\u88ab\u540e\u6765\u7684\u8bf7\u6c42\u8986\u76d6\uff0c sql_audit \u8868\u7684\u5bb9\u91cf\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879 sql_audit_queue_size \u3001 sql_audit_memory_limit \u4ee5\u53ca Session \u53d8\u91cf ob_sql_audit_percentage \u8bbe\u7f6e\u3002 obclient> select * from gv$sql_audit where query_sql like 'select count(*) from t1%'\\G *************************** 1. row *************************** SVR_IP: 127.0.0.1 SVR_PORT: 3102 REQUEST_ID: 20 SQL_EXEC_ID: 12803933 TRACE_ID: YC1E64586A5D-0005C4C77E56FA98 SID: 3221639668 CLIENT_IP: 127.0.0.1 CLIENT_PORT: 38101 TENANT_ID: 1001 TENANT_NAME: my_tenant EFFECTIVE_TENANT_ID: 1001 USER_ID: 1100611139404777 USER_NAME: my_user USER_GROUP: 0 USER_CLIENT_IP: 127.0.0.1 DB_ID: 1100611139404776 DB_NAME: test SQL_ID: 69AE2D9E3BF106CE009F93EFAF925EC8 QUERY_SQL: select count(*) from t1 PLAN_ID: 197 AFFECTED_ROWS: 0 RETURN_ROWS: 1 PARTITION_CNT: 1 RET_CODE: 0 QC_ID: 0 DFO_ID: 0 SQC_ID: 0 WORKER_ID: 0 EVENT: system internal wait P1TEXT: P1: 0 P2TEXT: P2: 0 P3TEXT: P3: 0 LEVEL: 0 WAIT_CLASS_ID: 100 WAIT_CLASS#: 0 WAIT_CLASS: OTHER STATE: MAX_WAIT TIME ZERO WAIT_TIME_MICRO: 0 TOTAL_WAIT_TIME_MICRO: 0 TOTAL_WAITS: 0 RPC_COUNT: 0 PLAN_TYPE: 1 IS_INNER_SQL: 0 IS_EXECUTOR_RPC: 0 IS_HIT_PLAN: 0 REQUEST_TIME: 1623988240448815 ELAPSED_TIME: 3465 NET_TIME: 0 NET_WAIT_TIME: 0 QUEUE_TIME: 20 DECODE_TIME: 1 GET_PLAN_TIME: 1960 EXECUTE_TIME: 1460 APPLICATION_WAIT_TIME: 0 CONCURRENCY_WAIT_TIME: 0 USER_IO_WAIT_TIME: 0 SCHEDULE_TIME: 0 ROW_CACHE_HIT: 0 BLOOM_FILTER_CACHE_HIT: 0 BLOCK_CACHE_HIT: 0 BLOCK_INDEX_CACHE_HIT: 0 DISK_READS: 0 RETRY_CNT: 0 TABLE_SCAN: 1 CONSISTENCY_LEVEL: 3 MEMSTORE_READ_ROW_COUNT: 1 SSSTORE_READ_ROW_COUNT: 0 REQUEST_MEMORY_USED: 2096128 EXPECTED_WORKER_COUNT: 0 USED_WORKER_COUNT: 0 SCHED_INFO: FUSE_ROW_CACHE_HIT: 0 PS_STMT_ID: 0 TRANSACTION_HASH: 0 REQUEST_TYPE: 2 IS_BATCHED_MULTI_STMT: 0 OB_TRACE_INFO: PLAN_HASH: 2598000370345801882 LOCK_FOR_READ_TIME: 0 WAIT_TRX_MIGRATE_TIME: 0 1 row in set (0.65 sec)","title":"sql_audit"},{"location":"2.quickstart/6.basic-operations/2.6.1%20database-operations/","text":"\u6570\u636e\u5e93\u64cd\u4f5c \u672c\u8282\u4e3b\u8981\u63d0\u4f9b\u6570\u636e\u5e93\u7684\u521b\u5efa\u3001\u67e5\u770b\u3001\u4fee\u6539\u548c\u5220\u9664\u793a\u4f8b\u3002 \u521b\u5efa\u6570\u636e\u5e93 \u4f7f\u7528 CREATE DATABASE \u8bed\u53e5\u521b\u5efa\u6570\u636e\u5e93\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u521b\u5efa\u6570\u636e\u5e93 test 2 \uff0c\u5e76\u6307\u5b9a\u5b57\u7b26\u96c6\u4e3a UTF8 \u3002 obclient> CREATE DATABASE test2 DEFAULT CHARACTER SET UTF8; Query OK, 1 row affected (0.00 sec) \u521b\u5efa\u8bfb\u5199\u5c5e\u6027\u7684\u6570\u636e\u5e93 test3 \u3002 obclient> CREATE DATABASE test3 READ WRITE; Query OK, 1 row affected (0.03 sec) \u66f4\u591a CREATE DATABASE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d CREATE DATABASE \u7ae0\u8282\u3002 \u67e5\u770b\u6570\u636e\u5e93 \u4f7f\u7528 SHOW DATABASES \u8bed\u53e5\u67e5\u770b\u6570\u636e\u5e93\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> SHOW DATABASES; \u4fee\u6539\u6570\u636e\u5e93 \u4f7f\u7528 ALTER DATABASE \u8bed\u53e5\u6765\u4fee\u6539 DataBase \u6570\u636e\u5e93\u7684\u5c5e\u6027\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u4fee\u6539\u6570\u636e\u5e93 test2 \u7684\u5b57\u7b26\u96c6\u4e3a UTF8MB4 \uff0c\u6821\u5bf9\u89c4\u5219\u4e3a UTF8MB4_BIN \uff0c\u4e14\u4e3a\u8bfb\u5199\u5c5e\u6027\u3002 obclient> ALTER DATABASE test2 DEFAULT CHARACTER SET UTF8MB4; obclient> ALTER DATABASE test2 DEFAULT COLLATE UTF8MB4_BIN; obclient> ALTER DATABASE test2 READ WRITE; \u66f4\u591a ALTER DATABASE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d ALTER DATABASE \u7ae0\u8282\u3002 \u5220\u9664\u6570\u636e\u5e93 \u4f7f\u7528 DROP DATABASE \u8bed\u53e5\u5220\u9664\u6570\u636e\u5e93\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> DROP DATABASE my_db; \u66f4\u591a DROP DATABASE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d DROP DATABASE \u7ae0\u8282\u3002","title":"\u6570\u636e\u5e93\u64cd\u4f5c"},{"location":"2.quickstart/6.basic-operations/2.6.1%20database-operations/#_1","text":"\u672c\u8282\u4e3b\u8981\u63d0\u4f9b\u6570\u636e\u5e93\u7684\u521b\u5efa\u3001\u67e5\u770b\u3001\u4fee\u6539\u548c\u5220\u9664\u793a\u4f8b\u3002","title":"\u6570\u636e\u5e93\u64cd\u4f5c"},{"location":"2.quickstart/6.basic-operations/2.6.1%20database-operations/#_2","text":"\u4f7f\u7528 CREATE DATABASE \u8bed\u53e5\u521b\u5efa\u6570\u636e\u5e93\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u521b\u5efa\u6570\u636e\u5e93 test 2 \uff0c\u5e76\u6307\u5b9a\u5b57\u7b26\u96c6\u4e3a UTF8 \u3002 obclient> CREATE DATABASE test2 DEFAULT CHARACTER SET UTF8; Query OK, 1 row affected (0.00 sec) \u521b\u5efa\u8bfb\u5199\u5c5e\u6027\u7684\u6570\u636e\u5e93 test3 \u3002 obclient> CREATE DATABASE test3 READ WRITE; Query OK, 1 row affected (0.03 sec) \u66f4\u591a CREATE DATABASE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d CREATE DATABASE \u7ae0\u8282\u3002","title":"\u521b\u5efa\u6570\u636e\u5e93"},{"location":"2.quickstart/6.basic-operations/2.6.1%20database-operations/#_3","text":"\u4f7f\u7528 SHOW DATABASES \u8bed\u53e5\u67e5\u770b\u6570\u636e\u5e93\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> SHOW DATABASES;","title":"\u67e5\u770b\u6570\u636e\u5e93"},{"location":"2.quickstart/6.basic-operations/2.6.1%20database-operations/#_4","text":"\u4f7f\u7528 ALTER DATABASE \u8bed\u53e5\u6765\u4fee\u6539 DataBase \u6570\u636e\u5e93\u7684\u5c5e\u6027\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u4fee\u6539\u6570\u636e\u5e93 test2 \u7684\u5b57\u7b26\u96c6\u4e3a UTF8MB4 \uff0c\u6821\u5bf9\u89c4\u5219\u4e3a UTF8MB4_BIN \uff0c\u4e14\u4e3a\u8bfb\u5199\u5c5e\u6027\u3002 obclient> ALTER DATABASE test2 DEFAULT CHARACTER SET UTF8MB4; obclient> ALTER DATABASE test2 DEFAULT COLLATE UTF8MB4_BIN; obclient> ALTER DATABASE test2 READ WRITE; \u66f4\u591a ALTER DATABASE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d ALTER DATABASE \u7ae0\u8282\u3002","title":"\u4fee\u6539\u6570\u636e\u5e93"},{"location":"2.quickstart/6.basic-operations/2.6.1%20database-operations/#_5","text":"\u4f7f\u7528 DROP DATABASE \u8bed\u53e5\u5220\u9664\u6570\u636e\u5e93\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> DROP DATABASE my_db; \u66f4\u591a DROP DATABASE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d DROP DATABASE \u7ae0\u8282\u3002","title":"\u5220\u9664\u6570\u636e\u5e93"},{"location":"2.quickstart/6.basic-operations/2.6.2%20table-operations/","text":"\u8868\u64cd\u4f5c \u672c\u8282\u4e3b\u8981\u63d0\u4f9b\u6570\u636e\u5e93\u8868\u7684\u521b\u5efa\u3001\u67e5\u770b\u3001\u4fee\u6539\u548c\u5220\u9664\u793a\u4f8b\u3002 \u521b\u5efa\u8868 \u4f7f\u7528 CREATE TABLE \u8bed\u53e5\u5728\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u65b0\u8868\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> CREATE TABLE test (c1 int primary key, c2 VARCHAR(3)); \u66f4\u591a CREATE TABLE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d CREATE TABLE \u7ae0\u8282\u3002 \u67e5\u770b\u8868 \u4f7f\u7528 SHOW CREATE TABLE \u8bed\u53e5\u67e5\u770b\u5efa\u8868\u8bed\u53e5\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> SHOW CREATE TABLE test; \u4f7f\u7528 SHOW TABLES \u8bed\u53e5\u67e5\u770b\u6307\u5b9a\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u8868\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> SHOW TABLES FROM my_db; \u4fee\u6539\u8868 \u4f7f\u7528 ALTER TABLE \u8bed\u53e5\u6765\u4fee\u6539\u5df2\u5b58\u5728\u7684\u8868\u7684\u7ed3\u6784\uff0c\u5305\u62ec\u4fee\u6539\u8868\u53ca\u8868\u5c5e\u6027\u3001\u65b0\u589e\u5217\u3001\u4fee\u6539\u5217\u53ca\u5c5e\u6027\u3001\u5220\u9664\u5217\u7b49\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u628a\u8868 test \u7684\u5b57\u6bb5 c2 \u6539\u540d\u4e3a c3 \uff0c\u5e76\u540c\u65f6\u4fee\u6539\u5176\u5b57\u6bb5\u7c7b\u578b\u3002 obclient> DESCRIBE test; +-------+------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+------------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c2 | varchar(3) | YES | | NULL | | +-------+------------+------+-----+---------+-------+ obclient> ALTER TABLE test CHANGE COLUMN c2 c3 CHAR(10); Query OK, 0 rows affected (0.08 sec) obclient> DESCRIBE test; +-------+----------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+----------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c3 | char(10) | YES | | NULL | | +-------+----------+------+-----+---------+-------+ \u589e\u52a0\u3001\u5220\u9664\u5217 \u589e\u52a0\u5217\u524d\uff0c\u6267\u884c DESCRIBE test``; \u547d\u4ee4\u67e5\u770b\u8868\u4fe1\u606f\u3002 obclient> DESCRIBE test; +-------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+-------------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c2 | varchar(3) | YES | | NULL | | +-------+-------------+------+-----+---------+-------+ 2 rows in set (0.01 sec) \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u589e\u52a0 c3 \u5217\u3002 obclient> ALTER TABLE test ADD c3 int; Query OK, 0 rows affected (0.08 sec) \u589e\u52a0\u5217\u540e\uff0c\u6267\u884c DESCRIBE test; \u547d\u4ee4\u67e5\u770b\u8868\u4fe1\u606f\u3002 obclient> DESCRIBE test; +-------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+-------------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c2 | varchar(3) | YES | | NULL | | | c3 | int(11) | YES | | NULL | | +-------+-------------+------+-----+---------+-------+ 3 rows in set (0.00 sec) \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5220\u9664 c3 \u5217\u3002 obclient> ALTER TABLE test DROP c3; Query OK, 0 rows affected (0.08 sec) \u5220\u9664\u5217\u540e\uff0c\u6267\u884c DESCRIBE test; \u547d\u4ee4\u67e5\u770b\u8868\u4fe1\u606f\u3002 obclient> DESCRIBE test; +-------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+-------------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c2 | varchar(50) | YES | | NULL | | +-------+-------------+------+-----+---------+-------+ 2 rows in set (0.00 sec) \u8bbe\u7f6e\u8868 test \u7684\u526f\u672c\u6570\uff0c\u5e76\u4e14\u589e\u52a0\u5217 c5 \u3002 obclient> ALTER TABLE test SET REPLICA_NUM=2, ADD COLUMN c5 INT; Query OK, 0 rows affected (0.06 sec) obclient> DESCRIBE test; +-------+------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+------------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c2 | varchar(3) | YES | | NULL | | | c5 | int(11) | YES | | NULL | | +-------+------------+------+-----+---------+-------+ 3 rows in set (0.00 sec) \u66f4\u591a ALTER TABLE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d ALTER TABLE \u7ae0\u8282\u3002 \u5220\u9664\u8868 \u4f7f\u7528 DROP TABLE \u8bed\u53e5\u5220\u9664\u8868\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> DROP TABLE test; \u6216\u8005 obclient> DROP TABLE IF EXISTS test; \u66f4\u591a DROP TABLE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d DROP TABLE \u7ae0\u8282\u3002","title":"2.6.2 table operations"},{"location":"2.quickstart/6.basic-operations/2.6.2%20table-operations/#_1","text":"\u672c\u8282\u4e3b\u8981\u63d0\u4f9b\u6570\u636e\u5e93\u8868\u7684\u521b\u5efa\u3001\u67e5\u770b\u3001\u4fee\u6539\u548c\u5220\u9664\u793a\u4f8b\u3002","title":"\u8868\u64cd\u4f5c"},{"location":"2.quickstart/6.basic-operations/2.6.2%20table-operations/#_2","text":"\u4f7f\u7528 CREATE TABLE \u8bed\u53e5\u5728\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u65b0\u8868\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> CREATE TABLE test (c1 int primary key, c2 VARCHAR(3)); \u66f4\u591a CREATE TABLE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d CREATE TABLE \u7ae0\u8282\u3002","title":"\u521b\u5efa\u8868"},{"location":"2.quickstart/6.basic-operations/2.6.2%20table-operations/#_3","text":"\u4f7f\u7528 SHOW CREATE TABLE \u8bed\u53e5\u67e5\u770b\u5efa\u8868\u8bed\u53e5\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> SHOW CREATE TABLE test; \u4f7f\u7528 SHOW TABLES \u8bed\u53e5\u67e5\u770b\u6307\u5b9a\u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u8868\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> SHOW TABLES FROM my_db;","title":"\u67e5\u770b\u8868"},{"location":"2.quickstart/6.basic-operations/2.6.2%20table-operations/#_4","text":"\u4f7f\u7528 ALTER TABLE \u8bed\u53e5\u6765\u4fee\u6539\u5df2\u5b58\u5728\u7684\u8868\u7684\u7ed3\u6784\uff0c\u5305\u62ec\u4fee\u6539\u8868\u53ca\u8868\u5c5e\u6027\u3001\u65b0\u589e\u5217\u3001\u4fee\u6539\u5217\u53ca\u5c5e\u6027\u3001\u5220\u9664\u5217\u7b49\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u628a\u8868 test \u7684\u5b57\u6bb5 c2 \u6539\u540d\u4e3a c3 \uff0c\u5e76\u540c\u65f6\u4fee\u6539\u5176\u5b57\u6bb5\u7c7b\u578b\u3002 obclient> DESCRIBE test; +-------+------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+------------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c2 | varchar(3) | YES | | NULL | | +-------+------------+------+-----+---------+-------+ obclient> ALTER TABLE test CHANGE COLUMN c2 c3 CHAR(10); Query OK, 0 rows affected (0.08 sec) obclient> DESCRIBE test; +-------+----------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+----------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c3 | char(10) | YES | | NULL | | +-------+----------+------+-----+---------+-------+ \u589e\u52a0\u3001\u5220\u9664\u5217 \u589e\u52a0\u5217\u524d\uff0c\u6267\u884c DESCRIBE test``; \u547d\u4ee4\u67e5\u770b\u8868\u4fe1\u606f\u3002 obclient> DESCRIBE test; +-------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+-------------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c2 | varchar(3) | YES | | NULL | | +-------+-------------+------+-----+---------+-------+ 2 rows in set (0.01 sec) \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u589e\u52a0 c3 \u5217\u3002 obclient> ALTER TABLE test ADD c3 int; Query OK, 0 rows affected (0.08 sec) \u589e\u52a0\u5217\u540e\uff0c\u6267\u884c DESCRIBE test; \u547d\u4ee4\u67e5\u770b\u8868\u4fe1\u606f\u3002 obclient> DESCRIBE test; +-------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+-------------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c2 | varchar(3) | YES | | NULL | | | c3 | int(11) | YES | | NULL | | +-------+-------------+------+-----+---------+-------+ 3 rows in set (0.00 sec) \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5220\u9664 c3 \u5217\u3002 obclient> ALTER TABLE test DROP c3; Query OK, 0 rows affected (0.08 sec) \u5220\u9664\u5217\u540e\uff0c\u6267\u884c DESCRIBE test; \u547d\u4ee4\u67e5\u770b\u8868\u4fe1\u606f\u3002 obclient> DESCRIBE test; +-------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+-------------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c2 | varchar(50) | YES | | NULL | | +-------+-------------+------+-----+---------+-------+ 2 rows in set (0.00 sec) \u8bbe\u7f6e\u8868 test \u7684\u526f\u672c\u6570\uff0c\u5e76\u4e14\u589e\u52a0\u5217 c5 \u3002 obclient> ALTER TABLE test SET REPLICA_NUM=2, ADD COLUMN c5 INT; Query OK, 0 rows affected (0.06 sec) obclient> DESCRIBE test; +-------+------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+------------+------+-----+---------+-------+ | c1 | int(11) | NO | PRI | NULL | | | c2 | varchar(3) | YES | | NULL | | | c5 | int(11) | YES | | NULL | | +-------+------------+------+-----+---------+-------+ 3 rows in set (0.00 sec) \u66f4\u591a ALTER TABLE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d ALTER TABLE \u7ae0\u8282\u3002","title":"\u4fee\u6539\u8868"},{"location":"2.quickstart/6.basic-operations/2.6.2%20table-operations/#_5","text":"\u4f7f\u7528 DROP TABLE \u8bed\u53e5\u5220\u9664\u8868\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> DROP TABLE test; \u6216\u8005 obclient> DROP TABLE IF EXISTS test; \u66f4\u591a DROP TABLE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d DROP TABLE \u7ae0\u8282\u3002","title":"\u5220\u9664\u8868"},{"location":"2.quickstart/6.basic-operations/2.6.3%20index-operations/","text":"\u7d22\u5f15\u64cd\u4f5c \u7d22\u5f15\u662f\u521b\u5efa\u5728\u8868\u4e0a\u5e76\u5bf9\u6570\u636e\u5e93\u8868\u4e2d\u4e00\u5217\u6216\u591a\u5217\u7684\u503c\u8fdb\u884c\u6392\u5e8f\u7684\u4e00\u79cd\u7ed3\u6784\u3002\u5176\u4f5c\u7528\u4e3b\u8981\u5728\u4e8e\u63d0\u9ad8\u67e5\u8be2\u7684\u901f\u5ea6\uff0c\u964d\u4f4e\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u6027\u80fd\u5f00\u9500\u3002 \u521b\u5efa\u7d22\u5f15 {#st3zt} \u4f7f\u7528 CREATE INDEX \u8bed\u53e5\u521b\u5efa\u8868\u7684\u7d22\u5f15\u3002 \u793a\u4f8b\uff1a \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u521b\u5efa\u8868 test \u3002 obclient> CREATE TABLE test (c1 int primary key, c2 VARCHAR(10)); \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u521b\u5efa\u8868 test \u7684\u7d22\u5f15\u3002 obclient> CREATE INDEX test_index ON test (c1, c2); \u66f4\u591a CREATE INDEX \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d\u7684 CREATE INDEX CREATE INDEX \u7ae0\u8282\u3002 \u67e5\u770b\u7d22\u5f15 {#RiYBf} \u4f7f\u7528 SHOW INDEX \u8bed\u53e5\u67e5\u770b\u8868\u7684\u7d22\u5f15\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u67e5\u770b\u8868 test \u7684\u7d22\u5f15\u3002 obclient> SHOW INDEX FROM test; \u5220\u9664\u7d22\u5f15 {#xmouP} \u4f7f\u7528 DROP INDEX \u8bed\u53e5\u5220\u9664\u8868\u7684\u7d22\u5f15\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u5220\u9664\u8868 test \u7684\u7d22\u5f15\u3002 obclient> DROP INDEX test_index ON test; \u66f4\u591a DROP INDEX \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d\u7684 DROP INDEX \u7ae0\u8282\u3002","title":"\u7d22\u5f15\u64cd\u4f5c"},{"location":"2.quickstart/6.basic-operations/2.6.3%20index-operations/#_1","text":"\u7d22\u5f15\u662f\u521b\u5efa\u5728\u8868\u4e0a\u5e76\u5bf9\u6570\u636e\u5e93\u8868\u4e2d\u4e00\u5217\u6216\u591a\u5217\u7684\u503c\u8fdb\u884c\u6392\u5e8f\u7684\u4e00\u79cd\u7ed3\u6784\u3002\u5176\u4f5c\u7528\u4e3b\u8981\u5728\u4e8e\u63d0\u9ad8\u67e5\u8be2\u7684\u901f\u5ea6\uff0c\u964d\u4f4e\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u6027\u80fd\u5f00\u9500\u3002","title":"\u7d22\u5f15\u64cd\u4f5c"},{"location":"2.quickstart/6.basic-operations/2.6.3%20index-operations/#st3zt","text":"\u4f7f\u7528 CREATE INDEX \u8bed\u53e5\u521b\u5efa\u8868\u7684\u7d22\u5f15\u3002 \u793a\u4f8b\uff1a \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u521b\u5efa\u8868 test \u3002 obclient> CREATE TABLE test (c1 int primary key, c2 VARCHAR(10)); \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u521b\u5efa\u8868 test \u7684\u7d22\u5f15\u3002 obclient> CREATE INDEX test_index ON test (c1, c2); \u66f4\u591a CREATE INDEX \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d\u7684 CREATE INDEX CREATE INDEX \u7ae0\u8282\u3002","title":"\u521b\u5efa\u7d22\u5f15 {#st3zt}"},{"location":"2.quickstart/6.basic-operations/2.6.3%20index-operations/#riybf","text":"\u4f7f\u7528 SHOW INDEX \u8bed\u53e5\u67e5\u770b\u8868\u7684\u7d22\u5f15\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u67e5\u770b\u8868 test \u7684\u7d22\u5f15\u3002 obclient> SHOW INDEX FROM test;","title":"\u67e5\u770b\u7d22\u5f15 {#RiYBf}"},{"location":"2.quickstart/6.basic-operations/2.6.3%20index-operations/#xmoup","text":"\u4f7f\u7528 DROP INDEX \u8bed\u53e5\u5220\u9664\u8868\u7684\u7d22\u5f15\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u5220\u9664\u8868 test \u7684\u7d22\u5f15\u3002 obclient> DROP INDEX test_index ON test; \u66f4\u591a DROP INDEX \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d\u7684 DROP INDEX \u7ae0\u8282\u3002","title":"\u5220\u9664\u7d22\u5f15 {#xmouP}"},{"location":"2.quickstart/6.basic-operations/2.6.4%20insert-data/","text":"\u63d2\u5165\u6570\u636e \u4f7f\u7528 INSERT \u8bed\u53e5\u5728\u5df2\u7ecf\u5b58\u5728\u7684\u8868\u4e2d\u63d2\u5165\u6570\u636e\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u5047\u8bbe\u6709\u5982\u4e0b\u6240\u793a\u6570\u636e\u7684\u8868 t1 \u3002 obclient> CREATE TABLE t1(c1 int primary key, c2 int) partition BY key(c1) partitions 4; Query OK, 0 rows affected (0.11 sec) \u5411\u8868 t1 \u4e2d\u63d2\u5165\u4e00\u884c\u6570\u636e\u3002 obclient> INSERT INTO t1 VALUES(1,1); Query OK, 1 row affected (0.01 sec) obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | +----+------+ 1 row in set (0.04 sec) \u5411\u8868 t1 \u4e2d\u63d2\u5165\u591a\u884c\u6570\u636e\u3002 obclient> INSERT t1 VALUES(1,1),(2,default),(2+2,3*4); Query OK, 3 rows affected (0.02 sec) Records: 3 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | NULL | | 4 | 12 | +----+------+ 3 rows in set (0.02 sec) \u66f4\u591a INSERT \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d INSERT \u7ae0\u8282\u3002","title":"2.6.4 insert data"},{"location":"2.quickstart/6.basic-operations/2.6.4%20insert-data/#_1","text":"\u4f7f\u7528 INSERT \u8bed\u53e5\u5728\u5df2\u7ecf\u5b58\u5728\u7684\u8868\u4e2d\u63d2\u5165\u6570\u636e\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u5047\u8bbe\u6709\u5982\u4e0b\u6240\u793a\u6570\u636e\u7684\u8868 t1 \u3002 obclient> CREATE TABLE t1(c1 int primary key, c2 int) partition BY key(c1) partitions 4; Query OK, 0 rows affected (0.11 sec) \u5411\u8868 t1 \u4e2d\u63d2\u5165\u4e00\u884c\u6570\u636e\u3002 obclient> INSERT INTO t1 VALUES(1,1); Query OK, 1 row affected (0.01 sec) obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | +----+------+ 1 row in set (0.04 sec) \u5411\u8868 t1 \u4e2d\u63d2\u5165\u591a\u884c\u6570\u636e\u3002 obclient> INSERT t1 VALUES(1,1),(2,default),(2+2,3*4); Query OK, 3 rows affected (0.02 sec) Records: 3 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | NULL | | 4 | 12 | +----+------+ 3 rows in set (0.02 sec) \u66f4\u591a INSERT \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d INSERT \u7ae0\u8282\u3002","title":"\u63d2\u5165\u6570\u636e"},{"location":"2.quickstart/6.basic-operations/2.6.5%20delete-data/","text":"\u5220\u9664\u6570\u636e \u4f7f\u7528 DELETE \u8bed\u53e5\u5220\u9664\u6570\u636e\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u5047\u8bbe\u6709\u5982\u4e0b\u6240\u793a\u6570\u636e\u7684\u8868 t1 \u548c t2 \u3002\u5176\u4e2d\uff0c\u8868 t2 \u4e3a KEY \u5206\u533a\u8868\uff0c\u4e14\u5206\u533a\u540d\u7531\u7cfb\u7edf\u6839\u636e\u5206\u533a\u547d\u4ee4\u89c4\u5219\u81ea\u52a8\u751f\u6210\uff0c\u5373\u5206\u533a\u540d\u4e3a p0 \u3001 p1 \u3001 p2 \u3001 p3 \u3002 obclient> CREATE TABLE t1(c1 int primary key, c2 int); Query OK, 0 rows affected (0.16 sec) obclient> INSERT t1 VALUES(1,1),(2,2),(3,3),(4,4); Query OK, 4 rows affected (0.00 sec) Records: 4 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | 2 | | 3 | 3 | | 4 | 4 | +----+------+ 4 rows in set (0.06 sec) obclient> CREATE TABLE t2(c1 int primary key, c2 int) partition BY key(c1) partitions 4; Query OK, 0 rows affected (0.19 sec) obclient> INSERT INTO t2 VALUES(5,5),(1,1),(2,2),(3,3); Query OK, 4 rows affected (0.01 sec) Records: 4 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t2; +----+------+ | c1 | c2 | +----+------+ | 5 | 5 | | 1 | 1 | | 2 | 2 | | 3 | 3 | +----+------+ 4 rows in set (0.02 sec) \u5355\u8868\u5220\u9664\uff0c\u5220\u9664 c1=2 \u7684\u884c\uff0c\u5176\u4e2d c1 \u5217\u4e3a\u8868 t1 \u4e2d\u7684 Primary Key\u3002 obclient> DELETE FROM t1 WHERE c1 = 2; Query OK, 1 row affected (0.02 sec) obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 3 | 3 | | 4 | 4 | +----+------+ 3 rows in set (0.01 sec) \u5355\u8868\u5220\u9664\uff0c\u5220\u9664\u8868 t1 \u4e2d\u6309\u7167 c2 \u5217\u6392\u5e8f\u4e4b\u540e\u7684\u7b2c\u4e00\u884c\u6570\u636e\u3002 obclient> DELETE FROM t1 ORDER BY c2 LIMIT 1; Query OK, 1 row affected (0.01 sec) obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 2 | 2 | | 3 | 3 | | 4 | 4 | +----+------+ 3 rows in set (0.00 sec) \u5355\u8868\u5220\u9664\uff0c\u5220\u9664\u8868 t2 \u7684 p2 \u5206\u533a\u7684\u6570\u636e\u3002 obclient> SELECT * FROM t2 PARTITION(p2); +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | 2 | | 3 | 3 | +----+------+ 3 rows in set (0.01 sec) obclient> DELETE FROM t2 PARTITION(p2); Query OK, 3 rows affected (0.02 sec) obclient> SELECT * FROM t2; +----+------+ | c1 | c2 | +----+------+ | 5 | 5 | +----+------+ 1 row in set (0.02 sec) \u591a\u8868\u5220\u9664\uff0c\u5220\u9664 t1 \u3001 t2 \u8868\u4e2d t1.c1 = t2.c1 \u7684\u6570\u636e\u3002 obclient> DELETE t1, t2 FROM t1, t2 WHERE t1.c1 = t2.c1; Query OK, 3 rows affected (0.02 sec) obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 4 | 4 | +----+------+ 1 row in set (0.01 sec) obclient> SELECT * FROM t2; +----+------+ | c1 | c2 | +----+------+ | 5 | 5 | +----+------+ 1 row in set (0.01 sec) \u591a\u8868\u5220\u9664\uff0c\u5220\u9664 t1 \u3001 t2 \u8868\u4e2d t1.c1 = t2.c1 \u7684\u6570\u636e\u3002 obclient> DELETE FROM t1, t2 USING t1, t2 WHERE t1.c1 = t2.c1; Query OK, 4 rows affected (0.02 sec) obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 4 | 4 | +----+------+ 1 row in set (0.01 sec) obclient> SELECT * FROM t2; Empty set (0.01 sec) \u66f4\u591a DELETE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d DELETE \u7ae0\u8282\u3002","title":"2.6.5 delete data"},{"location":"2.quickstart/6.basic-operations/2.6.5%20delete-data/#_1","text":"\u4f7f\u7528 DELETE \u8bed\u53e5\u5220\u9664\u6570\u636e\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u5047\u8bbe\u6709\u5982\u4e0b\u6240\u793a\u6570\u636e\u7684\u8868 t1 \u548c t2 \u3002\u5176\u4e2d\uff0c\u8868 t2 \u4e3a KEY \u5206\u533a\u8868\uff0c\u4e14\u5206\u533a\u540d\u7531\u7cfb\u7edf\u6839\u636e\u5206\u533a\u547d\u4ee4\u89c4\u5219\u81ea\u52a8\u751f\u6210\uff0c\u5373\u5206\u533a\u540d\u4e3a p0 \u3001 p1 \u3001 p2 \u3001 p3 \u3002 obclient> CREATE TABLE t1(c1 int primary key, c2 int); Query OK, 0 rows affected (0.16 sec) obclient> INSERT t1 VALUES(1,1),(2,2),(3,3),(4,4); Query OK, 4 rows affected (0.00 sec) Records: 4 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | 2 | | 3 | 3 | | 4 | 4 | +----+------+ 4 rows in set (0.06 sec) obclient> CREATE TABLE t2(c1 int primary key, c2 int) partition BY key(c1) partitions 4; Query OK, 0 rows affected (0.19 sec) obclient> INSERT INTO t2 VALUES(5,5),(1,1),(2,2),(3,3); Query OK, 4 rows affected (0.01 sec) Records: 4 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t2; +----+------+ | c1 | c2 | +----+------+ | 5 | 5 | | 1 | 1 | | 2 | 2 | | 3 | 3 | +----+------+ 4 rows in set (0.02 sec) \u5355\u8868\u5220\u9664\uff0c\u5220\u9664 c1=2 \u7684\u884c\uff0c\u5176\u4e2d c1 \u5217\u4e3a\u8868 t1 \u4e2d\u7684 Primary Key\u3002 obclient> DELETE FROM t1 WHERE c1 = 2; Query OK, 1 row affected (0.02 sec) obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 3 | 3 | | 4 | 4 | +----+------+ 3 rows in set (0.01 sec) \u5355\u8868\u5220\u9664\uff0c\u5220\u9664\u8868 t1 \u4e2d\u6309\u7167 c2 \u5217\u6392\u5e8f\u4e4b\u540e\u7684\u7b2c\u4e00\u884c\u6570\u636e\u3002 obclient> DELETE FROM t1 ORDER BY c2 LIMIT 1; Query OK, 1 row affected (0.01 sec) obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 2 | 2 | | 3 | 3 | | 4 | 4 | +----+------+ 3 rows in set (0.00 sec) \u5355\u8868\u5220\u9664\uff0c\u5220\u9664\u8868 t2 \u7684 p2 \u5206\u533a\u7684\u6570\u636e\u3002 obclient> SELECT * FROM t2 PARTITION(p2); +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | 2 | | 3 | 3 | +----+------+ 3 rows in set (0.01 sec) obclient> DELETE FROM t2 PARTITION(p2); Query OK, 3 rows affected (0.02 sec) obclient> SELECT * FROM t2; +----+------+ | c1 | c2 | +----+------+ | 5 | 5 | +----+------+ 1 row in set (0.02 sec) \u591a\u8868\u5220\u9664\uff0c\u5220\u9664 t1 \u3001 t2 \u8868\u4e2d t1.c1 = t2.c1 \u7684\u6570\u636e\u3002 obclient> DELETE t1, t2 FROM t1, t2 WHERE t1.c1 = t2.c1; Query OK, 3 rows affected (0.02 sec) obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 4 | 4 | +----+------+ 1 row in set (0.01 sec) obclient> SELECT * FROM t2; +----+------+ | c1 | c2 | +----+------+ | 5 | 5 | +----+------+ 1 row in set (0.01 sec) \u591a\u8868\u5220\u9664\uff0c\u5220\u9664 t1 \u3001 t2 \u8868\u4e2d t1.c1 = t2.c1 \u7684\u6570\u636e\u3002 obclient> DELETE FROM t1, t2 USING t1, t2 WHERE t1.c1 = t2.c1; Query OK, 4 rows affected (0.02 sec) obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 4 | 4 | +----+------+ 1 row in set (0.01 sec) obclient> SELECT * FROM t2; Empty set (0.01 sec) \u66f4\u591a DELETE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d DELETE \u7ae0\u8282\u3002","title":"\u5220\u9664\u6570\u636e"},{"location":"2.quickstart/6.basic-operations/2.6.6%20update-data/","text":"\u66f4\u65b0\u6570\u636e \u4f7f\u7528 UPDATE \u8bed\u53e5\u4fee\u6539\u8868\u4e2d\u7684\u5b57\u6bb5\u503c\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u521b\u5efa\u793a\u4f8b\u8868 t1 \u548c t2 \u3002 obclient> CREATE TABLE t1(c1 int primary key, c2 int); Query OK, 0 rows affected (0.16 sec) obclient> INSERT t1 VALUES(1,1),(2,2),(3,3),(4,4); Query OK, 4 rows affected (0.02 sec) Records: 4 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | 2 | | 3 | 3 | | 4 | 4 | +----+------+ 4 rows in set (0.06 sec) obclient> CREATE TABLE t2(c1 int primary key, c2 int) partition by key(c1) partitions 4; Query OK, 0 rows affected(0.19 sec) obclient> INSERT t2 VALUES(5,5),(1,1),(2,2),(3,3); Query OK, 4 rows affected (0.01 sec) Records: 4 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t2; +----+------+ | c1 | c2 | +----+------+ | 5 | 5 | | 1 | 1 | | 2 | 2 | | 3 | 3 | +----+------+ 4 rows in set (0.02 sec) \u5c06\u8868 t1 \u4e2d t1.c1=1 \u5bf9\u5e94\u7684\u90a3\u4e00\u884c\u6570\u636e\u7684 c2 \u5217\u503c\u4fee\u6539\u4e3a 100 \u3002 obclient> UPDATE t1 SET t1.c2 = 100 WHERE t1.c1 = 1; Query OK, 1 row affected (0.02 sec) Rows matched: 1 Changed: 1 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 100 | | 2 | 2 | | 3 | 3 | | 4 | 4 | +----+------+ 4 rows in set (0.01 sec) \u5c06\u8868 t1 \u4e2d\u6309\u7167 c2 \u5217\u6392\u5e8f\u7684\u524d\u4e24\u884c\u6570\u636e\u7684 c2 \u5217\u503c\u4fee\u6539\u4e3a 100 \u3002 obclient> UPDATE t1 set t1.c2 = 100 ORDER BY c2 LIMIT 2; Query OK, 2 rows affected (0.02 sec) Rows matched: 2 Changed: 2 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 100 | | 2 | 100 | | 3 | 3 | | 4 | 4 | +----+------+ 4 rows in set (0.01 sec) \u5c06\u8868 t2 \u4e2d p2 \u5206\u533a\u7684\u6570\u636e\u4e2d t2.c1 > 2 \u7684\u5bf9\u5e94\u884c\u6570\u636e\u7684 c2 \u5217\u503c\u4fee\u6539\u4e3a 100 \u3002 obclient> SELECT * FROM t2 partition (p2); +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | 2 | | 3 | 3 | +----+------+ 3 rows in set (0.01 sec) obclient> UPDATE t2 partition(p2) SET t2.c2 = 100 WHERE t2.c1 > 2; Query OK, 1 row affected (0.02 sec) Rows matched: 1 Changed: 1 Warnings: 0 obclient> SELECT * FROM t2 partition (p2); +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | 2 | | 3 | 100 | +----+------+ 3 rows in set (0.00 sec) \u4fee\u6539\u591a\u4e2a\u8868\u3002\u5bf9\u4e8e\u8868 t1 \u548c\u8868 t2 \u4e2d\u6ee1\u8db3 t1.c2 = t2.c2 \u5bf9\u5e94\u884c\u7684\u6570\u636e\uff0c\u5c06\u8868 t1 \u4e2d\u7684 c2 \u5217\u503c\u4fee\u6539\u4e3a 100 \uff0c\u8868 t2 \u4e2d\u7684 c2 \u5217\u503c\u4fee\u6539\u4e3a 200 \u3002 obclient> UPDATE t1,t2 SET t1.c2 = 100, t2.c2 = 200 WHERE t1.c2 = t2.c2; Query OK, 6 rows affected (0.03 sec) Rows matched: 6 Changed: 6 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 100 | | 2 | 100 | | 3 | 100 | | 4 | 4 | +----+------+ 4 rows in set (0.00 sec) obclient> SELECT * FROM t2; +----+------+ | c1 | c2 | +----+------+ | 5 | 5 | | 1 | 200 | | 2 | 200 | | 3 | 200 | +----+------+ 4 rows in set (0.01 sec) \u66f4\u591a UPDATE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d UPDATE \u7ae0\u8282\u3002","title":"2.6.6 update data"},{"location":"2.quickstart/6.basic-operations/2.6.6%20update-data/#_1","text":"\u4f7f\u7528 UPDATE \u8bed\u53e5\u4fee\u6539\u8868\u4e2d\u7684\u5b57\u6bb5\u503c\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u521b\u5efa\u793a\u4f8b\u8868 t1 \u548c t2 \u3002 obclient> CREATE TABLE t1(c1 int primary key, c2 int); Query OK, 0 rows affected (0.16 sec) obclient> INSERT t1 VALUES(1,1),(2,2),(3,3),(4,4); Query OK, 4 rows affected (0.02 sec) Records: 4 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | 2 | | 3 | 3 | | 4 | 4 | +----+------+ 4 rows in set (0.06 sec) obclient> CREATE TABLE t2(c1 int primary key, c2 int) partition by key(c1) partitions 4; Query OK, 0 rows affected(0.19 sec) obclient> INSERT t2 VALUES(5,5),(1,1),(2,2),(3,3); Query OK, 4 rows affected (0.01 sec) Records: 4 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t2; +----+------+ | c1 | c2 | +----+------+ | 5 | 5 | | 1 | 1 | | 2 | 2 | | 3 | 3 | +----+------+ 4 rows in set (0.02 sec) \u5c06\u8868 t1 \u4e2d t1.c1=1 \u5bf9\u5e94\u7684\u90a3\u4e00\u884c\u6570\u636e\u7684 c2 \u5217\u503c\u4fee\u6539\u4e3a 100 \u3002 obclient> UPDATE t1 SET t1.c2 = 100 WHERE t1.c1 = 1; Query OK, 1 row affected (0.02 sec) Rows matched: 1 Changed: 1 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 100 | | 2 | 2 | | 3 | 3 | | 4 | 4 | +----+------+ 4 rows in set (0.01 sec) \u5c06\u8868 t1 \u4e2d\u6309\u7167 c2 \u5217\u6392\u5e8f\u7684\u524d\u4e24\u884c\u6570\u636e\u7684 c2 \u5217\u503c\u4fee\u6539\u4e3a 100 \u3002 obclient> UPDATE t1 set t1.c2 = 100 ORDER BY c2 LIMIT 2; Query OK, 2 rows affected (0.02 sec) Rows matched: 2 Changed: 2 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 100 | | 2 | 100 | | 3 | 3 | | 4 | 4 | +----+------+ 4 rows in set (0.01 sec) \u5c06\u8868 t2 \u4e2d p2 \u5206\u533a\u7684\u6570\u636e\u4e2d t2.c1 > 2 \u7684\u5bf9\u5e94\u884c\u6570\u636e\u7684 c2 \u5217\u503c\u4fee\u6539\u4e3a 100 \u3002 obclient> SELECT * FROM t2 partition (p2); +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | 2 | | 3 | 3 | +----+------+ 3 rows in set (0.01 sec) obclient> UPDATE t2 partition(p2) SET t2.c2 = 100 WHERE t2.c1 > 2; Query OK, 1 row affected (0.02 sec) Rows matched: 1 Changed: 1 Warnings: 0 obclient> SELECT * FROM t2 partition (p2); +----+------+ | c1 | c2 | +----+------+ | 1 | 1 | | 2 | 2 | | 3 | 100 | +----+------+ 3 rows in set (0.00 sec) \u4fee\u6539\u591a\u4e2a\u8868\u3002\u5bf9\u4e8e\u8868 t1 \u548c\u8868 t2 \u4e2d\u6ee1\u8db3 t1.c2 = t2.c2 \u5bf9\u5e94\u884c\u7684\u6570\u636e\uff0c\u5c06\u8868 t1 \u4e2d\u7684 c2 \u5217\u503c\u4fee\u6539\u4e3a 100 \uff0c\u8868 t2 \u4e2d\u7684 c2 \u5217\u503c\u4fee\u6539\u4e3a 200 \u3002 obclient> UPDATE t1,t2 SET t1.c2 = 100, t2.c2 = 200 WHERE t1.c2 = t2.c2; Query OK, 6 rows affected (0.03 sec) Rows matched: 6 Changed: 6 Warnings: 0 obclient> SELECT * FROM t1; +----+------+ | c1 | c2 | +----+------+ | 1 | 100 | | 2 | 100 | | 3 | 100 | | 4 | 4 | +----+------+ 4 rows in set (0.00 sec) obclient> SELECT * FROM t2; +----+------+ | c1 | c2 | +----+------+ | 5 | 5 | | 1 | 200 | | 2 | 200 | | 3 | 200 | +----+------+ 4 rows in set (0.01 sec) \u66f4\u591a UPDATE \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d UPDATE \u7ae0\u8282\u3002","title":"\u66f4\u65b0\u6570\u636e"},{"location":"2.quickstart/6.basic-operations/2.6.7%20query-data/","text":"\u67e5\u8be2\u6570\u636e \u4f7f\u7528 SELECT \u8bed\u53e5\u67e5\u8be2\u8868\u4e2d\u7684\u5185\u5bb9\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u5047\u8bbe\u6709\u5982\u4e0b\u6240\u793a\u6570\u636e\u7684\u8868 a \u3002 obclient> CREATE TABLE a (id int, name varchar(50), num int); Query OK, 0 rows affected (0.07 sec) obclient> INSERT INTO a VALUES(1,'a',100),(2,'b',200),(3,'a',50); Query OK, 3 rows affected (0.00 sec) Records: 3 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM a; +------+------+------+ | ID | NAME | NUM | +------+------+------+ | 1 | a | 100 | | 2 | b | 200 | | 3 | a | 50 | +------+------+------+ 3 rows in set (0.00 sec) \u4ece\u8868 a \u4e2d\u8bfb\u53d6 name \u7684\u6570\u636e\u3002 obclient> SELECT name FROM a; +------+ | NAME | +------+ | a | | b | | a | +------+ 3 rows in set (0.00 sec) \u5728\u67e5\u8be2\u7ed3\u679c\u4e2d\u5bf9 name \u8fdb\u884c\u53bb\u91cd\u5904\u7406\u3002 obclient> SELECT DISTINCT name FROM a; +------+ | NAME | +------+ | a | | b | +------+ 2 rows in set (0.01 sec) \u4ece\u8868 a \u4e2d\u6839\u636e\u7b5b\u9009\u6761\u4ef6 name = 'a' \uff0c\u8f93\u51fa\u5bf9\u5e94\u7684 id \u3001 name \u548c num \u3002 obclient> SELECT id, name, num FROM a WHERE name = 'a'; +------+------+------+ | ID | NAME | NUM | +------+------+------+ | 1 | a | 100 | | 3 | a | 50 | +------+------+------+ 2 rows in set (0.00 sec) \u66f4\u591a SELECT \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d SELECT \u7ae0\u8282\u3002","title":"2.6.7 query data"},{"location":"2.quickstart/6.basic-operations/2.6.7%20query-data/#_1","text":"\u4f7f\u7528 SELECT \u8bed\u53e5\u67e5\u8be2\u8868\u4e2d\u7684\u5185\u5bb9\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a \u5047\u8bbe\u6709\u5982\u4e0b\u6240\u793a\u6570\u636e\u7684\u8868 a \u3002 obclient> CREATE TABLE a (id int, name varchar(50), num int); Query OK, 0 rows affected (0.07 sec) obclient> INSERT INTO a VALUES(1,'a',100),(2,'b',200),(3,'a',50); Query OK, 3 rows affected (0.00 sec) Records: 3 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM a; +------+------+------+ | ID | NAME | NUM | +------+------+------+ | 1 | a | 100 | | 2 | b | 200 | | 3 | a | 50 | +------+------+------+ 3 rows in set (0.00 sec) \u4ece\u8868 a \u4e2d\u8bfb\u53d6 name \u7684\u6570\u636e\u3002 obclient> SELECT name FROM a; +------+ | NAME | +------+ | a | | b | | a | +------+ 3 rows in set (0.00 sec) \u5728\u67e5\u8be2\u7ed3\u679c\u4e2d\u5bf9 name \u8fdb\u884c\u53bb\u91cd\u5904\u7406\u3002 obclient> SELECT DISTINCT name FROM a; +------+ | NAME | +------+ | a | | b | +------+ 2 rows in set (0.01 sec) \u4ece\u8868 a \u4e2d\u6839\u636e\u7b5b\u9009\u6761\u4ef6 name = 'a' \uff0c\u8f93\u51fa\u5bf9\u5e94\u7684 id \u3001 name \u548c num \u3002 obclient> SELECT id, name, num FROM a WHERE name = 'a'; +------+------+------+ | ID | NAME | NUM | +------+------+------+ | 1 | a | 100 | | 3 | a | 50 | +------+------+------+ 2 rows in set (0.00 sec) \u66f4\u591a SELECT \u8bed\u53e5\u76f8\u5173\u7684\u8bed\u6cd5\u8bf4\u660e\u8bf7\u53c2\u89c1\u300aSQL \u53c2\u8003\uff08MySQL \u6a21\u5f0f\uff09\u300b\u4e2d SELECT \u7ae0\u8282\u3002","title":"\u67e5\u8be2\u6570\u636e"},{"location":"2.quickstart/6.basic-operations/2.6.8%20submit-transaction/","text":"\u63d0\u4ea4\u4e8b\u52a1 \u4f7f\u7528 COMMIT \u8bed\u53e5\u63d0\u4ea4\u4e8b\u52a1\u3002 \u5728\u63d0\u4ea4\u4e8b\u52a1\uff08 COMMIT \uff09\u4e4b\u524d\uff1a \u60a8\u7684\u4fee\u6539\u53ea\u5bf9\u5f53\u524d\u4f1a\u8bdd\u53ef\u89c1\uff0c\u5bf9\u5176\u4ed6\u6570\u636e\u5e93\u4f1a\u8bdd\u5747\u4e0d\u53ef\u89c1\u3002 \u60a8\u7684\u4fee\u6539\u6ca1\u6709\u6301\u4e45\u5316\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 ROLLBACK \u8bed\u53e5\u64a4\u9500\u4fee\u6539\u3002 \u5728\u63d0\u4ea4\u4e8b\u52a1\uff08 COMMIT \uff09\u4e4b\u540e\uff1a \u60a8\u7684\u4fee\u6539\u5bf9\u6240\u6709\u6570\u636e\u5e93\u4f1a\u8bdd\u53ef\u89c1\u3002 \u60a8\u7684\u4fee\u6539\u6301\u4e45\u5316\u6210\u529f\uff0c\u4e0d\u80fd\u901a\u8fc7 ROLLBACK \u8bed\u53e5\u56de\u6eda\u4fee\u6539\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> INSERT INTO t_insert(id,name) VALUES(4,'JP'); Query OK, 1 row affected (0.01 sec) obclient> COMMIT; Query OK, 0 rows affected (0.00 sec) obclient> exit; Bye [user@host ~]$obclient -h192.168.1.101 -utpcc@obbmsql#obdemo -P2883 -p123456 TPCC Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. obclient> SELECT * FROM t_insert; +----+------+-------+---------------------+ | ID | NAME | VALUE | GMT_CREATE | +----+------+-------+---------------------+ | 1 | CN | 10001 | 2020-04-02 17:52:31 | | 2 | US | 10002 | 2020-04-02 17:52:38 | | 3 | EN | 10003 | 2020-04-02 17:52:38 | | 4 | JP | NULL | 2020-04-02 17:53:34 | +----+------+-------+---------------------+ 4 rows in set (0.00 sec) \u66f4\u591a\u4e8b\u52a1\u63a7\u5236\u8bed\u53e5\u76f8\u5173\u7684\u8bf4\u660e\u8bf7\u53c2\u89c1 \u5173\u4e8e\u4e8b\u52a1\u63a7\u5236\u8bed\u53e5 \u3002","title":"2.6.8 submit transaction"},{"location":"2.quickstart/6.basic-operations/2.6.8%20submit-transaction/#_1","text":"\u4f7f\u7528 COMMIT \u8bed\u53e5\u63d0\u4ea4\u4e8b\u52a1\u3002 \u5728\u63d0\u4ea4\u4e8b\u52a1\uff08 COMMIT \uff09\u4e4b\u524d\uff1a \u60a8\u7684\u4fee\u6539\u53ea\u5bf9\u5f53\u524d\u4f1a\u8bdd\u53ef\u89c1\uff0c\u5bf9\u5176\u4ed6\u6570\u636e\u5e93\u4f1a\u8bdd\u5747\u4e0d\u53ef\u89c1\u3002 \u60a8\u7684\u4fee\u6539\u6ca1\u6709\u6301\u4e45\u5316\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 ROLLBACK \u8bed\u53e5\u64a4\u9500\u4fee\u6539\u3002 \u5728\u63d0\u4ea4\u4e8b\u52a1\uff08 COMMIT \uff09\u4e4b\u540e\uff1a \u60a8\u7684\u4fee\u6539\u5bf9\u6240\u6709\u6570\u636e\u5e93\u4f1a\u8bdd\u53ef\u89c1\u3002 \u60a8\u7684\u4fee\u6539\u6301\u4e45\u5316\u6210\u529f\uff0c\u4e0d\u80fd\u901a\u8fc7 ROLLBACK \u8bed\u53e5\u56de\u6eda\u4fee\u6539\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a obclient> INSERT INTO t_insert(id,name) VALUES(4,'JP'); Query OK, 1 row affected (0.01 sec) obclient> COMMIT; Query OK, 0 rows affected (0.00 sec) obclient> exit; Bye [user@host ~]$obclient -h192.168.1.101 -utpcc@obbmsql#obdemo -P2883 -p123456 TPCC Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. obclient> SELECT * FROM t_insert; +----+------+-------+---------------------+ | ID | NAME | VALUE | GMT_CREATE | +----+------+-------+---------------------+ | 1 | CN | 10001 | 2020-04-02 17:52:31 | | 2 | US | 10002 | 2020-04-02 17:52:38 | | 3 | EN | 10003 | 2020-04-02 17:52:38 | | 4 | JP | NULL | 2020-04-02 17:53:34 | +----+------+-------+---------------------+ 4 rows in set (0.00 sec) \u66f4\u591a\u4e8b\u52a1\u63a7\u5236\u8bed\u53e5\u76f8\u5173\u7684\u8bf4\u660e\u8bf7\u53c2\u89c1 \u5173\u4e8e\u4e8b\u52a1\u63a7\u5236\u8bed\u53e5 \u3002","title":"\u63d0\u4ea4\u4e8b\u52a1"},{"location":"2.quickstart/6.basic-operations/2.6.9%20roll-back-transactions/","text":"\u56de\u6eda\u4e8b\u52a1 \u4f7f\u7528 ROLLBACK \u8bed\u53e5\u56de\u6eda\u4e8b\u52a1\u3002 \u56de\u6eda\u4e00\u4e2a\u4e8b\u52a1\u6307\u5c06\u4e8b\u52a1\u7684\u4fee\u6539\u5168\u90e8\u64a4\u9500\u3002\u53ef\u4ee5\u56de\u6eda\u5f53\u524d\u6574\u4e2a\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\uff0c\u4e5f\u53ef\u4ee5\u56de\u6eda\u5230\u4e8b\u52a1\u4e2d\u4efb\u610f\u4e00\u4e2a\u4fdd\u5b58\u70b9\u3002\u5982\u679c\u8981\u56de\u6eda\u5230\u67d0\u4e2a\u4fdd\u5b58\u70b9\uff0c\u5fc5\u987b\u7ed3\u5408\u4f7f\u7528 ROLLBACK \u548c TO SAVEPOINT \u8bed\u53e5\u3002 \u5176\u4e2d\uff1a \u5982\u679c\u56de\u6eda\u6574\u4e2a\u4e8b\u52a1\uff0c\u5219\uff1a \u4e8b\u52a1\u4f1a\u7ed3\u675f \u6240\u6709\u7684\u4fee\u6539\u4f1a\u88ab\u4e22\u5f03 \u6e05\u9664\u6240\u6709\u4fdd\u5b58\u70b9 \u91ca\u653e\u4e8b\u52a1\u6301\u6709\u7684\u6240\u6709\u9501 \u5982\u679c\u56de\u6eda\u5230\u67d0\u4e2a\u4fdd\u5b58\u70b9\uff0c\u5219\uff1a \u4e8b\u52a1\u4e0d\u4f1a\u7ed3\u675f \u4fdd\u5b58\u70b9\u4e4b\u524d\u7684\u4fee\u6539\u88ab\u4fdd\u7559\uff0c\u4fdd\u5b58\u70b9\u4e4b\u540e\u7684\u4fee\u6539\u88ab\u4e22\u5f03 \u6e05\u9664\u4fdd\u5b58\u70b9\u4e4b\u540e\u7684\u4fdd\u5b58\u70b9\uff08\u4e0d\u5305\u62ec\u4fdd\u5b58\u70b9\u81ea\u8eab\uff09 \u91ca\u653e\u4fdd\u5b58\u70b9\u4e4b\u540e\u4e8b\u52a1\u6301\u6709\u7684\u6240\u6709\u9501 \u793a\u4f8b\u5982\u4e0b\uff1a \u56de\u6eda\u4e8b\u52a1\u7684\u5168\u90e8\u4fee\u6539\uff1a obclient> SELECT * FROM t_insert; +----+------+-------+---------------------+ | ID | NAME | VALUE | GMT_CREATE | +----+------+-------+---------------------+ | 1 | CN | 10001 | 2020-04-02 17:52:31 | | 2 | US | 10002 | 2020-04-02 17:52:38 | | 3 | EN | 10003 | 2020-04-02 17:52:38 | +----+------+-------+---------------------+ 3 rows in set (0.00 sec) obclient> INSERT INTO t_insert(id, name, value) VALUES(4,'JP',10004); Query OK, 1 row affected (0.00 sec) obclient> INSERT INTO t_insert(id, name, value) VALUES(5,'FR',10005),(6,'RU',10006); Query OK, 2 rows affected (0.00 sec) Records: 2 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t_insert; +----+------+-------+---------------------+ | ID | NAME | VALUE | GMT_CREATE | +----+------+-------+---------------------+ | 1 | CN | 10001 | 2020-04-02 17:52:31 | | 2 | US | 10002 | 2020-04-02 17:52:38 | | 3 | EN | 10003 | 2020-04-02 17:52:38 | | 4 | JP | 10004 | 2020-04-02 17:53:34 | | 5 | FR | 10005 | 2020-04-02 17:54:53 | | 6 | RU | 10006 | 2020-04-02 17:54:53 | +----+------+-------+---------------------+ 6 rows in set (0.00 sec) obclient> ROLLBACK; Query OK, 0 rows affected (0.00 sec) obclient> SELECT * FROM t_insert; +----+------+-------+---------------------+ | ID | NAME | VALUE | GMT_CREATE | +----+------+-------+---------------------+ | 1 | CN | 10001 | 2020-04-02 17:52:31 | | 2 | US | 10002 | 2020-04-02 17:52:38 | | 3 | EN | 10003 | 2020-04-02 17:52:38 | +----+------+-------+---------------------+ 3 rows in set (0.00 sec) \u66f4\u591a\u4e8b\u52a1\u63a7\u5236\u8bed\u53e5\u76f8\u5173\u7684\u8bf4\u660e\u8bf7\u53c2\u89c1 \u5173\u4e8e\u4e8b\u52a1\u63a7\u5236\u8bed\u53e5 \u3002","title":"2.6.9 roll back transactions"},{"location":"2.quickstart/6.basic-operations/2.6.9%20roll-back-transactions/#_1","text":"\u4f7f\u7528 ROLLBACK \u8bed\u53e5\u56de\u6eda\u4e8b\u52a1\u3002 \u56de\u6eda\u4e00\u4e2a\u4e8b\u52a1\u6307\u5c06\u4e8b\u52a1\u7684\u4fee\u6539\u5168\u90e8\u64a4\u9500\u3002\u53ef\u4ee5\u56de\u6eda\u5f53\u524d\u6574\u4e2a\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\uff0c\u4e5f\u53ef\u4ee5\u56de\u6eda\u5230\u4e8b\u52a1\u4e2d\u4efb\u610f\u4e00\u4e2a\u4fdd\u5b58\u70b9\u3002\u5982\u679c\u8981\u56de\u6eda\u5230\u67d0\u4e2a\u4fdd\u5b58\u70b9\uff0c\u5fc5\u987b\u7ed3\u5408\u4f7f\u7528 ROLLBACK \u548c TO SAVEPOINT \u8bed\u53e5\u3002 \u5176\u4e2d\uff1a \u5982\u679c\u56de\u6eda\u6574\u4e2a\u4e8b\u52a1\uff0c\u5219\uff1a \u4e8b\u52a1\u4f1a\u7ed3\u675f \u6240\u6709\u7684\u4fee\u6539\u4f1a\u88ab\u4e22\u5f03 \u6e05\u9664\u6240\u6709\u4fdd\u5b58\u70b9 \u91ca\u653e\u4e8b\u52a1\u6301\u6709\u7684\u6240\u6709\u9501 \u5982\u679c\u56de\u6eda\u5230\u67d0\u4e2a\u4fdd\u5b58\u70b9\uff0c\u5219\uff1a \u4e8b\u52a1\u4e0d\u4f1a\u7ed3\u675f \u4fdd\u5b58\u70b9\u4e4b\u524d\u7684\u4fee\u6539\u88ab\u4fdd\u7559\uff0c\u4fdd\u5b58\u70b9\u4e4b\u540e\u7684\u4fee\u6539\u88ab\u4e22\u5f03 \u6e05\u9664\u4fdd\u5b58\u70b9\u4e4b\u540e\u7684\u4fdd\u5b58\u70b9\uff08\u4e0d\u5305\u62ec\u4fdd\u5b58\u70b9\u81ea\u8eab\uff09 \u91ca\u653e\u4fdd\u5b58\u70b9\u4e4b\u540e\u4e8b\u52a1\u6301\u6709\u7684\u6240\u6709\u9501 \u793a\u4f8b\u5982\u4e0b\uff1a \u56de\u6eda\u4e8b\u52a1\u7684\u5168\u90e8\u4fee\u6539\uff1a obclient> SELECT * FROM t_insert; +----+------+-------+---------------------+ | ID | NAME | VALUE | GMT_CREATE | +----+------+-------+---------------------+ | 1 | CN | 10001 | 2020-04-02 17:52:31 | | 2 | US | 10002 | 2020-04-02 17:52:38 | | 3 | EN | 10003 | 2020-04-02 17:52:38 | +----+------+-------+---------------------+ 3 rows in set (0.00 sec) obclient> INSERT INTO t_insert(id, name, value) VALUES(4,'JP',10004); Query OK, 1 row affected (0.00 sec) obclient> INSERT INTO t_insert(id, name, value) VALUES(5,'FR',10005),(6,'RU',10006); Query OK, 2 rows affected (0.00 sec) Records: 2 Duplicates: 0 Warnings: 0 obclient> SELECT * FROM t_insert; +----+------+-------+---------------------+ | ID | NAME | VALUE | GMT_CREATE | +----+------+-------+---------------------+ | 1 | CN | 10001 | 2020-04-02 17:52:31 | | 2 | US | 10002 | 2020-04-02 17:52:38 | | 3 | EN | 10003 | 2020-04-02 17:52:38 | | 4 | JP | 10004 | 2020-04-02 17:53:34 | | 5 | FR | 10005 | 2020-04-02 17:54:53 | | 6 | RU | 10006 | 2020-04-02 17:54:53 | +----+------+-------+---------------------+ 6 rows in set (0.00 sec) obclient> ROLLBACK; Query OK, 0 rows affected (0.00 sec) obclient> SELECT * FROM t_insert; +----+------+-------+---------------------+ | ID | NAME | VALUE | GMT_CREATE | +----+------+-------+---------------------+ | 1 | CN | 10001 | 2020-04-02 17:52:31 | | 2 | US | 10002 | 2020-04-02 17:52:38 | | 3 | EN | 10003 | 2020-04-02 17:52:38 | +----+------+-------+---------------------+ 3 rows in set (0.00 sec) \u66f4\u591a\u4e8b\u52a1\u63a7\u5236\u8bed\u53e5\u76f8\u5173\u7684\u8bf4\u660e\u8bf7\u53c2\u89c1 \u5173\u4e8e\u4e8b\u52a1\u63a7\u5236\u8bed\u53e5 \u3002","title":"\u56de\u6eda\u4e8b\u52a1"},{"location":"4.installation-and-deployment/1.resource-preparation/","text":"\u8d44\u6e90\u51c6\u5907 OceanBase \u6570\u636e\u5e93 3.1.0 \u7248\u672c\u5728\u4ee5\u4e0b\u914d\u7f6e\u8fdb\u884c\u4e86\u7cfb\u7edf\u6027\u6d4b\u8bd5\u9a8c\u8bc1\uff0c\u63a8\u8350\u60a8\u4f7f\u7528\u4ee5\u4e0b\u8f6f\u786c\u4ef6\u914d\u7f6e\uff1a \u9879\u76ee \u63cf\u8ff0 \u7cfb\u7edf _ Red Hat Enterprise Linux Server 7.2 \u7248\u672c\uff08\u5185\u6838 Linux 3.10.0 \u7248\u672c\u53ca\u4ee5\u4e0a\uff09 _ CentOS Linux 7.2 \u7248\u672c\uff08\u5185\u6838 Linux 3.10.0 \u7248\u672c\u53ca\u4ee5\u4e0a\uff09 * openAnolis 8.2 \u7248\u672c\uff08x86_64\uff09 \u5185\u5b58 _ \u81f3\u5c11 8G _ \u4f01\u4e1a\u7ea7\u7528\u6237\u8981\u6c42\u81f3\u5c11 256G \u78c1\u76d8\u7c7b\u578b \u63a8\u8350\u4f7f\u7528 SSD \u78c1\u76d8\u5b58\u50a8\u7a7a\u95f4 \u81f3\u5c11 100G \u6587\u4ef6\u7cfb\u7edf EXT4 \u6213 XFS \u7f51\u5361 \u5343\u5146\u4e92\u8054\u53ca\u4ee5\u4e0a \u66f4\u591a\u8f6f\u786c\u4ef6\u5e73\u53f0\u9002\u914d\u6b63\u5728\u6d4b\u8bd5\u4e2d\u3002 \u8bf4\u660e \u5982\u679c\u60a8\u90e8\u7f72 OceanBase \u96c6\u7fa4\uff0c\u786e\u4fdd\u96c6\u7fa4\u5185\u7684\u6240\u6709\u673a\u5668\u914d\u7f6e\u76f8\u540c\u3002","title":"\u8d44\u6e90\u51c6\u5907"},{"location":"4.installation-and-deployment/1.resource-preparation/#_1","text":"OceanBase \u6570\u636e\u5e93 3.1.0 \u7248\u672c\u5728\u4ee5\u4e0b\u914d\u7f6e\u8fdb\u884c\u4e86\u7cfb\u7edf\u6027\u6d4b\u8bd5\u9a8c\u8bc1\uff0c\u63a8\u8350\u60a8\u4f7f\u7528\u4ee5\u4e0b\u8f6f\u786c\u4ef6\u914d\u7f6e\uff1a \u9879\u76ee \u63cf\u8ff0 \u7cfb\u7edf _ Red Hat Enterprise Linux Server 7.2 \u7248\u672c\uff08\u5185\u6838 Linux 3.10.0 \u7248\u672c\u53ca\u4ee5\u4e0a\uff09 _ CentOS Linux 7.2 \u7248\u672c\uff08\u5185\u6838 Linux 3.10.0 \u7248\u672c\u53ca\u4ee5\u4e0a\uff09 * openAnolis 8.2 \u7248\u672c\uff08x86_64\uff09 \u5185\u5b58 _ \u81f3\u5c11 8G _ \u4f01\u4e1a\u7ea7\u7528\u6237\u8981\u6c42\u81f3\u5c11 256G \u78c1\u76d8\u7c7b\u578b \u63a8\u8350\u4f7f\u7528 SSD \u78c1\u76d8\u5b58\u50a8\u7a7a\u95f4 \u81f3\u5c11 100G \u6587\u4ef6\u7cfb\u7edf EXT4 \u6213 XFS \u7f51\u5361 \u5343\u5146\u4e92\u8054\u53ca\u4ee5\u4e0a \u66f4\u591a\u8f6f\u786c\u4ef6\u5e73\u53f0\u9002\u914d\u6b63\u5728\u6d4b\u8bd5\u4e2d\u3002 \u8bf4\u660e \u5982\u679c\u60a8\u90e8\u7f72 OceanBase \u96c6\u7fa4\uff0c\u786e\u4fdd\u96c6\u7fa4\u5185\u7684\u6240\u6709\u673a\u5668\u914d\u7f6e\u76f8\u540c\u3002","title":"\u8d44\u6e90\u51c6\u5907"},{"location":"4.installation-and-deployment/2.install-the-oceanbase-database-by-using-the-rpm-package/","text":"\u4f7f\u7528 RPM \u5305\u5b89\u88c5 OceanBase \u6570\u636e\u5e93 \u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 RPM \u5305\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u3002 \u524d\u63d0\u6761\u4ef6 \u5728\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u5df2\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u6ee1\u8db3\u8f6f\u786c\u4ef6\u8981\u6c42\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u8d44\u6e90\u51c6\u5907 \u3002 \u60a8\u62e5\u6709 root \u8d26\u6237\u6743\u9650\u3002 \u5b89\u88c5 OBD \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4e0b\u8f7d OBD \u5b89\u88c5\u5305\u3002 wget https://mirrors.aliyun.com/oceanbase/community/stable/el/7/x86_64/ob-deploy-1.0.0-1.el7.x86_64.rpm \u6ce8\u610f \u793a\u4f8b\u4e2d\u7684\u5b89\u88c5\u5305\u53ef\u80fd\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\u5efa\u8bae\u60a8\u4e0b\u8f7d\u6700\u65b0\u7684\u5b89\u88c5\u5305\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 OBD \u53d1\u884c\u7248\u672c \u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5b89\u88c5 OBD\u3002 yum install -y ob-deploy-1.0.0-1.el7.x86_64.rpm source /etc/profile.d/obd.sh \u83b7\u53d6 OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4e0b\u8f7d OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305\uff1a wget https://mirrors.aliyun.com/oceanbase/community/stable/el/7/x86_64/oceanbase-ce-libs-3.1.0-1.el7.x86_64.rpm wget https://mirrors.aliyun.com/oceanbase/community/stable/el/7/x86_64/oceanbase-ce-3.1.0-1.el7.x86_64.rpm wget https://mirrors.aliyun.com/oceanbase/community/stable/el/7/x86_64/obproxy-3.1.0-1.el7.x86_64.rpm \u6ce8\u610f \u793a\u4f8b\u4e2d\u7684\u5b89\u88c5\u5305\u53ef\u80fd\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\u5efa\u8bae\u60a8\u4e0b\u8f7d\u6700\u65b0\u7684\u5b89\u88c5\u5305\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 OceanBase \u6570\u636e\u5e93\u53d1\u884c\u7248\u672c \u3002 \u8bbe\u7f6e\u672c\u5730\u955c\u50cf \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5c06 OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305\u8bbe\u7f6e\u4e3a\u672c\u5730\u955c\u50cf\uff1a obd mirror clone oceanbase-ce-libs-3.1.0-1.el7.x86_64.rpm obd mirror clone oceanbase-ce-3.1.0-1.el7.x86_64.rpm obd mirror clone obproxy-3.1.0-1.el7.x86_64.rpm \u540e\u7eed\u64cd\u4f5c OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u60a8\u9700\u8981\u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002\u8be6\u60c5\u53c2\u8003 \u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 \u3002","title":"\u4f7f\u7528 RPM \u5305\u5b89\u88c5 OceanBase \u6570\u636e\u5e93"},{"location":"4.installation-and-deployment/2.install-the-oceanbase-database-by-using-the-rpm-package/#rpm-oceanbase","text":"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 RPM \u5305\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u3002","title":"\u4f7f\u7528 RPM \u5305\u5b89\u88c5 OceanBase \u6570\u636e\u5e93"},{"location":"4.installation-and-deployment/2.install-the-oceanbase-database-by-using-the-rpm-package/#_1","text":"\u5728\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u786e\u8ba4\u5df2\u4e0b\u4fe1\u606f\uff1a \u60a8\u7684\u673a\u5668\u6ee1\u8db3\u8f6f\u786c\u4ef6\u8981\u6c42\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 \u8d44\u6e90\u51c6\u5907 \u3002 \u60a8\u62e5\u6709 root \u8d26\u6237\u6743\u9650\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"4.installation-and-deployment/2.install-the-oceanbase-database-by-using-the-rpm-package/#obd","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4e0b\u8f7d OBD \u5b89\u88c5\u5305\u3002 wget https://mirrors.aliyun.com/oceanbase/community/stable/el/7/x86_64/ob-deploy-1.0.0-1.el7.x86_64.rpm \u6ce8\u610f \u793a\u4f8b\u4e2d\u7684\u5b89\u88c5\u5305\u53ef\u80fd\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\u5efa\u8bae\u60a8\u4e0b\u8f7d\u6700\u65b0\u7684\u5b89\u88c5\u5305\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 OBD \u53d1\u884c\u7248\u672c \u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5b89\u88c5 OBD\u3002 yum install -y ob-deploy-1.0.0-1.el7.x86_64.rpm source /etc/profile.d/obd.sh","title":"\u5b89\u88c5 OBD"},{"location":"4.installation-and-deployment/2.install-the-oceanbase-database-by-using-the-rpm-package/#oceanbase","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4e0b\u8f7d OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305\uff1a wget https://mirrors.aliyun.com/oceanbase/community/stable/el/7/x86_64/oceanbase-ce-libs-3.1.0-1.el7.x86_64.rpm wget https://mirrors.aliyun.com/oceanbase/community/stable/el/7/x86_64/oceanbase-ce-3.1.0-1.el7.x86_64.rpm wget https://mirrors.aliyun.com/oceanbase/community/stable/el/7/x86_64/obproxy-3.1.0-1.el7.x86_64.rpm \u6ce8\u610f \u793a\u4f8b\u4e2d\u7684\u5b89\u88c5\u5305\u53ef\u80fd\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\u5efa\u8bae\u60a8\u4e0b\u8f7d\u6700\u65b0\u7684\u5b89\u88c5\u5305\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 OceanBase \u6570\u636e\u5e93\u53d1\u884c\u7248\u672c \u3002","title":"\u83b7\u53d6 OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305"},{"location":"4.installation-and-deployment/2.install-the-oceanbase-database-by-using-the-rpm-package/#_2","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5c06 OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305\u8bbe\u7f6e\u4e3a\u672c\u5730\u955c\u50cf\uff1a obd mirror clone oceanbase-ce-libs-3.1.0-1.el7.x86_64.rpm obd mirror clone oceanbase-ce-3.1.0-1.el7.x86_64.rpm obd mirror clone obproxy-3.1.0-1.el7.x86_64.rpm","title":"\u8bbe\u7f6e\u672c\u5730\u955c\u50cf"},{"location":"4.installation-and-deployment/2.install-the-oceanbase-database-by-using-the-rpm-package/#_3","text":"OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u60a8\u9700\u8981\u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002\u8be6\u60c5\u53c2\u8003 \u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"4.installation-and-deployment/3.get-the-oceanbase-database-by-using-source-code/","text":"\u4f7f\u7528\u6e90\u7801\u6784\u5efa OceanBase \u6570\u636e\u5e93 \u901a\u8fc7\u6e90\u4ee3\u7801\uff0c\u60a8\u53ef\u4ee5\u81ea\u884c\u6784\u5efa OceanBase \u6570\u636e\u5e93\uff0c\u5e76\u6d4b\u8bd5\u5176\u6700\u65b0\u7279\u6027\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u901a\u8fc7\u6e90\u4ee3\u7801\u6784\u5efaOceanBase \u6570\u636e\u5e93\u3002 \u524d\u63d0\u6761\u4ef6 \u5728\u6784\u5efa OceanBase \u6570\u636e\u5e93\u4e4b\u524d\uff0c\u786e\u4fdd\u60a8\u7684\u6784\u5efa\u673a\u5668\u6ee1\u8db3\u4ee5\u4e0b\u8981\u6c42\uff1a \u64cd\u4f5c\u7cfb\u7edf\uff1aCentOS 7/8 (x86 \u67b6\u6784) \u673a\u5668\u6570\u91cf\uff1a1 \u53f0 \u6700\u4f4e\u786c\u4ef6\u89c4\u683c\uff1a \u63a8\u8350\u786c\u4ef6\u89c4\u683c\uff1a \u83b7\u53d6\u6e90\u4ee3\u7801 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u514b\u9686 OceanBase \u6570\u636e\u5e93\u6e90\u4ee3\u7801\u5230\u60a8\u7684\u6784\u5efa\u673a\u5668\uff1a git clone git@${GIT_MIRROR_ADDRESS}/oceanbase/oceanbase \u6ce8\u610f \u514b\u9686\u4ee3\u7801\u9700\u8981\u5148\u5b89\u88c5\u914d\u7f6e Git\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Git \u6587\u6863 \u3002 \u83b7\u53d6\u6784\u5efa\u4f9d\u8d56 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u83b7\u53d6\u6784\u5efa\u4f9d\u8d56\uff1a \u65b9\u6848\u4e00\uff1a \u4f7f\u7528 yum \u6e90 \u83b7\u53d6\u4f9d\u8d56\u5305\uff08\u63a8\u8350\uff09 \u6784\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u60a8\u6240\u4f9d\u8d56\u7684\u5927\u591a\u6570\u5de5\u5177\u548c\u5e93\u90fd\u53ef\u4ee5\u901a\u8fc7\u516c\u5171yum\u6e90\u53ca OceanBase \u7684\u5b98\u65b9 yum \u6e90\u83b7\u53d6\u3002\u5982\u60a8\u7684\u64cd\u4f5c\u7cfb\u7edf\u5728\u6211\u4eec\u7684\u652f\u6301\u8303\u56f4\u5185\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u6211\u4eec\u9884\u5236\u7684\u811a\u672c\uff0c\u76f4\u63a5\u4e0b\u8f7d\u5bf9\u5e94\u7684\u8f6f\u4ef6\u5305\u4ee5\u8282\u7ea6\u60a8\u7684\u6784\u5efa\u65f6\u95f4 \u7b2c\u4e00\u6b65\u3001\u5b89\u88c5\u5fc5\u8981\u7684\u5de5\u5177 \u60a8\u9700\u8981\u63d0\u524d\u51c6\u5907\u597d\u4ee5\u4e0b\u8f6f\u4ef6\uff1a yum install wget rpm* cpio make glibc-devel glibc-headers \u7b2c\u4e8c\u6b65\u3001\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u786e\u8ba4\u60a8\u7684\u7f16\u8bd1\u673a\u53ef\u4ee5\u8bbf\u95eeOceanBase\u5b98\u65b9yum\u6e90 curl http://mirrors.aliyun.com/oceanbase/OceanBase.repo \u7b2c\u4e09\u6b65\u3001\u6267\u884c\u521d\u59cb\u5316\u811a\u672c\uff0c\u4e0b\u8f7d\u6784\u5efa\u4f9d\u8d56 # \u8fdb\u5165\u4ee3\u7801\u6839\u76ee\u5f55 cd oceanbase # \u6267\u884cbuild.sh\u811a\u672c\u5e76\u4f20\u5165init\u53c2\u6570 sh build.sh init \u65b9\u6848\u4e8c\uff1a\u81ea\u884c\u7f16\u8bd1\u4f9d\u8d56 \u60a8\u4e5f\u53ef\u4ee5\u5728 deps/3rd \u76ee\u5f55\u4e0b\u81ea\u884c\u7f16\u8bd1\u4f9d\u8d56\u3002\u6784\u5efa\u8f6f\u4ef6\u8981\u6c42\u89c1\u4e0b\u8868\uff1a |---------------------------|------------------|----------|----------|--------| | \u6240 \u9700\u8f6f \u4ef6 | \u63a8\u8350\u7248\u672c\uff08\u6700\u4f4e\u7248\u672c\uff09 | \u8f6f\u4ef6\u7528\u9014 | \u63d0\u4f9b\u4f9d\u8d56 | \u5fc5\u9009 | | cmake | 3.20.0 | \u6784\u5efa\u5de5\u5177 | \u662f | \u662f | | make | 3.8.2 | \u6784\u5efa\u5de5\u5177 | \u5426 | \u662f | | gcc | 5.2.0 | \u6784\u5efa\u5de5\u5177/\u4f9d\u8d56\u5e93 | \u662f | \u662f | | llvm/clang/lld | 11.0.1 (7.1.0) | \u6784\u5efa\u5de5\u5177 | \u662f | \u662f | | binutils | 2.30 | \u6784\u5efa\u5de5\u5177 | \u662f | \u5426 | | flex | 2.5.35 | \u4ee3\u7801\u751f\u6210 | \u662f | \u4ec5\u5f00\u53d1 | | python2 | 2.7(2.6) | \u4ee3\u7801\u751f\u6210 | \u5426 | \u4ec5\u5f00\u53d1 | | bison | 2.4.1 | \u4ee3\u7801\u751f\u6210 | \u662f | \u4ec5\u5f00\u53d1 | | ccache | 3.7.12 | \u6784\u5efa\u5de5\u5177 | \u662f | \u5426 | | isa-l | 2.22.0 | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | libaio | 0.3.112(0.3.109) | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | libcurl | 7.29.0 | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | libunwind | 1.5.0 | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | mariadb-connector-c | 3.1.12 | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | openssl-static | 1.0.1e | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | glibc-devel/glibc-headers | 2.17 | \u4f9d\u8d56\u5e93 | \u5426 | \u662f | | oss-c-sdk | 3.9.2 | \u4f9d\u8d56\u5e93 | \u5426 | \u5426 | | rpm* | 4.14.1(4.11) | \u6253\u5305\u5de5\u5177 | \u5426 | \u4ec5\u6253\u5305 | \u6784\u5efa/\u6253\u5305 OceanBase \u6570\u636e\u5e93 OceanBase \u6570\u636e\u5e93\u4f7f\u7528 CMake \u4f5c\u4e3a\u6784\u5efa\u5de5\u5177\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 CMake \u547d\u4ee4\u81ea\u884c\u521b\u5efa\u76ee\u5f55\u8fdb\u884c\u6784\u5efa\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 build.sh \u811a\u672c\u4f7f\u7528\u9884\u5236\u7684\u6784\u5efa\u9009\u9879\u8fdb\u884c\u6784\u5efa\uff1a DEBUG \u6784\u5efa # \u5728\u6e90\u7801\u76ee\u5f55\u4e0b\u6267\u884cdebug\u7248\u7684\u9884\u5236\u6784\u5efa\u547d\u4ee4 sh build.sh debug # \u8fdb\u5165\u751f\u6210\u7684 debug \u6784\u5efa\u76ee\u5f55 cd build_debug # \u8fdb\u884c\u6784\u5efa make -j{N} observer # \u67e5\u770b\u6784\u5efa\u4ea7\u7269 stat src/observer/observer RELEASE \u6784\u5efa # \u5728\u6e90\u7801\u76ee\u5f55\u4e0b\u6267\u884c release \u7248\u7684\u9884\u5236\u6784\u5efa\u547d\u4ee4 sh build.sh release # \u8fdb\u5165\u751f\u6210\u7684 release \u6784\u5efa\u76ee\u5f55 cd build_release # \u8fdb\u884c\u6784\u5efa make -j{N} observer # \u67e5\u770b\u6784\u5efa\u4ea7\u7269 stat src/observer/observer \u521b\u5efa RPM \u5305 # \u5728\u6e90\u7801\u76ee\u5f55\u4e0b\u6267\u884c rpm\u5305 \u7684\u9884\u5236\u6784\u5efa\u547d\u4ee4 sh build.sh rpm # \u8fdb\u5165\u751f\u6210\u7684 rpm \u6253\u5305\u76ee\u5f55 cd build_rpm # \u6784\u5efa rpm \u5305\u4f9d\u8d56\u7684\u6587\u4ef6 make -j{N} rpm # \u67e5\u770b\u6784\u5efa\u4ea7\u7269 stat *rpm \u8bf4\u660e \u4e3a\u52a0\u5feb\u6784\u5efa\u901f\u5ea6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 -j \u53c2\u6570\u5e76\u884c\u6784\u5efa\u3002\u5e76\u884c\u6570\u91cf N \u5efa\u8bae\u4e3a min(CPU\uff08Core\uff09* 2\uff0c\u5185\u5b58\uff08GB) / 2)\u3002 \u6784\u5efa\u9009\u9879\u8bf4\u660e \u6784\u5efa\u53c2\u6570\u8bf4\u660e\u89c1\u4e0b\u8868\uff1a |----------------------------|------------|------------------------------------------| | \u6784\u5efa\u9009\u9879 | \u9ed8\u8ba4\u503c | \u8f6f\u4ef6\u7528\u9014 | | OB_USE_LLVM_LIBTOOLS | ON | \u4f7f\u7528 llvm-ar/ld.lld \u7b49\u4f5c\u4e3a\u5e93\u5de5\u5177\uff0c\u5173\u95ed\u5219\u4f7f\u7528 binutils\u3002 | | OB_USE_CLANG | ON | \u4f7f\u7528 clang \u4f5c\u4e3a\u7f16\u8bd1\u5668\uff0c\u5173\u95ed\u5219\u4f7f\u7528gcc\u3002 | | OB_COMPRESS_DEBUG_SECTIONS | OFF | \u538b\u7f29\u4e8c\u8fdb\u5236\u4e2d\u7684 DEBUG SECTIONS\u3002 | | OB_STATIC_LINK_LGPL_DEPS | ON\uff08\u6253\u5305\u65f6OFF\uff09 | \u9759\u6001\u94fe\u63a5LGPL\u534f\u8bae\u7684\u4f9d\u8d56 | | OB_ENABLE_PCH | ON | \u542f\u7528\u9884\u7f16\u8bd1\u5934 | | OB_ENALBE_UNITY | ON | \u542f\u7528\u8054\u5408\u6784\u5efa | | OB_USE_CCACHE | OFF | \u542f\u7528\u7f16\u8bd1\u7f13\u5b58 | | ENABLE_DEBUG_LOG | OFF | \u5f00\u542f\u8c03\u8bd5\u65e5\u5fd7\u3002 | \u540e\u7eed\u64cd\u4f5c \u60a8\u5728\u6210\u529f\u6784\u5efa OceanBase \u6570\u636e\u5e93\u4e4b\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 \u3002","title":"\u4f7f\u7528\u6e90\u7801\u6784\u5efa OceanBase \u6570\u636e\u5e93"},{"location":"4.installation-and-deployment/3.get-the-oceanbase-database-by-using-source-code/#oceanbase","text":"\u901a\u8fc7\u6e90\u4ee3\u7801\uff0c\u60a8\u53ef\u4ee5\u81ea\u884c\u6784\u5efa OceanBase \u6570\u636e\u5e93\uff0c\u5e76\u6d4b\u8bd5\u5176\u6700\u65b0\u7279\u6027\u3002\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u901a\u8fc7\u6e90\u4ee3\u7801\u6784\u5efaOceanBase \u6570\u636e\u5e93\u3002","title":"\u4f7f\u7528\u6e90\u7801\u6784\u5efa OceanBase \u6570\u636e\u5e93"},{"location":"4.installation-and-deployment/3.get-the-oceanbase-database-by-using-source-code/#_1","text":"\u5728\u6784\u5efa OceanBase \u6570\u636e\u5e93\u4e4b\u524d\uff0c\u786e\u4fdd\u60a8\u7684\u6784\u5efa\u673a\u5668\u6ee1\u8db3\u4ee5\u4e0b\u8981\u6c42\uff1a \u64cd\u4f5c\u7cfb\u7edf\uff1aCentOS 7/8 (x86 \u67b6\u6784) \u673a\u5668\u6570\u91cf\uff1a1 \u53f0 \u6700\u4f4e\u786c\u4ef6\u89c4\u683c\uff1a \u63a8\u8350\u786c\u4ef6\u89c4\u683c\uff1a","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"4.installation-and-deployment/3.get-the-oceanbase-database-by-using-source-code/#_2","text":"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u514b\u9686 OceanBase \u6570\u636e\u5e93\u6e90\u4ee3\u7801\u5230\u60a8\u7684\u6784\u5efa\u673a\u5668\uff1a git clone git@${GIT_MIRROR_ADDRESS}/oceanbase/oceanbase \u6ce8\u610f \u514b\u9686\u4ee3\u7801\u9700\u8981\u5148\u5b89\u88c5\u914d\u7f6e Git\u3002\u8be6\u7ec6\u4fe1\u606f\uff0c\u53c2\u8003 Git \u6587\u6863 \u3002","title":"\u83b7\u53d6\u6e90\u4ee3\u7801"},{"location":"4.installation-and-deployment/3.get-the-oceanbase-database-by-using-source-code/#_3","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u83b7\u53d6\u6784\u5efa\u4f9d\u8d56\uff1a \u65b9\u6848\u4e00\uff1a \u4f7f\u7528 yum \u6e90 \u83b7\u53d6\u4f9d\u8d56\u5305\uff08\u63a8\u8350\uff09 \u6784\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u60a8\u6240\u4f9d\u8d56\u7684\u5927\u591a\u6570\u5de5\u5177\u548c\u5e93\u90fd\u53ef\u4ee5\u901a\u8fc7\u516c\u5171yum\u6e90\u53ca OceanBase \u7684\u5b98\u65b9 yum \u6e90\u83b7\u53d6\u3002\u5982\u60a8\u7684\u64cd\u4f5c\u7cfb\u7edf\u5728\u6211\u4eec\u7684\u652f\u6301\u8303\u56f4\u5185\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u6211\u4eec\u9884\u5236\u7684\u811a\u672c\uff0c\u76f4\u63a5\u4e0b\u8f7d\u5bf9\u5e94\u7684\u8f6f\u4ef6\u5305\u4ee5\u8282\u7ea6\u60a8\u7684\u6784\u5efa\u65f6\u95f4 \u7b2c\u4e00\u6b65\u3001\u5b89\u88c5\u5fc5\u8981\u7684\u5de5\u5177 \u60a8\u9700\u8981\u63d0\u524d\u51c6\u5907\u597d\u4ee5\u4e0b\u8f6f\u4ef6\uff1a yum install wget rpm* cpio make glibc-devel glibc-headers \u7b2c\u4e8c\u6b65\u3001\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u786e\u8ba4\u60a8\u7684\u7f16\u8bd1\u673a\u53ef\u4ee5\u8bbf\u95eeOceanBase\u5b98\u65b9yum\u6e90 curl http://mirrors.aliyun.com/oceanbase/OceanBase.repo \u7b2c\u4e09\u6b65\u3001\u6267\u884c\u521d\u59cb\u5316\u811a\u672c\uff0c\u4e0b\u8f7d\u6784\u5efa\u4f9d\u8d56 # \u8fdb\u5165\u4ee3\u7801\u6839\u76ee\u5f55 cd oceanbase # \u6267\u884cbuild.sh\u811a\u672c\u5e76\u4f20\u5165init\u53c2\u6570 sh build.sh init \u65b9\u6848\u4e8c\uff1a\u81ea\u884c\u7f16\u8bd1\u4f9d\u8d56 \u60a8\u4e5f\u53ef\u4ee5\u5728 deps/3rd \u76ee\u5f55\u4e0b\u81ea\u884c\u7f16\u8bd1\u4f9d\u8d56\u3002\u6784\u5efa\u8f6f\u4ef6\u8981\u6c42\u89c1\u4e0b\u8868\uff1a |---------------------------|------------------|----------|----------|--------| | \u6240 \u9700\u8f6f \u4ef6 | \u63a8\u8350\u7248\u672c\uff08\u6700\u4f4e\u7248\u672c\uff09 | \u8f6f\u4ef6\u7528\u9014 | \u63d0\u4f9b\u4f9d\u8d56 | \u5fc5\u9009 | | cmake | 3.20.0 | \u6784\u5efa\u5de5\u5177 | \u662f | \u662f | | make | 3.8.2 | \u6784\u5efa\u5de5\u5177 | \u5426 | \u662f | | gcc | 5.2.0 | \u6784\u5efa\u5de5\u5177/\u4f9d\u8d56\u5e93 | \u662f | \u662f | | llvm/clang/lld | 11.0.1 (7.1.0) | \u6784\u5efa\u5de5\u5177 | \u662f | \u662f | | binutils | 2.30 | \u6784\u5efa\u5de5\u5177 | \u662f | \u5426 | | flex | 2.5.35 | \u4ee3\u7801\u751f\u6210 | \u662f | \u4ec5\u5f00\u53d1 | | python2 | 2.7(2.6) | \u4ee3\u7801\u751f\u6210 | \u5426 | \u4ec5\u5f00\u53d1 | | bison | 2.4.1 | \u4ee3\u7801\u751f\u6210 | \u662f | \u4ec5\u5f00\u53d1 | | ccache | 3.7.12 | \u6784\u5efa\u5de5\u5177 | \u662f | \u5426 | | isa-l | 2.22.0 | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | libaio | 0.3.112(0.3.109) | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | libcurl | 7.29.0 | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | libunwind | 1.5.0 | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | mariadb-connector-c | 3.1.12 | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | openssl-static | 1.0.1e | \u4f9d\u8d56\u5e93 | \u662f | \u662f | | glibc-devel/glibc-headers | 2.17 | \u4f9d\u8d56\u5e93 | \u5426 | \u662f | | oss-c-sdk | 3.9.2 | \u4f9d\u8d56\u5e93 | \u5426 | \u5426 | | rpm* | 4.14.1(4.11) | \u6253\u5305\u5de5\u5177 | \u5426 | \u4ec5\u6253\u5305 |","title":"\u83b7\u53d6\u6784\u5efa\u4f9d\u8d56"},{"location":"4.installation-and-deployment/3.get-the-oceanbase-database-by-using-source-code/#oceanbase_1","text":"OceanBase \u6570\u636e\u5e93\u4f7f\u7528 CMake \u4f5c\u4e3a\u6784\u5efa\u5de5\u5177\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 CMake \u547d\u4ee4\u81ea\u884c\u521b\u5efa\u76ee\u5f55\u8fdb\u884c\u6784\u5efa\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 build.sh \u811a\u672c\u4f7f\u7528\u9884\u5236\u7684\u6784\u5efa\u9009\u9879\u8fdb\u884c\u6784\u5efa\uff1a DEBUG \u6784\u5efa # \u5728\u6e90\u7801\u76ee\u5f55\u4e0b\u6267\u884cdebug\u7248\u7684\u9884\u5236\u6784\u5efa\u547d\u4ee4 sh build.sh debug # \u8fdb\u5165\u751f\u6210\u7684 debug \u6784\u5efa\u76ee\u5f55 cd build_debug # \u8fdb\u884c\u6784\u5efa make -j{N} observer # \u67e5\u770b\u6784\u5efa\u4ea7\u7269 stat src/observer/observer RELEASE \u6784\u5efa # \u5728\u6e90\u7801\u76ee\u5f55\u4e0b\u6267\u884c release \u7248\u7684\u9884\u5236\u6784\u5efa\u547d\u4ee4 sh build.sh release # \u8fdb\u5165\u751f\u6210\u7684 release \u6784\u5efa\u76ee\u5f55 cd build_release # \u8fdb\u884c\u6784\u5efa make -j{N} observer # \u67e5\u770b\u6784\u5efa\u4ea7\u7269 stat src/observer/observer \u521b\u5efa RPM \u5305 # \u5728\u6e90\u7801\u76ee\u5f55\u4e0b\u6267\u884c rpm\u5305 \u7684\u9884\u5236\u6784\u5efa\u547d\u4ee4 sh build.sh rpm # \u8fdb\u5165\u751f\u6210\u7684 rpm \u6253\u5305\u76ee\u5f55 cd build_rpm # \u6784\u5efa rpm \u5305\u4f9d\u8d56\u7684\u6587\u4ef6 make -j{N} rpm # \u67e5\u770b\u6784\u5efa\u4ea7\u7269 stat *rpm \u8bf4\u660e \u4e3a\u52a0\u5feb\u6784\u5efa\u901f\u5ea6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 -j \u53c2\u6570\u5e76\u884c\u6784\u5efa\u3002\u5e76\u884c\u6570\u91cf N \u5efa\u8bae\u4e3a min(CPU\uff08Core\uff09* 2\uff0c\u5185\u5b58\uff08GB) / 2)\u3002","title":"\u6784\u5efa/\u6253\u5305 OceanBase \u6570\u636e\u5e93"},{"location":"4.installation-and-deployment/3.get-the-oceanbase-database-by-using-source-code/#_4","text":"\u6784\u5efa\u53c2\u6570\u8bf4\u660e\u89c1\u4e0b\u8868\uff1a |----------------------------|------------|------------------------------------------| | \u6784\u5efa\u9009\u9879 | \u9ed8\u8ba4\u503c | \u8f6f\u4ef6\u7528\u9014 | | OB_USE_LLVM_LIBTOOLS | ON | \u4f7f\u7528 llvm-ar/ld.lld \u7b49\u4f5c\u4e3a\u5e93\u5de5\u5177\uff0c\u5173\u95ed\u5219\u4f7f\u7528 binutils\u3002 | | OB_USE_CLANG | ON | \u4f7f\u7528 clang \u4f5c\u4e3a\u7f16\u8bd1\u5668\uff0c\u5173\u95ed\u5219\u4f7f\u7528gcc\u3002 | | OB_COMPRESS_DEBUG_SECTIONS | OFF | \u538b\u7f29\u4e8c\u8fdb\u5236\u4e2d\u7684 DEBUG SECTIONS\u3002 | | OB_STATIC_LINK_LGPL_DEPS | ON\uff08\u6253\u5305\u65f6OFF\uff09 | \u9759\u6001\u94fe\u63a5LGPL\u534f\u8bae\u7684\u4f9d\u8d56 | | OB_ENABLE_PCH | ON | \u542f\u7528\u9884\u7f16\u8bd1\u5934 | | OB_ENALBE_UNITY | ON | \u542f\u7528\u8054\u5408\u6784\u5efa | | OB_USE_CCACHE | OFF | \u542f\u7528\u7f16\u8bd1\u7f13\u5b58 | | ENABLE_DEBUG_LOG | OFF | \u5f00\u542f\u8c03\u8bd5\u65e5\u5fd7\u3002 |","title":"\u6784\u5efa\u9009\u9879\u8bf4\u660e"},{"location":"4.installation-and-deployment/3.get-the-oceanbase-database-by-using-source-code/#_5","text":"\u60a8\u5728\u6210\u529f\u6784\u5efa OceanBase \u6570\u636e\u5e93\u4e4b\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u3002\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003 \u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 \u3002","title":"\u540e\u7eed\u64cd\u4f5c"},{"location":"4.installation-and-deployment/4.optional-set-password-free-ssh-logon/","text":"\uff08\u53ef\u9009\uff09\u8bbe\u7f6e\u65e0\u5bc6\u7801 SSH \u767b\u5f55 \u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4e3a\u96c6\u7fa4\u5185\u7684\u591a\u53f0\u673a\u5668\u8bbe\u7f6e\u65e0\u5bc6\u7801 SSH \u767b\u5f55\u3002\u5982\u679c\u60a8\u5728\u5355\u673a\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\uff0c\u5219\u65e0\u9700\u8bbe\u7f6e\u3002 \u540d\u8bcd\u89e3\u91ca \u4e2d\u63a7\u673a\u5668 \u5b58\u50a8 OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305\u548c\u96c6\u7fa4\u914d\u7f6e\u4fe1\u606f\u7684\u673a\u5668\u3002 \u76ee\u6807\u673a\u5668 \u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u7684\u673a\u5668\u3002 \u524d\u63d0\u6761\u4ef6 \u8bbe\u7f6e\u65e0\u5bc6\u7801 SSH \u767b\u5f55\u524d\uff0c\u786e\u4fdd\u60a8\u62e5\u6709\u76ee\u6807\u673a\u5668\u7684 root \u7528\u6237\u6743\u9650\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u8bbe\u7f6e\u65e0\u5bc6\u7801 SSH \u767b\u5f55\uff1a \u5728\u4e2d\u63a7\u673a\u5668\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u5bc6\u94a5\u662f\u5426\u5b58\u5728\uff1a ls ~/.ssh/id_rsa.pub \u5982\u679c\u5bc6\u94a5\u5df2\u7ecf\u5b58\u5728\uff0c\u5219\u65e0\u9700\u751f\u6210\u65b0\u7684\u5bc6\u94a5\u3002 \uff08\u53ef\u9009\uff09\u5728\u4e2d\u63a7\u673a\u5668\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u751f\u6210 SSH \u516c\u94a5\u548c\u79c1\u94a5\uff1a ssh-keygen -t rsa \u5728\u4e2d\u63a7\u673a\u5668\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06\u7b2c\u4e00\u6b65\u751f\u6210\u7684\u516c\u94a5\u4e0a\u4f20\u81f3\u76ee\u6807\u670d\u52a1\u5668\u7684 .ssh \u6587\u4ef6\u5939\uff1a scp ~/.ssh/id_rsa.pub root@ :~/.ssh/ \u5728\u76ee\u6807\u673a\u5668\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5c06\u4e2d\u63a7\u673a\u5668\u4f20\u5165\u7684\u516c\u94a5\u5199\u5230 authorized_keys\uff1a cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys \u5728\u4e2d\u63a7\u673a\u5668\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u767b\u5f55\u76ee\u6807\u673a\u5668\uff1a ssh root@ \u91cd\u590d\u6b65\u9aa4 3-5\uff0c\u4e3a\u6bcf\u53f0\u673a\u5668\u8bbe\u7f6e\u65e0\u5bc6\u7801\u767b\u5f55 SSH\u3002 \u6ce8\u610f \u4e0a\u8ff0\u547d\u4ee4\u5747\u4ec5\u9700\u5728\u4e2d\u63a7\u673a\u5668\u4e0a\u6267\u884c\u3002","title":"4.optional set password free ssh logon"},{"location":"4.installation-and-deployment/4.optional-set-password-free-ssh-logon/#ssh","text":"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4e3a\u96c6\u7fa4\u5185\u7684\u591a\u53f0\u673a\u5668\u8bbe\u7f6e\u65e0\u5bc6\u7801 SSH \u767b\u5f55\u3002\u5982\u679c\u60a8\u5728\u5355\u673a\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\uff0c\u5219\u65e0\u9700\u8bbe\u7f6e\u3002","title":"\uff08\u53ef\u9009\uff09\u8bbe\u7f6e\u65e0\u5bc6\u7801 SSH \u767b\u5f55"},{"location":"4.installation-and-deployment/4.optional-set-password-free-ssh-logon/#_1","text":"\u4e2d\u63a7\u673a\u5668 \u5b58\u50a8 OceanBase \u6570\u636e\u5e93\u5b89\u88c5\u5305\u548c\u96c6\u7fa4\u914d\u7f6e\u4fe1\u606f\u7684\u673a\u5668\u3002 \u76ee\u6807\u673a\u5668 \u5b89\u88c5 OceanBase \u6570\u636e\u5e93\u7684\u673a\u5668\u3002","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"4.installation-and-deployment/4.optional-set-password-free-ssh-logon/#_2","text":"\u8bbe\u7f6e\u65e0\u5bc6\u7801 SSH \u767b\u5f55\u524d\uff0c\u786e\u4fdd\u60a8\u62e5\u6709\u76ee\u6807\u673a\u5668\u7684 root \u7528\u6237\u6743\u9650\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"4.installation-and-deployment/4.optional-set-password-free-ssh-logon/#_3","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u8bbe\u7f6e\u65e0\u5bc6\u7801 SSH \u767b\u5f55\uff1a \u5728\u4e2d\u63a7\u673a\u5668\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u5bc6\u94a5\u662f\u5426\u5b58\u5728\uff1a ls ~/.ssh/id_rsa.pub \u5982\u679c\u5bc6\u94a5\u5df2\u7ecf\u5b58\u5728\uff0c\u5219\u65e0\u9700\u751f\u6210\u65b0\u7684\u5bc6\u94a5\u3002 \uff08\u53ef\u9009\uff09\u5728\u4e2d\u63a7\u673a\u5668\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u751f\u6210 SSH \u516c\u94a5\u548c\u79c1\u94a5\uff1a ssh-keygen -t rsa \u5728\u4e2d\u63a7\u673a\u5668\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06\u7b2c\u4e00\u6b65\u751f\u6210\u7684\u516c\u94a5\u4e0a\u4f20\u81f3\u76ee\u6807\u670d\u52a1\u5668\u7684 .ssh \u6587\u4ef6\u5939\uff1a scp ~/.ssh/id_rsa.pub root@ :~/.ssh/ \u5728\u76ee\u6807\u673a\u5668\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5c06\u4e2d\u63a7\u673a\u5668\u4f20\u5165\u7684\u516c\u94a5\u5199\u5230 authorized_keys\uff1a cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys \u5728\u4e2d\u63a7\u673a\u5668\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u767b\u5f55\u76ee\u6807\u673a\u5668\uff1a ssh root@ \u91cd\u590d\u6b65\u9aa4 3-5\uff0c\u4e3a\u6bcf\u53f0\u673a\u5668\u8bbe\u7f6e\u65e0\u5bc6\u7801\u767b\u5f55 SSH\u3002 \u6ce8\u610f \u4e0a\u8ff0\u547d\u4ee4\u5747\u4ec5\u9700\u5728\u4e2d\u63a7\u673a\u5668\u4e0a\u6267\u884c\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"},{"location":"4.installation-and-deployment/5.optional-configuring-clock-sources/","text":"\uff08\u53ef\u9009\uff09\u914d\u7f6e\u65f6\u949f\u6e90 \u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4e3a\u96c6\u7fa4\u5185\u7684\u591a\u53f0\u673a\u5668\u914d\u7f6e NTP \u65f6\u949f\u6e90\u3002\u5982\u679c\u60a8\u5728\u5355\u673a\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\uff0c\u5219\u65e0\u9700\u8bbe\u7f6e\u3002 \u5982\u679c\u60a8\u4f7f\u7528\u96c6\u7fa4\u5b89\u88c5 OceanBase\uff0c\u5219\u9700\u8981\u4fdd\u8bc1\u96c6\u7fa4\u5185\u5404\u673a\u5668\u7684\u65f6\u95f4\u540c\u6b65\u3002\u5426\u5219\u96c6\u7fa4\u65e0\u6cd5\u542f\u52a8\uff0c\u670d\u52a1\u5728\u8fd0\u884c\u65f6\u4e5f\u4f1a\u51fa\u73b0\u5f02\u5e38\u3002\u5982\u679c\u60a8\u5df2\u914d\u7f6e NTP \u65f6\u949f\u540c\u6b65\uff0c\u5219\u65e0\u9700\u91cd\u65b0\u914d\u7f6e\u3002 \u524d\u63d0\u6761\u4ef6 \u914d\u7f6e NTP \u65f6\u949f\u6e90\u524d\uff0c\u786e\u4fdd\u60a8\u62e5\u6709\u6240\u6709\u673a\u5668\u7684 root \u7528\u6237\u6743\u9650\u3002 \u64cd\u4f5c\u6b65\u9aa4 \u6309\u4ee5\u4e0b\u6b65\u9aa4\u914d\u7f6e NTP \u65f6\u949f\u540c\u6b65\uff1a \u5728\u6bcf\u53f0\u673a\u5668\u4e0a\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 NTP\uff1a yum install ntp ntpdate -y \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u670d\u52a1\u5668\u7684 NTP \u8fde\u63a5\uff1a \u5f53\u7269\u7406\u673a\u4e0e\u65f6\u949f\u670d\u52a1\u5668\u7684\u65f6\u95f4\u8bef\u5dee\u5728 50ms \u4ee5\u5185\u65f6\uff0c\u7cfb\u7edf\u5373\u8ba4\u4e3a\u65f6\u949f\u662f\u540c\u6b65\u7684\u3002 [root@centos-01 /root]#ntpq -4p remote refid st t when poll reach delay offset jitter ============================================================================== *time6.aliyun.co 10.137.38.86 2 u 712 1024 377 21.951 4.253 4.208 \uff08\u53ef\u9009\uff09\u5f00\u542f NTP \u670d\u52a1\u7aef\u670d\u52a1 \u5982\u679c\u60a8\u5df2\u7ecf\u6709\u4e86 NTP \u670d\u52a1\u7aef\u670d\u52a1\u5668\uff0c\u5219\u53ef\u8df3\u8fc7\u6b64\u6b65\u9aa4\u3002\u672c\u6587\u6863\u4f7f\u7528\u76ee\u6807\u673a\u5668 10.244.0.114 \u4f5c\u4e3a NTP \u670d\u52a1\u7aef\u670d\u52a1\u5668\u3002 1. \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\u3002 \u4ee5 root \u7528\u6237\u767b\u5f55 NTP \u670d\u52a1\u7aef\u670d\u52a1\u5668\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff1a vi /etc/ntp.conf \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a server <yout_ntp_server_ip> \u4fdd\u5b58\u5e76\u5173\u95ed\u914d\u7f6e\u6587\u4ef6\u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u91cd\u542f NTP \u670d\u52a1\u7aef\u670d\u52a1\uff1a service ntpd restart \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b NTP \u670d\u52a1\u7aef\u670d\u52a1\u662f\u5426\u542f\u52a8\u6210\u529f\uff1a ps -ef | grep -i ntpd \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u8bbe\u7f6e NTP \u670d\u52a1\u5f00\u673a\u81ea\u542f\u52a8\uff1a chkconfig ntpd on \u5f00\u542f NTP \u5ba2\u6237\u7aef\u670d\u52a1\u3002 \u6ce8\u610f NTP \u670d\u52a1\u7aef\u670d\u52a1\u542f\u52a8\u540e\uff0c\u60a8\u9700\u8981\u7b49\u5f85 5 \u5206\u949f\u518d\u5f00\u542f NTP \u5ba2\u6237\u7aef\u670d\u52a1\u3002\u5426\u5219\u7cfb\u7edf\u4f1a\u63d0\u793a \"no server suitable for synchronization found\"\u3002 1. \u4f7f\u7528 root \u7528\u6237\u767b\u5f55 OceanBase \u6570\u636e\u5e93\u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u505c\u6b62 NTP \u670d\u52a1\uff1a service ntpd stop \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u540c\u6b65 NTP \u670d\u52a1\u7aef\u65f6\u95f4\uff1a ntpdate 10.244.0.114 \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6253\u5f00\u914d\u7f6e\u6587\u4ef6\uff1a vi /etc/ntp.conf \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a server <yout_ntp_server_ip> \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u542f\u52a8 NTP \u670d\u52a1\uff1a /etc/init.d/ntpd start \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u9a8c\u8bc1\u914d\u7f6e\u662f\u5426\u6210\u529f\uff1a ntpstat \u8fd4\u56de\u4ee5\u4e0b\u7ed3\u679c\uff1a synchronised to NTP server (10.143.0.44) at stratum 3 time correct to within 2 ms polling server every 64 s timedatectl \u8fd4\u56de\u4ee5\u4e0b\u7ed3\u679c\uff1a Local time: Thu 2021-04-22 11:02:32 CST Universal time: Thu 2021-04-22 03:02:32 UTC RTC time: Thu 2021-04-22 11:02:32 Time zone: Asia/Shanghai (CST, +0800) NTP enabled: yes NTP synchronized: yes RTC in local TZ: yes DST active: n/a \u8bf4\u660e NTP \u670d\u52a1\u751f\u6548\u3002","title":"5.optional configuring clock sources"},{"location":"4.installation-and-deployment/5.optional-configuring-clock-sources/#_1","text":"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u4e3a\u96c6\u7fa4\u5185\u7684\u591a\u53f0\u673a\u5668\u914d\u7f6e NTP \u65f6\u949f\u6e90\u3002\u5982\u679c\u60a8\u5728\u5355\u673a\u5b89\u88c5 OceanBase \u6570\u636e\u5e93\uff0c\u5219\u65e0\u9700\u8bbe\u7f6e\u3002 \u5982\u679c\u60a8\u4f7f\u7528\u96c6\u7fa4\u5b89\u88c5 OceanBase\uff0c\u5219\u9700\u8981\u4fdd\u8bc1\u96c6\u7fa4\u5185\u5404\u673a\u5668\u7684\u65f6\u95f4\u540c\u6b65\u3002\u5426\u5219\u96c6\u7fa4\u65e0\u6cd5\u542f\u52a8\uff0c\u670d\u52a1\u5728\u8fd0\u884c\u65f6\u4e5f\u4f1a\u51fa\u73b0\u5f02\u5e38\u3002\u5982\u679c\u60a8\u5df2\u914d\u7f6e NTP \u65f6\u949f\u540c\u6b65\uff0c\u5219\u65e0\u9700\u91cd\u65b0\u914d\u7f6e\u3002","title":"\uff08\u53ef\u9009\uff09\u914d\u7f6e\u65f6\u949f\u6e90"},{"location":"4.installation-and-deployment/5.optional-configuring-clock-sources/#_2","text":"\u914d\u7f6e NTP \u65f6\u949f\u6e90\u524d\uff0c\u786e\u4fdd\u60a8\u62e5\u6709\u6240\u6709\u673a\u5668\u7684 root \u7528\u6237\u6743\u9650\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"4.installation-and-deployment/5.optional-configuring-clock-sources/#_3","text":"\u6309\u4ee5\u4e0b\u6b65\u9aa4\u914d\u7f6e NTP \u65f6\u949f\u540c\u6b65\uff1a \u5728\u6bcf\u53f0\u673a\u5668\u4e0a\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 NTP\uff1a yum install ntp ntpdate -y \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u670d\u52a1\u5668\u7684 NTP \u8fde\u63a5\uff1a \u5f53\u7269\u7406\u673a\u4e0e\u65f6\u949f\u670d\u52a1\u5668\u7684\u65f6\u95f4\u8bef\u5dee\u5728 50ms \u4ee5\u5185\u65f6\uff0c\u7cfb\u7edf\u5373\u8ba4\u4e3a\u65f6\u949f\u662f\u540c\u6b65\u7684\u3002 [root@centos-01 /root]#ntpq -4p remote refid st t when poll reach delay offset jitter ============================================================================== *time6.aliyun.co 10.137.38.86 2 u 712 1024 377 21.951 4.253 4.208 \uff08\u53ef\u9009\uff09\u5f00\u542f NTP \u670d\u52a1\u7aef\u670d\u52a1 \u5982\u679c\u60a8\u5df2\u7ecf\u6709\u4e86 NTP \u670d\u52a1\u7aef\u670d\u52a1\u5668\uff0c\u5219\u53ef\u8df3\u8fc7\u6b64\u6b65\u9aa4\u3002\u672c\u6587\u6863\u4f7f\u7528\u76ee\u6807\u673a\u5668 10.244.0.114 \u4f5c\u4e3a NTP \u670d\u52a1\u7aef\u670d\u52a1\u5668\u3002 1. \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\u3002 \u4ee5 root \u7528\u6237\u767b\u5f55 NTP \u670d\u52a1\u7aef\u670d\u52a1\u5668\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff1a vi /etc/ntp.conf \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a server <yout_ntp_server_ip> \u4fdd\u5b58\u5e76\u5173\u95ed\u914d\u7f6e\u6587\u4ef6\u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u91cd\u542f NTP \u670d\u52a1\u7aef\u670d\u52a1\uff1a service ntpd restart \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b NTP \u670d\u52a1\u7aef\u670d\u52a1\u662f\u5426\u542f\u52a8\u6210\u529f\uff1a ps -ef | grep -i ntpd \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u8bbe\u7f6e NTP \u670d\u52a1\u5f00\u673a\u81ea\u542f\u52a8\uff1a chkconfig ntpd on \u5f00\u542f NTP \u5ba2\u6237\u7aef\u670d\u52a1\u3002 \u6ce8\u610f NTP \u670d\u52a1\u7aef\u670d\u52a1\u542f\u52a8\u540e\uff0c\u60a8\u9700\u8981\u7b49\u5f85 5 \u5206\u949f\u518d\u5f00\u542f NTP \u5ba2\u6237\u7aef\u670d\u52a1\u3002\u5426\u5219\u7cfb\u7edf\u4f1a\u63d0\u793a \"no server suitable for synchronization found\"\u3002 1. \u4f7f\u7528 root \u7528\u6237\u767b\u5f55 OceanBase \u6570\u636e\u5e93\u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u505c\u6b62 NTP \u670d\u52a1\uff1a service ntpd stop \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u540c\u6b65 NTP \u670d\u52a1\u7aef\u65f6\u95f4\uff1a ntpdate 10.244.0.114 \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\u3002 \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6253\u5f00\u914d\u7f6e\u6587\u4ef6\uff1a vi /etc/ntp.conf \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a server <yout_ntp_server_ip> \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u542f\u52a8 NTP \u670d\u52a1\uff1a /etc/init.d/ntpd start \u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u9a8c\u8bc1\u914d\u7f6e\u662f\u5426\u6210\u529f\uff1a ntpstat \u8fd4\u56de\u4ee5\u4e0b\u7ed3\u679c\uff1a synchronised to NTP server (10.143.0.44) at stratum 3 time correct to within 2 ms polling server every 64 s timedatectl \u8fd4\u56de\u4ee5\u4e0b\u7ed3\u679c\uff1a Local time: Thu 2021-04-22 11:02:32 CST Universal time: Thu 2021-04-22 03:02:32 UTC RTC time: Thu 2021-04-22 11:02:32 Time zone: Asia/Shanghai (CST, +0800) NTP enabled: yes NTP synchronized: yes RTC in local TZ: yes DST active: n/a \u8bf4\u660e NTP \u670d\u52a1\u751f\u6548\u3002","title":"\u64cd\u4f5c\u6b65\u9aa4"}]}